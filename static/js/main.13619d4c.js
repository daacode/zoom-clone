/*! For license information please see main.13619d4c.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},371:function(e,t,n){var r;!function(i){var a=Object.hasOwnProperty,o=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},s="object"==typeof process&&"function"==typeof process.nextTick,c="function"===typeof Symbol,u="object"===typeof Reflect,l="function"===typeof setImmediate?setImmediate:setTimeout,d=c?u&&"function"===typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function f(){this._events={},this._conf&&h.call(this,this._conf)}function h(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==i&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function p(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),"undefined"!==typeof process&&process.emitWarning){var r=new Error(n);r.name="MaxListenersExceededWarning",r.emitter=this,r.count=e,process.emitWarning(r)}else console.error(n),console.trace&&console.trace()}var v=function(e,t,n){var r=arguments.length;switch(r){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var i=new Array(r);r--;)i[r]=arguments[r];return i}};function m(e,t){for(var n={},r=e.length,a=t?value.length:0,o=0;o<r;o++)n[e[o]]=o<a?t[o]:i;return n}function g(e,t,n){var r,i;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(r=n.on,i=n.off),t.addEventListener?(r=t.addEventListener,i=t.removeEventListener):t.addListener?(r=t.addListener,i=t.removeListener):t.on&&(r=t.on,i=t.off),!r&&!i)throw Error("target does not implement any known event API");if("function"!==typeof r)throw TypeError("on method must be a function");if("function"!==typeof i)throw TypeError("off method must be a function");this._on=r,this._off=i;var a=e._observers;a?a.push(this):e._observers=[this]}function y(e,t,n,r){var o=Object.assign({},t);if(!e)return o;if("object"!==typeof e)throw TypeError("options must be an object");var s,c,u,l=Object.keys(e),d=l.length;function f(e){throw Error('Invalid "'+s+'" option value'+(e?". Reason: "+e:""))}for(var h=0;h<d;h++){if(s=l[h],!r&&!a.call(t,s))throw Error('Unknown "'+s+'" option');(c=e[s])!==i&&(u=n[s],o[s]=u?u(c,f):c)}return o}function k(e,t){return"function"===typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function b(e){var t="value must be type of "+e.join("|"),n=e.length,r=e[0],i=e[1];return 1===n?function(e,n){if(typeof e===r)return e;n(t)}:2===n?function(e,n){var a=typeof e;if(a===r||a===i)return e;n(t)}:function(r,i){for(var a=typeof r,o=n;o-- >0;)if(a===e[o])return r;i(t)}}Object.assign(g.prototype,{subscribe:function(e,t,n){var r=this,i=this._target,a=this._emitter,o=this._listeners,s=function(){var r=v.apply(null,arguments),o={data:r,name:t,original:e};if(n){var s=n.call(i,o);!1!==s&&a.emit.apply(a,[o.name].concat(r))}else a.emit.apply(a,[t].concat(r))};if(o[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,a._newListener&&a._removeListener&&!r._onNewListener?(this._onNewListener=function(n){n===t&&null===o[e]&&(o[e]=s,r._on.call(i,e,s))},a.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===t&&!a.hasListeners(n)&&o[e]&&(o[e]=null,r._off.call(i,e,s))},o[e]=null,a.on("removeListener",this._onRemoveListener)):(o[e]=s,r._on.call(i,e,s))},unsubscribe:function(e){var t,n,r,i=this,a=this._listeners,o=this._emitter,s=this._off,c=this._target;if(e&&"string"!==typeof e)throw TypeError("event must be a string");function u(){i._onNewListener&&(o.off("newListener",i._onNewListener),o.off("removeListener",i._onRemoveListener),i._onNewListener=null,i._onRemoveListener=null);var e=E.call(o,i);o._observers.splice(e,1)}if(e){if(!(t=a[e]))return;s.call(c,e,t),delete a[e],--this._listenersCount||u()}else{for(r=(n=d(a)).length;r-- >0;)e=n[r],s.call(c,e,a[e]);this._listeners={},this._listenersCount=0,u()}}});var w=b(["function"]),S=b(["object","function"]);function T(e,t,n){var r,i,a,o=0,s=new e((function(c,u,l){function d(){i&&(i=null),o&&(clearTimeout(o),o=0)}n=y(n,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!==typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}}),r=!n.overload&&"function"===typeof e.prototype.cancel&&"function"===typeof l;var f=function(e){d(),c(e)},h=function(e){d(),u(e)};r?t(f,h,l):(i=[function(e){h(e||Error("canceled"))}],t(f,h,(function(e){if(a)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!==typeof e)throw TypeError("onCancel callback must be a function");i.push(e)})),a=!0),n.timeout>0&&(o=setTimeout((function(){var e=Error("timeout");e.code="ETIMEDOUT",o=0,s.cancel(e),u(e)}),n.timeout))}));return r||(s.cancel=function(e){if(i){for(var t=i.length,n=1;n<t;n++)i[n](e);i[0](e),i=null}}),s}function E(e){var t=this._observers;if(!t)return-1;for(var n=t.length,r=0;r<n;r++)if(t[r]._target===e)return r;return-1}function x(e,t,n,r,i){if(!n)return null;if(0===r){var a=typeof t;if("string"===a){var o,s,c=0,u=0,l=this.delimiter,f=l.length;if(-1!==(s=t.indexOf(l))){o=new Array(5);do{o[c++]=t.slice(u,s),u=s+f}while(-1!==(s=t.indexOf(l,u)));o[c++]=t.slice(u),t=o,i=c}else t=[t],i=1}else"object"===a?i=t.length:(t=[t],i=1)}var h,p,v,m,g,y,k,b=null,w=t[r],S=t[r+1];if(r===i)n._listeners&&("function"===typeof n._listeners?(e&&e.push(n._listeners),b=[n]):(e&&e.push.apply(e,n._listeners),b=[n]));else{if("*"===w){for(s=(y=d(n)).length;s-- >0;)"_listeners"!==(h=y[s])&&(k=x(e,t,n[h],r+1,i))&&(b?b.push.apply(b,k):b=k);return b}if("**"===w){for((g=r+1===i||r+2===i&&"*"===S)&&n._listeners&&(b=x(e,t,n,i,i)),s=(y=d(n)).length;s-- >0;)"_listeners"!==(h=y[s])&&("*"===h||"**"===h?(n[h]._listeners&&!g&&(k=x(e,t,n[h],i,i))&&(b?b.push.apply(b,k):b=k),k=x(e,t,n[h],r,i)):k=x(e,t,n[h],h===S?r+2:r,i),k&&(b?b.push.apply(b,k):b=k));return b}n[w]&&(b=x(e,t,n[w],r+1,i))}if((p=n["*"])&&x(e,t,p,r+1,i),v=n["**"])if(r<i)for(v._listeners&&x(e,t,v,i,i),s=(y=d(v)).length;s-- >0;)"_listeners"!==(h=y[s])&&(h===S?x(e,t,v[h],r+2,i):h===w?x(e,t,v[h],r+1,i):((m={})[h]=v[h],x(e,t,{"**":m},r+1,i)));else v._listeners?x(e,t,v,i,i):v["*"]&&v["*"]._listeners&&x(e,t,v["*"],i,i);return b}function C(e,t,n){var r,i,a=0,o=0,s=this.delimiter,c=s.length;if("string"===typeof e)if(-1!==(r=e.indexOf(s))){i=new Array(5);do{i[a++]=e.slice(o,r),o=r+c}while(-1!==(r=e.indexOf(s,o)));i[a++]=e.slice(o)}else i=[e],a=1;else i=e,a=e.length;if(a>1)for(r=0;r+1<a;r++)if("**"===i[r]&&"**"===i[r+1])return;var u,l=this.listenerTree;for(r=0;r<a;r++)if(l=l[u=i[r]]||(l[u]={}),r===a-1)return l._listeners?("function"===typeof l._listeners&&(l._listeners=[l._listeners]),n?l._listeners.unshift(t):l._listeners.push(t),!l._listeners.warned&&this._maxListeners>0&&l._listeners.length>this._maxListeners&&(l._listeners.warned=!0,p.call(this,l._listeners.length,u))):l._listeners=t,!0;return!0}function P(e,t,n,r){for(var i,a,o,s,c=d(e),u=c.length,l=e._listeners;u-- >0;)i=e[a=c[u]],o="_listeners"===a?n:n?n.concat(a):[a],s=r||"symbol"===typeof a,l&&t.push(s?o:o.join(this.delimiter)),"object"===typeof i&&P.call(this,i,t,o,s);return t}function R(e){for(var t,n,r,i=d(e),a=i.length;a-- >0;)(t=e[n=i[a]])&&(r=!0,"_listeners"===n||R(t)||delete e[n]);return r}function _(e,t,n){this.emitter=e,this.event=t,this.listener=n}function A(e,t,n){if(!0===n)a=!0;else if(!1===n)r=!0;else{if(!n||"object"!==typeof n)throw TypeError("options should be an object or true");var r=n.async,a=n.promisify,o=n.nextTick,c=n.objectify}if(r||o||a){var u=t,d=t._origin||t;if(o&&!s)throw Error("process.nextTick is not supported");a===i&&(a="AsyncFunction"===t.constructor.name),t=function(){var e=arguments,t=this,n=this.event;return a?o?Promise.resolve():new Promise((function(e){l(e)})).then((function(){return t.event=n,u.apply(t,e)})):(o?process.nextTick:l)((function(){t.event=n,u.apply(t,e)}))},t._async=!0,t._origin=d}return[t,c?new _(this,e,t):this]}function I(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,h.call(this,e)}_.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},I.EventEmitter2=I,I.prototype.listenTo=function(e,t,n){if("object"!==typeof e)throw TypeError("target musts be an object");var r=this;function a(t){if("object"!==typeof t)throw TypeError("events must be an object");var i,a=n.reducers,o=E.call(r,e);i=-1===o?new g(r,e,n):r._observers[o];for(var s,c=d(t),u=c.length,l="function"===typeof a,f=0;f<u;f++)s=c[f],i.subscribe(s,t[s]||s,l?a:a&&a[s])}return n=y(n,{on:i,off:i,reducers:i},{on:w,off:w,reducers:S}),o(t)?a(m(t)):a("string"===typeof t?m(t.split(/\s+/)):t),this},I.prototype.stopListeningTo=function(e,t){var n=this._observers;if(!n)return!1;var r,i=n.length,a=!1;if(e&&"object"!==typeof e)throw TypeError("target should be an object");for(;i-- >0;)r=n[i],e&&r._target!==e||(r.unsubscribe(t),a=!0);return a},I.prototype.delimiter=".",I.prototype.setMaxListeners=function(e){e!==i&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},I.prototype.getMaxListeners=function(){return this._maxListeners},I.prototype.event="",I.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},I.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},I.prototype._once=function(e,t,n,r){return this._many(e,1,t,n,r)},I.prototype.many=function(e,t,n,r){return this._many(e,t,n,!1,r)},I.prototype.prependMany=function(e,t,n,r){return this._many(e,t,n,!0,r)},I.prototype._many=function(e,t,n,r,i){var a=this;if("function"!==typeof n)throw new Error("many only accepts instances of Function");function o(){return 0===--t&&a.off(e,o),n.apply(this,arguments)}return o._origin=n,this._on(e,o,r,i)},I.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||f.call(this);var e,t,n,r,i,a,o=arguments[0],s=this.wildcard;if("newListener"===o&&!this._newListener&&!this._events.newListener)return!1;if(s&&(e=o,"newListener"!==o&&"removeListener"!==o&&"object"===typeof o)){if(n=o.length,c)for(r=0;r<n;r++)if("symbol"===typeof o[r]){a=!0;break}a||(o=o.join(this.delimiter))}var u,l=arguments.length;if(this._all&&this._all.length)for(r=0,n=(u=this._all.slice()).length;r<n;r++)switch(this.event=o,l){case 1:u[r].call(this,o);break;case 2:u[r].call(this,o,arguments[1]);break;case 3:u[r].call(this,o,arguments[1],arguments[2]);break;default:u[r].apply(this,arguments)}if(s)u=[],x.call(this,u,e,this.listenerTree,0,n);else{if("function"===typeof(u=this._events[o])){switch(this.event=o,l){case 1:u.call(this);break;case 2:u.call(this,arguments[1]);break;case 3:u.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(l-1),i=1;i<l;i++)t[i-1]=arguments[i];u.apply(this,t)}return!0}u&&(u=u.slice())}if(u&&u.length){if(l>3)for(t=new Array(l-1),i=1;i<l;i++)t[i-1]=arguments[i];for(r=0,n=u.length;r<n;r++)switch(this.event=o,l){case 1:u[r].call(this);break;case 2:u[r].call(this,arguments[1]);break;case 3:u[r].call(this,arguments[1],arguments[2]);break;default:u[r].apply(this,t)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===o)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},I.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||f.call(this);var e,t,n,r,i,a,o=arguments[0],s=this.wildcard;if("newListener"===o&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(s&&(e=o,"newListener"!==o&&"removeListener"!==o&&"object"===typeof o)){if(r=o.length,c)for(i=0;i<r;i++)if("symbol"===typeof o[i]){t=!0;break}t||(o=o.join(this.delimiter))}var u,l=[],d=arguments.length;if(this._all)for(i=0,r=this._all.length;i<r;i++)switch(this.event=o,d){case 1:l.push(this._all[i].call(this,o));break;case 2:l.push(this._all[i].call(this,o,arguments[1]));break;case 3:l.push(this._all[i].call(this,o,arguments[1],arguments[2]));break;default:l.push(this._all[i].apply(this,arguments))}if(s?(u=[],x.call(this,u,e,this.listenerTree,0)):u=this._events[o],"function"===typeof u)switch(this.event=o,d){case 1:l.push(u.call(this));break;case 2:l.push(u.call(this,arguments[1]));break;case 3:l.push(u.call(this,arguments[1],arguments[2]));break;default:for(n=new Array(d-1),a=1;a<d;a++)n[a-1]=arguments[a];l.push(u.apply(this,n))}else if(u&&u.length){if(u=u.slice(),d>3)for(n=new Array(d-1),a=1;a<d;a++)n[a-1]=arguments[a];for(i=0,r=u.length;i<r;i++)switch(this.event=o,d){case 1:l.push(u[i].call(this));break;case 2:l.push(u[i].call(this,arguments[1]));break;case 3:l.push(u[i].call(this,arguments[1],arguments[2]));break;default:l.push(u[i].apply(this,n))}}else if(!this.ignoreErrors&&!this._all&&"error"===o)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(l)},I.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},I.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},I.prototype.onAny=function(e){return this._onAny(e,!1)},I.prototype.prependAny=function(e){return this._onAny(e,!0)},I.prototype.addListener=I.prototype.on,I.prototype._onAny=function(e,t){if("function"!==typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},I.prototype._on=function(e,t,n,r){if("function"===typeof e)return this._onAny(e,t),this;if("function"!==typeof t)throw new Error("on only accepts instances of Function");this._events||f.call(this);var a,o=this;return r!==i&&(t=(a=A.call(this,e,t,r))[0],o=a[1]),this._newListener&&this.emit("newListener",e,t),this.wildcard?(C.call(this,e,t,n),o):(this._events[e]?("function"===typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,p.call(this,this._events[e].length,e))):this._events[e]=t,o)},I.prototype.off=function(e,t){if("function"!==typeof t)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var i="string"===typeof e?e.split(this.delimiter):e.slice();if(!(r=x.call(this,null,i,this.listenerTree,0)))return this}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var a=0;a<r.length;a++){var s=r[a];if(n=s._listeners,o(n)){for(var c=-1,u=0,l=n.length;u<l;u++)if(n[u]===t||n[u].listener&&n[u].listener===t||n[u]._origin&&n[u]._origin===t){c=u;break}if(c<0)continue;return this.wildcard?s._listeners.splice(c,1):this._events[e].splice(c,1),0===n.length&&(this.wildcard?delete s._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete s._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&R(this.listenerTree),this},I.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},I.prototype.removeListener=I.prototype.off,I.prototype.removeAllListeners=function(e){if(e===i)return!this._events||f.call(this),this;if(this.wildcard){var t,n=x.call(this,null,e,this.listenerTree,0);if(!n)return this;for(t=0;t<n.length;t++)n[t]._listeners=null;this.listenerTree&&R(this.listenerTree)}else this._events&&(this._events[e]=null);return this},I.prototype.listeners=function(e){var t,n,r,a,o,s=this._events;if(e===i){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!s)return[];for(a=(t=d(s)).length,r=[];a-- >0;)"function"===typeof(n=s[t[a]])?r.push(n):r.push.apply(r,n);return r}if(this.wildcard){if(!(o=this.listenerTree))return[];var c=[],u="string"===typeof e?e.split(this.delimiter):e.slice();return x.call(this,c,u,o,0),c}return s&&(n=s[e])?"function"===typeof n?[n]:n:[]},I.prototype.eventNames=function(e){var t=this._events;return this.wildcard?P.call(this,this.listenerTree,[],null,e):t?d(t):[]},I.prototype.listenerCount=function(e){return this.listeners(e).length},I.prototype.hasListeners=function(e){if(this.wildcard){var t=[],n="string"===typeof e?e.split(this.delimiter):e.slice();return x.call(this,t,n,this.listenerTree,0),t.length>0}var r=this._events,a=this._all;return!!(a&&a.length||r&&(e===i?d(r).length:r[e]))},I.prototype.listenersAny=function(){return this._all?this._all:[]},I.prototype.waitFor=function(e,t){var n=this,r=typeof t;return"number"===r?t={timeout:t}:"function"===r&&(t={filter:t}),T((t=y(t,{timeout:0,filter:i,handleError:!1,Promise:Promise,overload:!1},{filter:w,Promise:k})).Promise,(function(r,i,a){function o(){var a=t.filter;if(!a||a.apply(n,arguments))if(n.off(e,o),t.handleError){var s=arguments[0];s?i(s):r(v.apply(null,arguments).slice(1))}else r(v.apply(null,arguments))}a((function(){n.off(e,o)})),n._on(e,o,!1)}),{timeout:t.timeout,overload:t.overload})};var O=I.prototype;Object.defineProperties(I,{defaultMaxListeners:{get:function(){return O._maxListeners},set:function(e){if("number"!==typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");O._maxListeners=e},enumerable:!0},once:{value:function(e,t,n){return T((n=y(n,{Promise:Promise,timeout:0,overload:!1},{Promise:k})).Promise,(function(n,r,i){var a;if("function"===typeof e.addEventListener)return a=function(){n(v.apply(null,arguments))},i((function(){e.removeEventListener(t,a)})),void e.addEventListener(t,a,{once:!0});var o,s=function(){o&&e.removeListener("error",o),n(v.apply(null,arguments))};"error"!==t&&(o=function(n){e.removeListener(t,s),r(n)},e.once("error",o)),i((function(){o&&e.removeListener("error",o),e.removeListener(t,s)})),e.once(t,s)}),{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties(O,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),(r=function(){return I}.call(t,n,t,e))===i||(e.exports=r)}()},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,c=i(e),u=1;u<arguments.length;u++){for(var l in o=Object(arguments[u]))n.call(o,l)&&(c[l]=o[l]);if(t){s=t(o);for(var d=0;d<s.length;d++)r.call(o,s[d])&&(c[s[d]]=o[s[d]])}}return c}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,c={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(c[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(v,e)||!h.call(p,e)&&(f.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,k);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,T=60106,E=60107,x=60108,C=60114,P=60109,R=60110,_=60112,A=60113,I=60120,O=60115,D=60116,N=60121,L=60128,M=60129,U=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;S=F("react.element"),T=F("react.portal"),E=F("react.fragment"),x=F("react.strict_mode"),C=F("react.profiler"),P=F("react.provider"),R=F("react.context"),_=F("react.forward_ref"),A=F("react.suspense"),I=F("react.suspense_list"),O=F("react.memo"),D=F("react.lazy"),N=F("react.block"),F("react.scope"),L=F("react.opaque.id"),M=F("react.debug_trace_mode"),U=F("react.offscreen"),j=F("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function G(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function B(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function K(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function W(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case T:return"Portal";case C:return"Profiler";case x:return"StrictMode";case A:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case R:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return q(e.type);case N:return q(e._render);case D:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function J(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function $(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=J(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=J(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,J(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+J(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ce(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:J(n)}}function ue(e,t){var n=J(t.value),r=J(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function Se(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var Te=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(Te[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pe=null,Re=null,_e=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Pe)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Pe(e.stateNode,e.type,t))}}function Ie(e){Re?_e?_e.push(e):_e=[e]:Re=e}function Oe(){if(Re){var e=Re,t=_e;if(_e=Re=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function De(e,t){return e(t)}function Ne(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=De,Ue=!1,je=!1;function Fe(){null===Re&&null===_e||(Le(),Oe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(d)try{var Ge={};Object.defineProperty(Ge,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Ge,Ge),window.removeEventListener("test",Ge,Ge)}catch(me){ze=!1}function Be(e,t,n,r,i,a,o,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(l){this.onError(l)}}var He=!1,Ke=null,We=!1,qe=null,Je={onError:function(e){He=!0,Ke=e}};function Ye(e,t,n,r,i,a,o,s,c){He=!1,Ke=null,Be.apply(Je,arguments)}function Qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Qe(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ct=null,ut=null,lt=new Map,dt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ct=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){yt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==ct&&yt(ct)&&(ct=null),null!==ut&&yt(ut)&&(ut=null),lt.forEach(kt),dt.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function St(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ct&&wt(ct,e),null!==ut&&wt(ut,e),lt.forEach(t),dt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)gt(n),null===n.blockedOn&&ft.shift()}function Tt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:Tt("Animation","AnimationEnd"),animationiteration:Tt("Animation","AnimationIteration"),animationstart:Tt("Animation","AnimationStart"),transitionend:Tt("Transition","TransitionEnd")},xt={},Ct={};function Pt(e){if(xt[e])return xt[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ct)return xt[e]=n[t];return e}d&&(Ct=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Rt=Pt("animationend"),_t=Pt("animationiteration"),At=Pt("animationstart"),It=Pt("transitionend"),Ot=new Map,Dt=new Map,Nt=["abort","abort",Rt,"animationEnd",_t,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",It,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Dt.set(r,t),Ot.set(r,i),u(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ut(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var c=a&~o;0!==c?(r=Ut(c),i=Mt):0!==(s&=a)&&(r=Ut(s),i=Mt)}else 0!==(a=n&~o)?(r=Ut(a),i=Mt):0!==s&&(r=Ut(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Ht(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ut(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Ht(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?Vt(10,t):e;case 10:return 0===(e=zt(192&~t))?Vt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Ht(t)]=n}var Ht=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Wt|0)|0},Kt=Math.log,Wt=Math.LN2;var qt=a.unstable_UserBlockingPriority,Jt=a.unstable_runWithPriority,Yt=!0;function Qt(e,t,n,r){Ue||Le();var i=Xt,a=Ue;Ue=!0;try{Ne(i,e,t,n,r)}finally{(Ue=a)||Fe()}}function $t(e,t,n,r){Jt(qt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<ot.length&&-1<ht.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ct=mt(ct,e,t,n,r,i),!0;case"mouseover":return ut=mt(ut,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,dt.set(a,mt(dt.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ce(r);if(null!==(i=ni(i))){var a=Qe(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=$e(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function cn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,ln,dn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=cn(fn),pn=i({},fn,{view:0,detail:0}),vn=cn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(un=e.screenX-dn.screenX,ln=e.screenY-dn.screenY):ln=un=0,dn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=cn(mn),yn=cn(i({},mn,{dataTransfer:0})),kn=cn(i({},pn,{relatedTarget:0})),bn=cn(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sn=cn(wn),Tn=cn(i({},fn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Rn(){return Pn}var _n=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=cn(_n),In=cn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=cn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rn})),Dn=cn(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=cn(Nn),Mn=[9,13,27,32],Un=d&&"CompositionEvent"in window,jn=null;d&&"documentMode"in document&&(jn=document.documentMode);var Fn=d&&"TextEvent"in window&&!jn,Vn=d&&(!Un||jn&&8<jn&&11>=jn),zn=String.fromCharCode(32),Gn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Kn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Jn(e,t,n,r){Ie(r),0<(t=Ur(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,Qn=null;function $n(e){_r(e,0)}function Xn(e){if($(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(d){var tr;if(d){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",ar),Qn=Yn=null)}function ar(e){if("value"===e.propertyName&&Xn(Qn)){var t=[];if(Jn(t,Qn,e,Ce(e)),e=$n,Ue)e(t);else{Ue=!0;try{De(e,t)}finally{Ue=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(ir(),Qn=n,(Yn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Qn)}function cr(e,t){if("click"===e)return Xn(t)}function ur(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},dr=Object.prototype.hasOwnProperty;function fr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!dr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=d&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,Sr=!1;function Tr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Sr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&fr(wr,r)||(wr=r,0<(r=Ur(br,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Nt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),xr=0;xr<Er.length;xr++)Dt.set(Er[xr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,c,u){if(Ye.apply(this,arguments),He){if(!He)throw Error(o(198));var l=Ke;He=!1,Ke=null,We||(We=!0,qe=l)}}(r,t,void 0,e),e.currentTarget=null}function _r(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;Rr(i,s,u),a=c}else for(o=0;o<r.length;o++){if(c=(s=r[o]).instance,u=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;Rr(i,s,u),a=c}}}if(We)throw e=qe,We=!1,qe=null,e}function Ar(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Nr(t,e,2,!1),n.add(r))}var Ir="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Ir]||(e[Ir]=!0,s.forEach((function(t){Pr.has(t)||Dr(t,!1,e,null),Dr(t,!0,e,null)})))}function Dr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Pr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Nr(a,e,i,t),o.add(s))}function Nr(e,t,n,r){var i=Dt.get(t);switch(void 0===i?2:i){case 0:i=Qt;break;case 1:i=$t;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(c=o.tag)||6===c){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Me(e,t,n)}finally{je=!1,Fe()}}((function(){var r=a,i=Ce(n),o=[];e:{var s=Ot.get(e);if(void 0!==s){var c=hn,u=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":c=An;break;case"focusin":u="focus",c=kn;break;case"focusout":u="blur",c=kn;break;case"beforeblur":case"afterblur":c=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=On;break;case Rt:case _t:case At:c=bn;break;case It:c=Dn;break;case"scroll":c=vn;break;case"wheel":c=Ln;break;case"copy":case"cut":case"paste":c=Sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=In}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==f&&(null!=(v=Ve(p,f))&&l.push(Mr(p,v,h)))),d)break;p=p.return}0<l.length&&(s=new c(s,u,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(u=n.relatedTarget||n.fromElement)||!ni(u)&&!u[ei])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ni(u):null)&&(u!==(d=Qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(c=null,u=r),c!==u)){if(l=gn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==c?s:ii(c),h=null==u?s:ii(u),(s=new l(v,p+"leave",c,n,i)).target=d,s.relatedTarget=h,v=null,ni(i)===r&&((l=new l(f,p+"enter",u,n,i)).target=h,l.relatedTarget=d,v=l),d=v,c&&u)e:{for(f=u,p=0,h=l=c;h;h=jr(h))p++;for(h=0,v=f;v;v=jr(v))h++;for(;0<p-h;)l=jr(l),p--;for(;0<h-p;)f=jr(f),h--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=jr(l),f=jr(f)}l=null}else l=null;null!==c&&Fr(o,s,c,l,!1),null!==u&&null!==d&&Fr(o,d,u,l,!0)}if("select"===(c=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var m=Zn;else if(qn(s))if(er)m=ur;else{m=sr;var g=or}else(c=s.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=cr);switch(m&&(m=m(e,r))?Jn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(kr=g,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":Sr=!0;break;case"contextmenu":case"mouseup":case"dragend":Sr=!1,Tr(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":Tr(o,n,i)}var y;if(Un)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Kn?Bn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Kn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Kn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Kn=!0)),0<(g=Ur(r,k)).length&&(k=new Tn(k,e,null,n,i),o.push({event:k,listeners:g}),y?k.data=y:null!==(y=Hn(n))&&(k.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Gn=!0,zn);case"textInput":return(e=t.data)===zn&&Gn?null:e;default:return null}}(e,n):function(e,t){if(Kn)return"compositionend"===e||!Un&&Bn(e,t)?(e=rn(),nn=tn=en=null,Kn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new Tn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}_r(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,c=s.alternate,u=s.stateNode;if(null!==c&&c===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(c=Ve(n,a))&&o.unshift(Mr(n,c,s)):i||null!=(c=Ve(n,a))&&o.push(Mr(n,c,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var zr=null,Gr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Kr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Jr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qr=0;var $r=Math.random().toString(36).slice(2),Xr="__reactFiber$"+$r,Zr="__reactProps$"+$r,ei="__reactContainer$"+$r,ti="__reactEvents$"+$r;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Xr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ci=-1;function ui(e){return{current:e}}function li(e){0>ci||(e.current=si[ci],si[ci]=null,ci--)}function di(e,t){ci++,si[ci]=e.current,e.current=t}var fi={},hi=ui(fi),pi=ui(!1),vi=fi;function mi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(pi),li(hi)}function ki(e,t,n){if(hi.current!==fi)throw Error(o(168));di(hi,t),di(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,q(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,vi=hi.current,di(hi,e),di(pi,pi.current),!0}function Si(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(hi),di(hi,e)):li(pi),di(pi,n)}var Ti=null,Ei=null,xi=a.unstable_runWithPriority,Ci=a.unstable_scheduleCallback,Pi=a.unstable_cancelCallback,Ri=a.unstable_shouldYield,_i=a.unstable_requestPaint,Ai=a.unstable_now,Ii=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Di=a.unstable_UserBlockingPriority,Ni=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Ui={},ji=void 0!==_i?_i:function(){},Fi=null,Vi=null,zi=!1,Gi=Ai(),Bi=1e4>Gi?Ai:function(){return Ai()-Gi};function Hi(){switch(Ii()){case Oi:return 99;case Di:return 98;case Ni:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Ki(e){switch(e){case 99:return Oi;case 98:return Di;case 97:return Ni;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Wi(e,t){return e=Ki(e),xi(e,t)}function qi(e,t,n){return e=Ki(e),Ci(e,t,n)}function Ji(){if(null!==Vi){var e=Vi;Vi=null,Pi(e)}Yi()}function Yi(){if(!zi&&null!==Fi){zi=!0;var e=0;try{var t=Fi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ci(Oi,Ji),n}finally{zi=!1}}}var Qi=w.ReactCurrentBatchConfig;function $i(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ui(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Uo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ca(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ua(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function da(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ha(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,c=a.shared.pending;if(null!==c){a.shared.pending=null;var u=c,l=u.next;u.next=null,null===s?o=l:s.next=l,s=u;var d=e.alternate;if(null!==d){var f=(d=d.updateQueue).lastBaseUpdate;f!==s&&(null===f?d.firstBaseUpdate=l:f.next=l,d.lastBaseUpdate=u)}}if(null!==o){for(f=a.baseState,s=0,d=l=u=null;;){c=o.lane;var h=o.eventTime;if((r&c)===c){null!==d&&(d=d.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(c=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,c);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(c="function"===typeof(p=v.payload)?p.call(h,f,c):p)||void 0===c)break e;f=i({},f,c);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(c=a.effects)?a.effects=[o]:c.push(o))}else h={eventTime:h,lane:c,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(l=d=h,u=f):d=d.next=h,s|=c;if(null===(o=o.next)){if(null===(c=a.shared.pending))break;o=c.next,c.next=null,a.lastBaseUpdate=c,a.shared.pending=null}}null===d&&(u=f),a.baseState=u,a.firstBaseUpdate=l,a.lastBaseUpdate=d,zs|=s,e.lanes=s,e.memoizedState=f}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&Qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fc(),i=hc(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),da(e,a),pc(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fc(),i=hc(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),da(e,a),pc(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fc(),r=hc(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),da(e,i),pc(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,a))}function ka(e,t,n){var r=!1,i=fi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=gi(t)?vi:hi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):fi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ca(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=gi(t)?vi:hi.current,i.context=mi(e,a)),ha(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Sa=Array.isArray;function Ta(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function xa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Qc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Ta(e,t,n),r.return=e,r):((r=qc(n.type,n.key,n.props,null,e.mode,r)).ref=Ta(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$c(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Jc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Qc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=qc(t.type,t.key,t.props,null,e.mode,n)).ref=Ta(e,null,t),n.return=e,n;case T:return(t=$c(t,e.mode,n)).return=e,t}if(Sa(t)||G(t))return(t=Jc(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===E?d(e,t,n.props.children,r,i):u(e,t,n,r):null;case T:return n.key===i?l(e,t,n,r):null}if(Sa(n)||G(n))return null!==i?null:d(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===E?d(t,e,r.props.children,i,r.key):u(t,e,r,i);case T:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Sa(r)||G(r))return d(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,s,c){for(var u=null,l=null,d=o,v=o=0,m=null;null!==d&&v<s.length;v++){d.index>v?(m=d,d=null):m=d.sibling;var g=h(i,d,s[v],c);if(null===g){null===d&&(d=m);break}e&&d&&null===g.alternate&&t(i,d),o=a(g,o,v),null===l?u=g:l.sibling=g,l=g,d=m}if(v===s.length)return n(i,d),u;if(null===d){for(;v<s.length;v++)null!==(d=f(i,s[v],c))&&(o=a(d,o,v),null===l?u=d:l.sibling=d,l=d);return u}for(d=r(i,d);v<s.length;v++)null!==(m=p(d,i,v,s[v],c))&&(e&&null!==m.alternate&&d.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?u=m:l.sibling=m,l=m);return e&&d.forEach((function(e){return t(i,e)})),u}function m(i,s,c,u){var l=G(c);if("function"!==typeof l)throw Error(o(150));if(null==(c=l.call(c)))throw Error(o(151));for(var d=l=null,v=s,m=s=0,g=null,y=c.next();null!==v&&!y.done;m++,y=c.next()){v.index>m?(g=v,v=null):g=v.sibling;var k=h(i,v,y.value,u);if(null===k){null===v&&(v=g);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===d?l=k:d.sibling=k,d=k,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=c.next())null!==(y=f(i,y.value,u))&&(s=a(y,s,m),null===d?l=y:d.sibling=y,d=y);return l}for(v=r(i,v);!y.done;m++,y=c.next())null!==(y=p(v,i,m,y.value,u))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?l=y:d.sibling=y,d=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,c){var u="object"===typeof a&&null!==a&&a.type===E&&null===a.key;u&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case S:e:{for(l=a.key,u=r;null!==u;){if(u.key===l){if(7===u.tag){if(a.type===E){n(e,u.sibling),(r=i(u,a.props.children)).return=e,e=r;break e}}else if(u.elementType===a.type){n(e,u.sibling),(r=i(u,a.props)).ref=Ta(e,u,a),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}a.type===E?((r=Jc(a.props.children,e.mode,c,a.key)).return=e,e=r):((c=qc(a.type,a.key,a.props,null,e.mode,c)).ref=Ta(e,r,a),c.return=e,e=c)}return s(e);case T:e:{for(u=a.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=$c(a,e.mode,c)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Qc(a,e.mode,c)).return=e,e=r),s(e);if(Sa(a))return v(e,r,a,c);if(G(a))return m(e,r,a,c);if(l&&Ea(e,a),"undefined"===typeof a&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,q(e.type)||"Component"))}return n(e,r)}}var Ca=xa(!0),Pa=xa(!1),Ra={},_a=ui(Ra),Aa=ui(Ra),Ia=ui(Ra);function Oa(e){if(e===Ra)throw Error(o(174));return e}function Da(e,t){switch(di(Ia,t),di(Aa,e),di(_a,Ra),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(_a),di(_a,t)}function Na(){li(_a),li(Aa),li(Ia)}function La(e){Oa(Ia.current);var t=Oa(_a.current),n=pe(t,e.type);t!==n&&(di(Aa,e),di(_a,n))}function Ma(e){Aa.current===e&&(li(_a),li(Aa))}var Ua=ui(0);function ja(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,Va=null,za=!1;function Ga(e,t){var n=Hc(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ba(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ha(e){if(za){var t=Va;if(t){var n=t;if(!Ba(e,t)){if(!(t=Jr(n.nextSibling))||!Ba(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Fa=e);Ga(Fa,n)}Fa=e,Va=Jr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Fa=e}}function Ka(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Wa(e){if(e!==Fa)return!1;if(!za)return Ka(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Hr(t,e.memoizedProps))for(t=Va;t;)Ga(e,t),t=Jr(t.nextSibling);if(Ka(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Jr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=Fa?Jr(e.stateNode.nextSibling):null;return!0}function qa(){Va=Fa=null,za=!1}var Ja=[];function Ya(){for(var e=0;e<Ja.length;e++)Ja[e]._workInProgressVersionPrimary=null;Ja.length=0}var Qa=w.ReactCurrentDispatcher,$a=w.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qa.current=null===e||null===e.memoizedState?Do:No,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Qa.current=Lo,e=n(r,i)}while(ro)}if(Qa.current=Oo,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function co(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function uo(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=co(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var c=s=a=null,u=i;do{var l=u.lane;if((Xa&l)===l)null!==c&&(c=c.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===e?u.eagerState:e(r,u.action);else{var d={lane:l,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===c?(s=c=d,a=r):c=c.next=d,Za.lanes|=l,zs|=l}u=u.next}while(null!==u&&u!==i);null===c?a=r:c.next=s,lr(r,t.memoizedState)||(Uo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=co(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(Uo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Ja.push(t))),e)return n(t._source);throw Ja.push(t),Error(o(350))}function po(e,t,n,r){var i=Ds;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),c=Qa.current,u=c.useState((function(){return ho(i,t,n)})),l=u[1],d=u[0];u=to;var f=e.memoizedState,h=f.refs,p=h.getSnapshot,v=f.source;f=f.subscribe;var m=Za;return e.memoizedState={refs:h,source:t,subscribe:r},c.useEffect((function(){h.getSnapshot=n,h.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(d,e)||(l(e),e=hc(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var c=31-Ht(o),u=1<<c;r[c]|=e,o&=~u}}}),[n,t,r]),c.useEffect((function(){return r(t._source,(function(){var e=h.getSnapshot,n=h.setSnapshot;try{n(e(t._source));var r=hc(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:d}).dispatch=l=Io.bind(null,Za,e),u.queue=e,u.baseQueue=null,d=ho(i,t,n),u.memoizedState=u.baseState=d),d}function vo(e,t,n){return po(co(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e}).dispatch=Io.bind(null,Za,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},so().memoizedState=e}function ko(){return co().memoizedState}function bo(e,t,n,r){var i=so();Za.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=co();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void go(t,n,a,r)}Za.flags|=e,i.memoizedState=go(1|t,n,a,r)}function So(e,t){return bo(516,4,e,t)}function To(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function xo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Co(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,xo.bind(null,t,e),n)}function Po(){}function Ro(e,t){var n=co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _o(e,t){var n=co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ao(e,t){var n=Hi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=$a.transition;$a.transition=1;try{e(!1),t()}finally{$a.transition=n}}))}function Io(e,t,n){var r=fc(),i=hc(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,c=o(s,n);if(a.eagerReducer=o,a.eagerState=c,lr(c,s))return}catch(u){}pc(e,i,r)}}var Oo={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:So,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,xo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Io.bind(null,Za,e),[r.memoizedState,e]},useRef:yo,useState:mo,useDebugValue:Po,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return So((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return yo(e=Ao.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,go(5,(function(){n("r:"+(Qr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Qr++).toString(36)),t},unstable_isNewReconciler:!1},No={readContext:oa,useCallback:Ro,useContext:oa,useEffect:To,useImperativeHandle:Co,useLayoutEffect:Eo,useMemo:_o,useReducer:lo,useRef:ko,useState:function(){return lo(uo)},useDebugValue:Po,useDeferredValue:function(e){var t=lo(uo),n=t[0],r=t[1];return To((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=lo(uo)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(uo)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Ro,useContext:oa,useEffect:To,useImperativeHandle:Co,useLayoutEffect:Eo,useMemo:_o,useReducer:fo,useRef:ko,useState:function(){return fo(uo)},useDebugValue:Po,useDeferredValue:function(e){var t=fo(uo),n=t[0],r=t[1];return To((function(){var t=$a.transition;$a.transition=1;try{r(e)}finally{$a.transition=t}}),[e]),n},useTransition:function(){var e=fo(uo)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(uo)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Uo=!1;function jo(e,t,n,r){t.child=null===e?Pa(t,null,n,r):Ca(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Uo?(t.flags|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Kc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=qc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Wc(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Uo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Uo=!0)}return Ho(e,t,n,r,a)}function Go(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Sc(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Sc(t,e),null;t.memoizedState={baseLanes:0},Sc(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Sc(t,r);return jo(e,t,i,n),t.child}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ho(e,t,n,r,i){var a=gi(n)?vi:hi.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Uo?(t.flags|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ko(e,t,n,r,i){if(gi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=oa(u):u=mi(t,u=gi(n)?vi:hi.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||c!==u)&&ba(t,o,r,u),sa=!1;var f=t.memoizedState;o.state=f,ha(t,r,o,i),c=t.memoizedState,s!==r||f!==c||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),c=t.memoizedState),(s=sa||ya(t,n,s,r,f,c,u))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ua(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:$i(t.type,s),o.props=u,d=t.pendingProps,f=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=oa(c):c=mi(t,c=gi(n)?vi:hi.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==c)&&ba(t,o,r,c),sa=!1,f=t.memoizedState,o.state=f,ha(t,r,o,i);var p=t.memoizedState;s!==d||f!==p||pi.current||sa?("function"===typeof h&&(ma(t,n,h,r),p=t.memoizedState),(u=sa||ya(t,n,u,r,f,p,c))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Wo(e,t,n,r,a,i)}function Wo(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&Si(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ca(t,e.child,null,a),t.child=Ca(t,null,s,a)):jo(e,t,s,a),t.memoizedState=r.state,i&&Si(t,n,!0),t.child}function qo(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Da(e,t.containerInfo)}var Jo,Yo,Qo,$o={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Ua.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),di(Ua,1&a),null===e?(void 0!==i.fallback&&Ha(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=$o,t.lanes=33554432,e):((n=Yc({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=$o,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Yc(t,i,0,null),n=Jc(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Wc(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wc(o,s),null!==e?r=Wc(e,r):(r=Jc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=Ua.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(di(Ua,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ja(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ja(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Wc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Na(),li(pi),li(hi),Ya(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Wa(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Oa(Ia.current);if(n=t.type,null!==e&&null!=t.stateNode)Yo(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(_a.current),Wa(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[Zr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Cr.length;e++)Ar(Cr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":ce(r,s),Ar("invalid",r)}for(var u in Ee(n,s),e=null,s)s.hasOwnProperty(u)&&(a=s[u],"children"===u?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):c.hasOwnProperty(u)&&null!=a&&"onScroll"===u&&Ar("scroll",r));switch(n){case"input":Q(r),re(r,s,!0);break;case"textarea":Q(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(u=9===a.nodeType?a:a.ownerDocument,e===de&&(e=he(n)),e===de?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Jo(e,t),t.stateNode=e,u=xe(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),a=r;break;case"iframe":case"object":case"embed":Ar("load",e),a=r;break;case"video":case"audio":for(a=0;a<Cr.length;a++)Ar(Cr[a],e);a=r;break;case"source":Ar("error",e),a=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),a=r;break;case"details":Ar("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Ar("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":ce(e,r),a=se(e,r),Ar("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var d=l[s];"style"===s?Se(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ge(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&ye(e,d):"number"===typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(c.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Ar("scroll",e):null!=d&&b(e,s,d,u))}switch(n){case"input":Q(e),re(e,r,!1);break;case"textarea":Q(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+J(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Ia.current),Oa(_a.current),Wa(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(Ua),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Wa(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ua.current)?0===js&&(js=3):(0!==js&&3!==js||(js=4),null===Ds||0===(134217727&zs)&&0===(134217727&Gs)||yc(Ds,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Na(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Ua),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(u=r.rendering))if(s)os(r,!1);else{if(0!==js||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=ja(e))){for(t.flags|=64,os(r,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,e=u.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return di(Ua,1&Ua.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Ws&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=ja(u))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=r.last)?n.sibling=u:t.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=Ua.current,di(Ua,s?1&t|2:1&t),n):null;case 23:case 24:return Tc(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function cs(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Na(),li(pi),li(hi),Ya(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Ua),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Ua),null;case 4:return Na(),null;case 10:return ra(e),null;case 23:case 24:return Tc(),null;default:return null}}function us(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Jo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Yo=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(_a.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(d in Ee(n,r),n=null,a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var u=a[d];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(c.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(u=null!=a?a[d]:void 0,r.hasOwnProperty(d)&&l!==u&&(null!=l||null!=u))if("style"===d)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(d,n)),n=l;else"dangerouslySetInnerHTML"===d?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(s=s||[]).push(d,l)):"children"===d?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(d,""+l):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(c.hasOwnProperty(d)?(null!=l&&"onScroll"===d&&Ar("scroll",e),s||u===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Qo=function(e,t,n,r){n!==r&&(t.flags|=4)};var ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Qs||(Qs=!0,$s=r),ls(0,t)},n}function hs(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vc(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:$i(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo))}throw Error(o(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Uc(n,e),Mc(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:$i(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&St(n)))))}throw Error(o(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(Ti,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Uc(t,n);else{r=t;try{i()}catch(a){Vc(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vc(t,a)}break;case 5:vs(t);break;case 4:xs(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function Ss(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Ts(e,n,t):Es(e,n,t)}function Ts(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(Ts(e,t,n),e=e.sibling;null!==e;)Ts(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function xs(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,c=i,u=c;;)if(ks(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===c)break e;for(;null===u.sibling;){if(null===u.return||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,c=i.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Cs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),xe(e,i),t=xe(e,r),i=0;i<a.length;i+=2){var s=a[i],c=a[i+1];"style"===s?Se(n,c):"dangerouslySetInnerHTML"===s?ge(n,c):"children"===s?ye(n,c):b(n,s,c,t)}switch(e){case"input":ne(n,r);break;case"textarea":ue(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,St(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ks=Bi(),ys(t.child,!0)),void Ps(t);case 19:return void Ps(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(o(163))}function Ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Gc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Rs(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var _s=Math.ceil,As=w.ReactCurrentDispatcher,Is=w.ReactCurrentOwner,Os=0,Ds=null,Ns=null,Ls=0,Ms=0,Us=ui(0),js=0,Fs=null,Vs=0,zs=0,Gs=0,Bs=0,Hs=null,Ks=0,Ws=1/0;function qs(){Ws=Bi()+500}var Js,Ys=null,Qs=!1,$s=null,Xs=null,Zs=!1,ec=null,tc=90,nc=[],rc=[],ic=null,ac=0,oc=null,sc=-1,cc=0,uc=0,lc=null,dc=!1;function fc(){return 0!==(48&Os)?Bi():-1!==sc?sc:sc=Bi()}function hc(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Hi()?1:2;if(0===cc&&(cc=Vs),0!==Qi.transition){0!==uc&&(uc=null!==Hs?Hs.pendingLanes:0),e=cc;var t=4186112&~uc;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Hi(),0!==(4&Os)&&98===e?e=Vt(12,cc):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),cc),e}function pc(e,t,n){if(50<ac)throw ac=0,oc=null,Error(o(185));if(null===(e=vc(e,t)))return null;Bt(e,t,n),e===Ds&&(Gs|=t,4===js&&yc(e,Ls));var r=Hi();1===t?0!==(8&Os)&&0===(48&Os)?kc(e):(mc(e,n),0===Os&&(qs(),Ji())):(0===(4&Os)||98!==r&&99!==r||(null===ic?ic=new Set([e]):ic.add(e)),mc(e,n)),Hs=e}function vc(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mc(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-Ht(s),u=1<<c,l=a[c];if(-1===l){if(0===(u&r)||0!==(u&i)){l=t,Ut(u);var d=Mt;a[c]=10<=d?l+250:6<=d?l+5e3:-1}}else l<=t&&(e.expiredLanes|=u);s&=~u}if(r=jt(e,e===Ds?Ls:0),t=Mt,0===r)null!==n&&(n!==Ui&&Pi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ui&&Pi(n)}15===t?(n=kc.bind(null,e),null===Fi?(Fi=[n],Vi=Ci(Oi,Yi)):Fi.push(n),n=Ui):14===t?n=qi(99,kc.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=qi(n,gc.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gc(e){if(sc=-1,uc=cc=0,0!==(48&Os))throw Error(o(327));var t=e.callbackNode;if(Lc()&&e.callbackNode!==t)return null;var n=jt(e,e===Ds?Ls:0);if(0===n)return null;var r=n,i=Os;Os|=16;var a=Cc();for(Ds===e&&Ls===r||(qs(),Ec(e,r));;)try{_c();break}catch(c){xc(e,c)}if(na(),As.current=a,Os=i,null!==Ns?r=0:(Ds=null,Ls=0,r=js),0!==(Vs&Gs))Ec(e,0);else if(0!==r){if(2===r&&(Os|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=Ft(e))&&(r=Pc(e,n))),1===r)throw t=Fs,Ec(e,0),yc(e,n),mc(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Oc(e);break;case 3:if(yc(e,n),(62914560&n)===n&&10<(r=Ks+500-Bi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Kr(Oc.bind(null,e),r);break}Oc(e);break;case 4:if(yc(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Ht(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_s(n/1960))-n)){e.timeoutHandle=Kr(Oc.bind(null,e),n);break}Oc(e);break;default:throw Error(o(329))}}return mc(e,Bi()),e.callbackNode===t?gc.bind(null,e):null}function yc(e,t){for(t&=~Bs,t&=~Gs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ht(t),r=1<<n;e[n]=-1,t&=~r}}function kc(e){if(0!==(48&Os))throw Error(o(327));if(Lc(),e===Ds&&0!==(e.expiredLanes&Ls)){var t=Ls,n=Pc(e,t);0!==(Vs&Gs)&&(n=Pc(e,t=jt(e,t)))}else n=Pc(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Os|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=Ft(e))&&(n=Pc(e,t))),1===n)throw n=Fs,Ec(e,0),yc(e,t),mc(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Oc(e),mc(e,Bi()),null}function bc(e,t){var n=Os;Os|=1;try{return e(t)}finally{0===(Os=n)&&(qs(),Ji())}}function wc(e,t){var n=Os;Os&=-2,Os|=8;try{return e(t)}finally{0===(Os=n)&&(qs(),Ji())}}function Sc(e,t){di(Us,Ms),Ms|=t,Vs|=t}function Tc(){Ms=Us.current,li(Us)}function Ec(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Na(),li(pi),li(hi),Ya();break;case 5:Ma(r);break;case 4:Na();break;case 13:case 19:li(Ua);break;case 10:ra(r);break;case 23:case 24:Tc()}n=n.return}Ds=e,Ns=Wc(e.current,null),Ls=Ms=Vs=t,js=0,Fs=null,Bs=Gs=zs=0}function xc(e,t){for(;;){var n=Ns;try{if(na(),Qa.current=Oo,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,Is.current=null,null===n||null===n.return){js=1,Fs=t,Ns=null;break}e:{var a=e,o=n.return,s=n,c=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&Ua.current),f=o;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var v=f.memoizedProps;h=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!d)}}if(h){var m=f.updateQueue;if(null===m){var g=new Set;g.add(u),f.updateQueue=g}else m.add(u);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=la(-1,1);y.tag=2,da(s,y)}s.lanes|=1;break e}c=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new ds,c=new Set,k.set(u,c)):void 0===(c=k.get(u))&&(c=new Set,k.set(u,c)),!c.has(s)){c.add(s);var b=zc.bind(null,a,u,s);u.then(b,b)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);c=Error((q(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==js&&(js=2),c=us(c,s),f=o;do{switch(f.tag){case 3:a=c,f.flags|=4096,t&=-t,f.lanes|=t,fa(f,fs(0,a,t));break e;case 1:a=c;var w=f.type,S=f.stateNode;if(0===(64&f.flags)&&("function"===typeof w.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===Xs||!Xs.has(S)))){f.flags|=4096,t&=-t,f.lanes|=t,fa(f,hs(f,a,t));break e}}f=f.return}while(null!==f)}Ic(n)}catch(T){t=T,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function Cc(){var e=As.current;return As.current=Oo,null===e?Oo:e}function Pc(e,t){var n=Os;Os|=16;var r=Cc();for(Ds===e&&Ls===t||Ec(e,t);;)try{Rc();break}catch(i){xc(e,i)}if(na(),Os=n,As.current=r,null!==Ns)throw Error(o(261));return Ds=null,Ls=0,js}function Rc(){for(;null!==Ns;)Ac(Ns)}function _c(){for(;null!==Ns&&!Ri();)Ac(Ns)}function Ac(e){var t=Js(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Ic(e):Ns=t,Is.current=null}function Ic(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ns=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=cs(t)))return n.flags&=2047,void(Ns=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===js&&(js=5)}function Oc(e){var t=Hi();return Wi(99,Dc.bind(null,e,t)),null}function Dc(e,t){do{Lc()}while(null!==ec);if(0!==(48&Os))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,c=e.expirationTimes;0<a;){var u=31-Ht(a),l=1<<u;i[u]=0,s[u]=-1,c[u]=-1,a&=~l}if(null!==ic&&0===(24&r)&&ic.has(e)&&ic.delete(e),e===Ds&&(Ns=Ds=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Os,Os|=32,Is.current=null,zr=Yt,gr(s=mr())){if("selectionStart"in s)c={start:s.selectionStart,end:s.selectionEnd};else e:if(c=(c=s.ownerDocument)&&c.defaultView||window,(l=c.getSelection&&c.getSelection())&&0!==l.rangeCount){c=l.anchorNode,a=l.anchorOffset,u=l.focusNode,l=l.focusOffset;try{c.nodeType,u.nodeType}catch(C){c=null;break e}var d=0,f=-1,h=-1,p=0,v=0,m=s,g=null;t:for(;;){for(var y;m!==c||0!==a&&3!==m.nodeType||(f=d+a),m!==u||0!==l&&3!==m.nodeType||(h=d+l),3===m.nodeType&&(d+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break t;if(g===c&&++p===a&&(f=d),g===u&&++v===l&&(h=d),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}c=-1===f||-1===h?null:{start:f,end:h}}else c=null;c=c||{start:0,end:0}}else c=null;Gr={focusedElem:s,selectionRange:c},Yt=!1,lc=null,dc=!1,Ys=r;do{try{Nc()}catch(C){if(null===Ys)throw Error(o(330));Vc(Ys,C),Ys=Ys.nextEffect}}while(null!==Ys);lc=null,Ys=r;do{try{for(s=e;null!==Ys;){var k=Ys.flags;if(16&k&&ye(Ys.stateNode,""),128&k){var b=Ys.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:Ss(Ys),Ys.flags&=-3;break;case 6:Ss(Ys),Ys.flags&=-3,Cs(Ys.alternate,Ys);break;case 1024:Ys.flags&=-1025;break;case 1028:Ys.flags&=-1025,Cs(Ys.alternate,Ys);break;case 4:Cs(Ys.alternate,Ys);break;case 8:xs(s,c=Ys);var S=c.alternate;bs(c),null!==S&&bs(S)}Ys=Ys.nextEffect}}catch(C){if(null===Ys)throw Error(o(330));Vc(Ys,C),Ys=Ys.nextEffect}}while(null!==Ys);if(w=Gr,b=mr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==s&&gr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),c=k.textContent.length,S=Math.min(s.start,c),s=void 0===s.end?S:Math.min(s.end,c),!w.extend&&S>s&&(c=s,s=S,S=c),c=pr(k,S),a=pr(k,s),c&&a&&(1!==w.rangeCount||w.anchorNode!==c.node||w.anchorOffset!==c.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(c.node,c.offset),w.removeAllRanges(),S>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Yt=!!zr,Gr=zr=null,e.current=n,Ys=r;do{try{for(k=e;null!==Ys;){var T=Ys.flags;if(36&T&&gs(k,Ys.alternate,Ys),128&T){b=void 0;var E=Ys.ref;if(null!==E){var x=Ys.stateNode;Ys.tag,b=x,"function"===typeof E?E(b):E.current=b}}Ys=Ys.nextEffect}}catch(C){if(null===Ys)throw Error(o(330));Vc(Ys,C),Ys=Ys.nextEffect}}while(null!==Ys);Ys=null,ji(),Os=i}else e.current=n;if(Zs)Zs=!1,ec=e,tc=t;else for(Ys=r;null!==Ys;)t=Ys.nextEffect,Ys.nextEffect=null,8&Ys.flags&&((T=Ys).sibling=null,T.stateNode=null),Ys=t;if(0===(r=e.pendingLanes)&&(Xs=null),1===r?e===oc?ac++:(ac=0,oc=e):ac=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(Ti,n,void 0,64===(64&n.current.flags))}catch(C){}if(mc(e,Bi()),Qs)throw Qs=!1,e=$s,$s=null,e;return 0!==(8&Os)||Ji(),null}function Nc(){for(;null!==Ys;){var e=Ys.alternate;dc||null===lc||(0!==(8&Ys.flags)?et(Ys,lc)&&(dc=!0):13===Ys.tag&&Rs(e,Ys)&&et(Ys,lc)&&(dc=!0));var t=Ys.flags;0!==(256&t)&&ms(e,Ys),0===(512&t)||Zs||(Zs=!0,qi(97,(function(){return Lc(),null}))),Ys=Ys.nextEffect}}function Lc(){if(90!==tc){var e=97<tc?97:tc;return tc=90,Wi(e,jc)}return!1}function Mc(e,t){nc.push(t,e),Zs||(Zs=!0,qi(97,(function(){return Lc(),null})))}function Uc(e,t){rc.push(t,e),Zs||(Zs=!0,qi(97,(function(){return Lc(),null})))}function jc(){if(null===ec)return!1;var e=ec;if(ec=null,0!==(48&Os))throw Error(o(331));var t=Os;Os|=32;var n=rc;rc=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===a)throw Error(o(330));Vc(a,u)}}for(n=nc,nc=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var c=i.create;i.destroy=c()}catch(u){if(null===a)throw Error(o(330));Vc(a,u)}}for(c=e.current.firstEffect;null!==c;)e=c.nextEffect,c.nextEffect=null,8&c.flags&&(c.sibling=null,c.stateNode=null),c=e;return Os=t,Ji(),!0}function Fc(e,t,n){da(e,t=fs(0,t=us(n,t),1)),t=fc(),null!==(e=vc(e,1))&&(Bt(e,1,t),mc(e,t))}function Vc(e,t){if(3===e.tag)Fc(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fc(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=hs(n,e=us(t,e),1);if(da(n,i),i=fc(),null!==(n=vc(n,1)))Bt(n,1,i),mc(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fc(),e.pingedLanes|=e.suspendedLanes&n,Ds===e&&(Ls&n)===n&&(4===js||3===js&&(62914560&Ls)===Ls&&500>Bi()-Ks?Ec(e,0):Bs|=n),mc(e,t)}function Gc(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Hi()?1:2:(0===cc&&(cc=Vs),0===(t=zt(62914560&~cc))&&(t=4194304))),n=fc(),null!==(e=vc(e,t))&&(Bt(e,t,n),mc(e,n))}function Bc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hc(e,t,n,r){return new Bc(e,t,n,r)}function Kc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wc(e,t){var n=e.alternate;return null===n?((n=Hc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function qc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Kc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Jc(n.children,i,a,t);case M:s=8,i|=16;break;case x:s=8,i|=1;break;case C:return(e=Hc(12,n,t,8|i)).elementType=C,e.type=C,e.lanes=a,e;case A:return(e=Hc(13,n,t,i)).type=A,e.elementType=A,e.lanes=a,e;case I:return(e=Hc(19,n,t,i)).elementType=I,e.lanes=a,e;case U:return Yc(n,i,a,t);case j:return(e=Hc(24,n,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case P:s=10;break e;case R:s=9;break e;case _:s=11;break e;case O:s=14;break e;case D:s=16,r=null;break e;case N:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Jc(e,t,n,r){return(e=Hc(7,e,r,t)).lanes=n,e}function Yc(e,t,n,r){return(e=Hc(23,e,r,t)).elementType=U,e.lanes=n,e}function Qc(e,t,n){return(e=Hc(6,e,null,t)).lanes=n,e}function $c(e,t,n){return(t=Hc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xc(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Gt(0),this.expirationTimes=Gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.mutableSourceEagerHydrationData=null}function Zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function eu(e,t,n,r){var i=t.current,a=fc(),s=hc(i);e:if(n){t:{if(Qe(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(gi(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(o(171))}if(1===n.tag){var u=n.type;if(gi(u)){n=bi(n,u,c);break e}}n=c}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),da(i,t),pc(i,s,a),s}function tu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ru(e,t){nu(e,t),(e=e.alternate)&&nu(e,t)}function iu(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xc(e,t,null!=n&&!0===n.hydrate),t=Hc(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ca(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function au(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ou(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tu(o);s.call(e)}}eu(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new iu(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var c=i;i=function(){var e=tu(o);c.call(e)}}wc((function(){eu(t,o,e,i)}))}return tu(o)}function su(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!au(t))throw Error(o(200));return Zc(e,t,null,n)}Js=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Uo=!0;else{if(0===(n&r)){switch(Uo=!1,t.tag){case 3:qo(t),qa();break;case 5:La(t);break;case 1:gi(t.type)&&wi(t);break;case 4:Da(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;di(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(di(Ua,1&Ua.current),null!==(t=as(e,t,n))?t.sibling:null);di(Ua,1&Ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),di(Ua,Ua.current),r)break;return null;case 23:case 24:return t.lanes=0,Go(e,t,n)}return as(e,t,n)}Uo=0!==(16384&e.flags)}else Uo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,hi.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ca(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ga,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Wo(null,t,r,!0,a,n)}else t.tag=0,jo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Kc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===O)return 14}return 2}(i),e=$i(i,e),a){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Ko(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,$i(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 3:if(qo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ua(e,t),ha(t,r,null,n),(r=t.memoizedState.element)===i)qa(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Jr(t.stateNode.containerInfo.firstChild),Fa=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ja.push(a);for(n=Pa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else jo(e,t,r,n),qa();t=t.child}return t;case 5:return La(t),null===e&&Ha(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,Hr(r,i)?s=null:null!==a&&Hr(r,a)&&(t.flags|=16),Bo(e,t),jo(e,t,s,n),t.child;case 6:return null===e&&Ha(t),null;case 13:return Xo(e,t,n);case 4:return Da(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ca(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:$i(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var c=t.type._context;if(di(Xi,c._currentValue),c._currentValue=a,null!==s)if(c=s.value,0===(a=lr(c,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(c,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){s=c.child;for(var l=u.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===c.tag&&((l=la(-1,n&-n)).tag=2,da(c,l)),c.lanes|=n,null!==(l=c.alternate)&&(l.lanes|=n),ia(c.return,n),u.lanes|=n;break}l=l.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return a=$i(i=t.type,t.pendingProps),Vo(e,t,i,a=$i(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:$i(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Wo(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Go(e,t,n)}throw Error(o(156,t.tag))},iu.prototype.render=function(e){eu(e,this._internalRoot,null,null)},iu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;eu(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pc(e,4,fc()),ru(e,4))},nt=function(e){13===e.tag&&(pc(e,67108864,fc()),ru(e,67108864))},rt=function(e){if(13===e.tag){var t=fc(),n=hc(e);pc(e,n,t),ru(e,n)}},it=function(e,t){return t()},Pe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));$(r),ne(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},De=bc,Ne=function(e,t,n,r,i){var a=Os;Os|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Os=a)&&(qs(),Ji())}},Le=function(){0===(49&Os)&&(function(){if(null!==ic){var e=ic;ic=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mc(e,Bi())}))}Ji()}(),Lc())},Me=function(e,t){var n=Os;Os|=2;try{return e(t)}finally{0===(Os=n)&&(qs(),Ji())}};var cu={Events:[ri,ii,ai,Ie,Oe,Lc,{current:!1}]},uu={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lu={bundleType:uu.bundleType,version:uu.version,rendererPackageName:uu.rendererPackageName,rendererConfig:uu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:uu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!du.isDisabled&&du.supportsFiber)try{Ti=du.inject(lu),Ei=du}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cu,t.createPortal=su,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Os;if(0!==(48&n))return e(t);Os|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Os=n,Ji()}},t.hydrate=function(e,t,n){if(!au(t))throw Error(o(200));return ou(null,e,t,!0,n)},t.render=function(e,t,n){if(!au(t))throw Error(o(200));return ou(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!au(e))throw Error(o(40));return!!e._reactRootContainer&&(wc((function(){ou(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bc,t.unstable_createPortal=function(e,t){return su(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!au(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ou(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:l,props:a,_owner:o.current}}t.jsx=u,t.jsxs=u},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,c=60112;t.Suspense=60113;var u=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),a=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),o=d("react.provider"),s=d("react.context"),c=d("react.forward_ref"),t.Suspense=d("react.suspense"),u=d("react.memo"),l=d("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var k=y.prototype=new g;k.constructor=y,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!S.hasOwnProperty(r)&&(a[r]=t[r]);var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];a.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===a[r]&&(a[r]=c[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var x=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c=!1;if(null===e)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case i:case a:c=!0}}if(c)return o=o(c=e),e=""===r?"."+C(c,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(x,"$&/")+"/"),P(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(x,"$&/")+"/")+e)),t.push(o)),1;if(c=0,r=""===r?".":r+":",Array.isArray(e))for(var u=0;u<e.length;u++){var l=r+C(s=e[u],u);c+=P(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),u=0;!(s=e.next()).done;)c+=P(s=s.value,t,n,l=r+C(s,u++),o);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return c}function R(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function _(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function I(){var e=A.current;if(null===e)throw Error(h(321));return e}var O={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(h(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(h(267,e));var a=r({},e.props),o=e.key,s=e.ref,c=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,c=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)w.call(t,l)&&!S.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){u=Array(l);for(var d=0;d<l;d++)u[d]=arguments[d+2];a.children=u}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:c}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:_}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return I().useCallback(e,t)},t.useContext=function(e,t){return I().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return I().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return I().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return I().useLayoutEffect(e,t)},t.useMemo=function(e,t){return I().useMemo(e,t)},t.useReducer=function(e,t,n){return I().useReducer(e,t,n)},t.useRef=function(e){return I().useRef(e)},t.useState=function(e){return I().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(I){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new R(r||[]);return a._invoke=function(e,t,n){var r=d;return function(i,a){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=x(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?p:f,c.arg===v)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=u;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",v={};function m(){}function g(){}function y(){}var k={};c(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(_([])));w&&w!==n&&r.call(w,a)&&(k=w);var S=y.prototype=m.prototype=Object.create(k);function T(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var c=l(e[i],e,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(c.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return g.prototype=y,c(S,"constructor",y),c(y,"constructor",g),g.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},T(E.prototype),c(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},T(S),c(S,s,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:_(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,l=null,d=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(d,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,h=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+y;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){g=f((function(){e(t.unstable_now())}),n)},i=function(){h(g),g=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<x(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,c=e[s];if(void 0!==o&&0>x(o,n))void 0!==c&&0>x(c,o)?(e[r]=c,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==c&&0>x(c,n)))break e;e[r]=c,e[s]=n,r=s}}}return t}return null}function x(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],P=[],R=1,_=null,A=3,I=!1,O=!1,D=!1;function N(e){for(var t=T(P);null!==t;){if(null===t.callback)E(P);else{if(!(t.startTime<=e))break;E(P),t.sortIndex=t.expirationTime,S(C,t)}t=T(P)}}function L(e){if(D=!1,N(e),!O)if(null!==T(C))O=!0,n(M);else{var t=T(P);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,D&&(D=!1,i()),I=!0;var a=A;try{for(N(n),_=T(C);null!==_&&(!(_.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=_.callback;if("function"===typeof o){_.callback=null,A=_.priorityLevel;var s=o(_.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?_.callback=s:_===T(C)&&E(C),N(n)}else E(C);_=T(C)}if(null!==_)var c=!0;else{var u=T(P);null!==u&&r(L,u.startTime-n),c=!1}return c}finally{_=null,A=a,I=!1}}var U=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||I||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return T(C)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=U,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:R++,callback:a,priorityLevel:e,startTime:o,expirationTime:c=o+c,sortIndex:-1},o>s?(e.sortIndex=o,S(P,e),null===T(C)&&e===T(P)&&(D?i():D=!0,r(L,o-s))):(e.sortIndex=c,S(C,e),O||I||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},712:function(e){var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+=null!=e.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},861:function(e,t,n){var r=n(775),i=n(921);t.cW=i,t.Qc=r.parse,r.parseParams,r.parseFmtpConfig,r.parsePayloads,r.parseRemoteCandidates,r.parseImageAttributes,r.parseSimulcastStreamList},775:function(e,t,n){var r=function(e){return String(Number(e))===e?Number(e):e},i=function(e,t,n){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var a=e.push?{}:i?t[e.name]:t;!function(e,t,n,i){if(i&&!n)t[i]=r(e[1]);else for(var a=0;a<n.length;a+=1)null!=e[a+1]&&(t[n[a]]=r(e[a+1]))}(n.match(e.reg),a,e.names,e.name),e.push&&t[e.push].push(a)},a=n(712),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],r=t;return e.split(/(\r\n|\r|\n)/).filter(o).forEach((function(e){var t=e[0],o=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),r=n[n.length-1]);for(var s=0;s<(a[t]||[]).length;s+=1){var c=a[t][s];if(c.reg.test(o))return i(c,r,o)}})),t.media=n,t};var s=function(e,t){var n=t.split(/=(.+)/,2);return 2===n.length?e[n[0]]=r(n[1]):1===n.length&&t.length>1&&(e[n[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(r),i=0;i<n.length;i+=3)t.push({component:n[i],ip:n[i+1],port:n[i+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(s,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,n=!1;return"~"!==e[0]?t=r(e):(t=r(e.substring(1,e.length)),n=!0),{scid:t,paused:n}}))}))}},921:function(e,t,n){var r=n(712),i=/%[sdv%]/g,a=function(e){var t=1,n=arguments,r=n.length;return e.replace(i,(function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))},o=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var o=t.names[i];t.name?r.push(n[t.name][o]):r.push(n[t.names[i]])}else r.push(n[t.name]);return a.apply(null,r)},s=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||s,i=t.innerOrder||c,a=[];return n.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?a.push(o(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){a.push(o(t,n,e))}))}))})),e.media.forEach((function(e){a.push(o("m",r.m[0],e)),i.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?a.push(o(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){a.push(o(t,n,e))}))}))}))})),a.join("\r\n")+"\r\n"}},800:function(e){"use strict";var t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((function(e){return e.trim()}))},t.splitSections=function(e){return e.split("\nm=").map((function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"}))},t.getDescription=function(e){var n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){var n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((function(e){return 0===e.indexOf(n)}))},t.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:void 0===n[t[r]]&&(n[t[r]]=t[r+1])}return n},t.writeCandidate=function(e){var t=[];t.push(e.foundation);var n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},t.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach((function(t){void 0!==e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((function(e){return parseInt(e,10)}))}},t.getMid=function(e){var n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){var t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;var t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){var r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substr(12),password:i.substr(10)}:null},t.writeIceParameters=function(e){var t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){for(var n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" "),i=3;i<r.length;i++){var a=r[i],o=t.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(o){var s=t.parseRtpMap(o),c=t.matchPrefix(e,"a=fmtp:"+a+" ");switch(s.parameters=c.length?t.parseFmtp(c[0]):{},s.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(t.parseRtcpFb),n.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(s.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((function(e){n.headerExtensions.push(t.parseExtmap(e))})),n},t.writeRtpDescription=function(e,n){var r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=n.codecs.map((function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType})).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((function(e){r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));var i=0;return n.codecs.forEach((function(e){e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach((function(e){r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){var n,r=[],i=t.parseRtpParameters(e),a=-1!==i.fecMechanisms.indexOf("RED"),o=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute})),c=s.length>0&&s[0].ssrc,u=t.matchPrefix(e,"a=ssrc-group:FID").map((function(e){return e.substr(17).split(" ").map((function(e){return parseInt(e,10)}))}));u.length>0&&u[0].length>1&&u[0][0]===c&&(n=u[0][1]),i.codecs.forEach((function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var t={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&n&&(t.rtx={ssrc:n}),r.push(t),a&&((t=JSON.parse(JSON.stringify(t))).fec={ssrc:c,mechanism:o?"red+ulpfec":"red"},r.push(t))}})),0===r.length&&c&&r.push({ssrc:c});var l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substr(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substr(5),10)*.95-16e3:void 0,r.forEach((function(e){e.maxBitrate=l}))),r},t.parseRtcpParameters=function(e){var n={},r=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"cname"===e.attribute}))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);var i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;var a=t.matchPrefix(e,"a=rtcp-mux");return n.mux=a.length>0,n},t.writeRtcpParameters=function(e){var t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){var n,r=t.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(n=r[0].substr(7).split(" "))[0],track:n[1]};var i=t.matchPrefix(e,"a=ssrc:").map((function(e){return t.parseSsrcMedia(e)})).filter((function(e){return"msid"===e.attribute}));return i.length>0?{stream:(n=i[0].value.split(" "))[0],track:n[1]}:void 0},t.parseSctpDescription=function(e){var n,r=t.parseMLine(e),i=t.matchPrefix(e,"a=max-message-size:");i.length>0&&(n=parseInt(i[0].substr(19),10)),isNaN(n)&&(n=65536);var a=t.matchPrefix(e,"a=sctp-port:");if(a.length>0)return{port:parseInt(a[0].substr(12),10),protocol:r.fmt,maxMessageSize:n};var o=t.matchPrefix(e,"a=sctpmap:");if(o.length>0){var s=o[0].substr(10).split(" ");return{port:parseInt(s[0],10),protocol:s[1],maxMessageSize:n}}},t.writeSctpDescription=function(e,t){var n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,r){var i=void 0!==n?n:2;return"v=0\r\no="+(r||"thisisadapterortc")+" "+(e||t.generateSessionId())+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){for(var r=t.splitLines(e),i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){var n=t.splitLines(e)[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){var n=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;for(var n=t.splitLines(e),r=0;r<n.length;r++)if(n[r].length<2||"="!==n[r].charAt(1))return!1;return!0},e.exports=t},210:function(e,t,n){var r;!function(i,a){"use strict";var o="function",s="undefined",c="object",u="string",l="model",d="name",f="type",h="vendor",p="version",v="architecture",m="console",g="mobile",y="tablet",k="smarttv",b="wearable",w="embedded",S="Amazon",T="Apple",E="ASUS",x="BlackBerry",C="Firefox",P="Google",R="Huawei",_="LG",A="Microsoft",I="Motorola",O="Opera",D="Samsung",N="Sony",L="Xiaomi",M="Zebra",U="Facebook",j=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},F=function(e,t){return typeof e===u&&-1!==V(t).indexOf(V(e))},V=function(e){return e.toLowerCase()},z=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===s?e:e.substring(0,255)},G=function(e,t){for(var n,r,i,s,u,l,d=0;d<t.length&&!u;){var f=t[d],h=t[d+1];for(n=r=0;n<f.length&&!u;)if(u=f[n++].exec(e))for(i=0;i<h.length;i++)l=u[++r],typeof(s=h[i])===c&&s.length>0?2===s.length?typeof s[1]==o?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==o||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):a:this[s[0]]=l?s[1].call(this,l,s[2]):a:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):a):this[s]=l||a;d+=2}},B=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(F(t[n][r],e))return"?"===n?a:n}else if(F(t[n],e))return"?"===n?a:n;return e},H={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},K={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,p],[/opios[\/ ]+([\w\.]+)/i],[p,[d,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[p,[d,O]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,p],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[d,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[p,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[p,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[p,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure Browser"],p],[/\bfocus\/([\w\.]+)/i],[p,[d,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[p,[d,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[d,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[p,[d,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 Browser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,p],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,U],p],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[d,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,"Chrome WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,p],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[p,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[p,B,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[d,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,V]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",V]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,V]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,D],[f,y]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,D],[f,g]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[h,T],[f,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,T],[f,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,R],[f,y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[l,[h,R],[f,g]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,L],[f,g]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,L],[f,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[f,g]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[f,g]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[f,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,I],[f,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,I],[f,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,_],[f,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,_],[f,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[f,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[f,g]],[/(pixel c)\b/i],[l,[h,P],[f,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,P],[f,g]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,N],[f,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,N],[f,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[f,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,S],[f,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,S],[f,g]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[f,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,x],[f,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,E],[f,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,E],[f,g]],[/(nexus 9)/i],[l,[h,"HTC"],[f,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[f,g]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[f,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[f,g]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,"Sharp"],[f,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[f,g]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[f,y]],[/(surface duo)/i],[l,[h,A],[f,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[f,g]],[/(u304aa)/i],[l,[h,"AT&T"],[f,g]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[f,g]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[f,y]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[f,y]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[f,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[f,y]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[f,y]],[/\b(k88) b/i],[l,[h,"ZTE"],[f,y]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[f,g]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[f,g]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[f,y]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[f,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[f,y]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[f,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[f,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[f,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[f,g]],[/\b(ph-1) /i],[l,[h,"Essential"],[f,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[f,y]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[f,y]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[f,y]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[f,y]],[/(sprint) (\w+)/i],[h,l,[f,g]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,A],[f,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,M],[f,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,M],[f,g]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[f,m]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[f,m]],[/(playstation [345portablevi]+)/i],[l,[h,N],[f,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,A],[f,m]],[/smart-tv.+(samsung)/i],[h,[f,k]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,D],[f,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,_],[f,k]],[/(apple) ?tv/i],[h,[l,"Apple TV"],[f,k]],[/crkey/i],[[l,"Chromecast"],[h,P],[f,k]],[/droid.+aft(\w)( bui|\))/i],[l,[h,S],[f,k]],[/\(dtv[\);].+(aquos)/i],[l,[h,"Sharp"],[f,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,z],[l,z],[f,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,k]],[/((pebble))app/i],[h,l,[f,b]],[/droid.+; (glass) \d/i],[l,[h,P],[f,b]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,M],[f,b]],[/(quest( 2)?)/i],[l,[h,U],[f,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[f,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[f,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[f,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,y]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[f,g]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,p],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[p,B,H]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[p,B,H]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[p,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,p],[/\(bb(10);/i],[p,[d,x]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[d,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[p,[d,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],p],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,p],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,p]]},W=function e(t,n){if(typeof t===c&&(n=t,t=a),!(this instanceof e))return new e(t,n).getResult();var r=t||(typeof i!==s&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),o=n?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(K,n):K;return this.getBrowser=function(){var e,t={};return t.name=a,t.version=a,G.call(t,r,o.browser),t.major=typeof(e=t.version)===u?e.replace(/[^\d\.]/g,"").split(".")[0]:a,t},this.getCPU=function(){var e={};return e.architecture=a,G.call(e,r,o.cpu),e},this.getDevice=function(){var e={};return e.vendor=a,e.model=a,e.type=a,G.call(e,r,o.device),e},this.getEngine=function(){var e={};return e.name=a,e.version=a,G.call(e,r,o.engine),e},this.getOS=function(){var e={};return e.name=a,e.version=a,G.call(e,r,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===u&&e.length>255?z(e,255):e,this},this.setUA(r),this};W.VERSION="1.0.2",W.BROWSER=j([d,p,"major"]),W.CPU=j([v]),W.DEVICE=j([l,h,f,m,g,k,y,b,w]),W.ENGINE=W.OS=j([d,p]),typeof t!==s?(e.exports&&(t=e.exports=W),t.UAParser=W):n.amdO?(r=function(){return W}.call(t,n,t,e))===a||(e.exports=r):typeof i!==s&&(i.UAParser=W);var q=typeof i!==s&&(i.jQuery||i.Zepto);if(q&&!q.ua){var J=new W;q.ua=J.getResult(),q.ua.get=function(){return J.getUA()},q.ua.set=function(e){J.setUA(e);var t=J.getResult();for(var n in t)q.ua[n]=t[n]}}}("object"===typeof window?window:this)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".f1cb8339.chunk.js"},n.miniCssF=function(e){},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="zoom-clone:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,c;if(void 0!==a)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/zoom-clone/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],c=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(c)c(n)}for(t&&t(r);u<o.length;u++)a=o[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkzoom_clone=self.webpackChunkzoom_clone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{fixNegotiationNeeded:function(){return tt},shimAddTrackRemoveTrack:function(){return Ze},shimAddTrackRemoveTrackWithNative:function(){return Xe},shimGetDisplayMedia:function(){return We},shimGetSendersWithDtmf:function(){return Ye},shimGetStats:function(){return Qe},shimGetUserMedia:function(){return Ke},shimMediaStream:function(){return qe},shimOnTrack:function(){return Je},shimPeerConnection:function(){return et},shimSenderReceiverGetStats:function(){return $e}});var t={};n.r(t),n.d(t,{shimAddTransceiver:function(){return lt},shimCreateAnswer:function(){return ht},shimCreateOffer:function(){return ft},shimGetDisplayMedia:function(){return rt},shimGetParameters:function(){return dt},shimGetUserMedia:function(){return nt},shimOnTrack:function(){return it},shimPeerConnection:function(){return at},shimRTCDataChannel:function(){return ut},shimReceiverGetStats:function(){return st},shimRemoveStream:function(){return ct},shimSenderGetStats:function(){return ot}});var r={};n.r(r),n.d(r,{shimAudioContext:function(){return St},shimCallbacksAPI:function(){return mt},shimConstraints:function(){return yt},shimCreateOfferLegacy:function(){return wt},shimGetUserMedia:function(){return gt},shimLocalStreamsAPI:function(){return pt},shimRTCIceServerUrls:function(){return kt},shimRemoteStreamsAPI:function(){return vt},shimTrackEventTransceiver:function(){return bt}});var i={};n.r(i),n.d(i,{removeExtmapAllowMixed:function(){return _t},shimAddIceCandidateNullOrEmpty:function(){return At},shimConnectionState:function(){return Rt},shimMaxMessageSize:function(){return Ct},shimParameterlessSetLocalDescription:function(){return It},shimRTCIceCandidate:function(){return xt},shimSendThrowTypeError:function(){return Pt}});var a=n(791),o=n(164);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function f(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var h=n(757),p=n.n(h);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(c){s=!0,i=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||d(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||d(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function k(e){return!!e&&!!e[oe]}function b(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===se}(e)||Array.isArray(e)||!!e[ae]||!!e.constructor[ae]||P(e)||R(e))}function w(e,t,n){void 0===n&&(n=!1),0===S(e)?(n?Object.keys:ce)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function S(e){var t=e[oe];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:P(e)?2:R(e)?3:0}function T(e,t){return 2===S(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function E(e,t){return 2===S(e)?e.get(t):e[t]}function x(e,t,n){var r=S(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function C(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function P(e){return te&&e instanceof Map}function R(e){return ne&&e instanceof Set}function _(e){return e.o||e.t}function A(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ue(e);delete t[oe];for(var n=ce(t),r=0;r<n.length;r++){var i=n[r],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function I(e,t){return void 0===t&&(t=!1),D(e)||k(e)||!b(e)||(S(e)>1&&(e.set=e.add=e.clear=e.delete=O),Object.freeze(e),t&&w(e,(function(e,t){return I(t,!0)}),!0)),e}function O(){y(2)}function D(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function N(e){var t=le[e];return t||y(18,e),t}function L(){return Z}function M(e,t){t&&(N("Patches"),e.u=[],e.s=[],e.v=t)}function U(e){j(e),e.p.forEach(V),e.p=null}function j(e){e===Z&&(Z=e.l)}function F(e){return Z={p:[],l:Z,h:e,m:!0,_:0}}function V(e){var t=e[oe];0===t.i||1===t.i?t.j():t.O=!0}function z(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||N("ES5").S(t,e,r),r?(n[oe].P&&(U(t),y(4)),b(e)&&(e=G(t,e),t.l||H(t,e)),t.u&&N("Patches").M(n[oe].t,e,t.u,t.s)):e=G(t,n,[]),U(t),t.u&&t.v(t.u,t.s),e!==ie?e:void 0}function G(e,t,n){if(D(t))return t;var r=t[oe];if(!r)return w(t,(function(i,a){return B(e,r,t,i,a,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return H(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=A(r.k):r.o;w(3===r.i?new Set(i):i,(function(t,a){return B(e,r,i,t,a,n)})),H(e,i,!1),n&&e.u&&N("Patches").R(r,n,e.u,e.s)}return r.o}function B(e,t,n,r,i,a){if(k(i)){var o=G(e,i,a&&t&&3!==t.i&&!T(t.D,r)?a.concat(r):void 0);if(x(n,r,o),!k(o))return;e.m=!1}if(b(i)&&!D(i)){if(!e.h.F&&e._<1)return;G(e,i),t&&t.A.l||H(e,i)}}function H(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&I(t,n)}function K(e,t){var n=e[oe];return(n?_(n):e)[t]}function W(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function q(e){e.P||(e.P=!0,e.l&&q(e.l))}function J(e){e.o||(e.o=A(e.t))}function Y(e,t,n){var r=P(t)?N("MapSet").N(t,n):R(t)?N("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:L(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,a=de;n&&(i=[r],a=fe);var o=Proxy.revocable(i,a),s=o.revoke,c=o.proxy;return r.k=c,r.j=s,c}(t,n):N("ES5").J(t,n);return(n?n.A:L()).p.push(r),r}function Q(e){return k(e)||y(22,e),function e(t){if(!b(t))return t;var n,r=t[oe],i=S(t);if(r){if(!r.P&&(r.i<4||!N("ES5").K(r)))return r.t;r.I=!0,n=$(t,i),r.I=!1}else n=$(t,i);return w(n,(function(t,i){r&&E(r.t,t)===i||x(n,t,e(i))})),3===i?new Set(n):n}(e)}function $(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return A(e)}var X,Z,ee="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),te="undefined"!=typeof Map,ne="undefined"!=typeof Set,re="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ie=ee?Symbol.for("immer-nothing"):((X={})["immer-nothing"]=!0,X),ae=ee?Symbol.for("immer-draftable"):"__$immer_draftable",oe=ee?Symbol.for("immer-state"):"__$immer_state",se=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ce="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ue=Object.getOwnPropertyDescriptors||function(e){var t={};return ce(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},le={},de={get:function(e,t){if(t===oe)return e;var n=_(e);if(!T(n,t))return function(e,t,n){var r,i=W(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!b(r)?r:r===K(e.t,t)?(J(e),e.o[t]=Y(e.A.h,r,e)):r},has:function(e,t){return t in _(e)},ownKeys:function(e){return Reflect.ownKeys(_(e))},set:function(e,t,n){var r=W(_(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=K(_(e),t),a=null==i?void 0:i[oe];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(C(n,i)&&(void 0!==n||T(e.t,t)))return!0;J(e),q(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==K(e.t,t)||t in e.t?(e.D[t]=!1,J(e),q(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=_(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){y(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){y(12)}},fe={};w(de,(function(e,t){fe[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),fe.deleteProperty=function(e,t){return fe.set.call(this,e,t,void 0)},fe.set=function(e,t,n){return de.set.call(this,e[0],t,n,e[0])};var he=function(){function e(e){var t=this;this.g=re,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var a=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return a.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&y(6),void 0!==r&&"function"!=typeof r&&y(7),b(e)){var s=F(t),c=Y(t,e,void 0),u=!0;try{o=n(c),u=!1}finally{u?U(s):j(s)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return M(s,r),z(e,s)}),(function(e){throw U(s),e})):(M(s,r),z(o,s))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===ie&&(o=void 0),t.F&&I(o,!0),r){var l=[],d=[];N("Patches").M(e,o,l,d),r(l,d)}return o}y(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,a=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return[e,r,i]})):[a,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){b(e)||y(8),k(e)&&(e=Q(e));var t=F(this),n=Y(this,e,void 0);return n[oe].C=!0,j(t),n},t.finishDraft=function(e,t){var n=(e&&e[oe]).A;return M(n,t),z(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!re&&y(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=N("Patches").$;return k(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),pe=new he,ve=pe.produce,me=(pe.produceWithPatches.bind(pe),pe.setAutoFreeze.bind(pe),pe.setUseProxies.bind(pe),pe.applyPatches.bind(pe),pe.createDraft.bind(pe),pe.finishDraft.bind(pe),ve);var ge=function(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is,o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a};var ye=function(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0};function ke(e){return ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ke(e)}function be(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ke(e)););return e}function we(){return we="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=be(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},we.apply(this,arguments)}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e,t){return Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Te(e,t)}function Ee(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Te(e,t)}function xe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Pe(e,t){if(t&&("object"===Ce(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Se(e)}function Re(e){var t=xe();return function(){var n,r=ke(e);if(t){var i=ke(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pe(this,n)}}function _e(e,t,n){return _e=xe()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Te(i,n.prototype),i},_e.apply(null,arguments)}function Ae(e){var t="function"===typeof Map?new Map:void 0;return Ae=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return _e(e,arguments,ke(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Te(n,e)},Ae(e)}var Ie=!0,Oe=!0;function De(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function Ne(e,t,n){if(e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);var a=function(e){var t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,a),i.apply(this,[e,a])};var a=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return a.apply(this,arguments);if(!this._eventMap[t].has(n))return a.apply(this,arguments);var r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,a.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}}function Le(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(Ie=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function Me(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(Oe=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function Ue(){if("object"===typeof window){if(Ie)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}}function je(e,t){Oe&&console.warn(e+" is deprecated, please use "+t+" instead.")}function Fe(e){var t={browser:null,version:null};if("undefined"===typeof e||!e.navigator)return t.browser="Not a browser.",t;var n=e.navigator;if(n.mozGetUserMedia)t.browser="firefox",t.version=De(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=De(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=De(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}function Ve(e){return"[object Object]"===Object.prototype.toString.call(e)}function ze(e){return Ve(e)?Object.keys(e).reduce((function(t,n){var r=Ve(e[n]),i=r?ze(e[n]):e[n],a=r&&!Object.keys(i).length;return void 0===i||a?t:Object.assign(t,m({},n,i))}),{}):e}function Ge(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((function(r){r.endsWith("Id")?Ge(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((function(t){Ge(e,e.get(t),n)}))})))}function Be(e,t,n){var r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var a=[];return e.forEach((function(e){"track"===e.type&&e.trackIdentifier===t.id&&a.push(e)})),a.forEach((function(t){e.forEach((function(n){n.type===r&&n.trackId===t.id&&Ge(e,n,i)}))})),i}var He=Ue;function Ke(e,t){var n=e&&e.navigator;if(n.mediaDevices){var r=function(e){if("object"!==typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach((function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"===typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"===typeof r.exact&&(r.min=r.max=r.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var a={};"number"===typeof r.ideal?(a[i("min",n)]=r.ideal,t.optional.push(a),(a={})[i("max",n)]=r.ideal,t.optional.push(a)):(a[i("",n)]=r.ideal,t.optional.push(a))}void 0!==r.exact&&"number"!==typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))}})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===typeof e.audio){var a=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};a((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),a(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"===typeof e.video){var o=e.video.facingMode;o=o&&("object"===typeof o?o:{ideal:o});var s,c=t.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||c))if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?s=["back","rear"]:"user"!==o.exact&&"user"!==o.ideal||(s=["front"]),s)return n.mediaDevices.enumerateDevices().then((function(t){t=t.filter((function(e){return"videoinput"===e.kind}));var n=t.find((function(e){return s.some((function(t){return e.label.toLowerCase().includes(t)}))}));return!n&&t.length&&s.includes("back")&&(n=t[t.length-1]),n&&(e.video.deviceId=o.exact?{exact:n.deviceId}:{ideal:n.deviceId}),e.video=r(e.video),He("chrome: "+JSON.stringify(e)),i(e)}));e.video=r(e.video)}return He("chrome: "+JSON.stringify(e)),i(e)},a=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){i(e,(function(e){n.webkitGetUserMedia(e,t,(function(e){r&&r(a(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){var o=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(e){return i(e,(function(e){return o(e).then((function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach((function(e){e.stop()})),new DOMException("","NotFoundError");return t}),(function(e){return Promise.reject(a(e))}))}))}}}}function We(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"===typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((function(t){var r=n.video&&n.video.width,i=n.video&&n.video.height,a=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:a||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function qe(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function Je(e){if("object"===typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var n=this;return this._ontrackpoly||(this._ontrackpoly=function(t){t.stream.addEventListener("addtrack",(function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.track.id})):{track:r.track};var a=new Event("track");a.track=r.track,a.receiver=i,a.transceiver={receiver:i},a.streams=[t.stream],n.dispatchEvent(a)})),t.stream.getTracks().forEach((function(r){var i;i=e.RTCPeerConnection.prototype.getReceivers?n.getReceivers().find((function(e){return e.track&&e.track.id===r.id})):{track:r};var a=new Event("track");a.track=r,a.receiver=i,a.transceiver={receiver:i},a.streams=[t.stream],n.dispatchEvent(a)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else Ne(e,"track",(function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e}))}function Ye(e){if("object"===typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){var i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((function(e){n._senders.push(t(n,e))}))};var a=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._senders=this._senders||[],a.apply(this,[e]),e.getTracks().forEach((function(e){var n=t._senders.find((function(t){return t.track===e}));n&&t._senders.splice(t._senders.indexOf(n),1)}))}}else if("object"===typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var o=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=o.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Qe(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=this,n=Array.prototype.slice.call(arguments),r=n[0],i=n[1],a=n[2];if(arguments.length>0&&"function"===typeof r)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!==typeof r))return t.apply(this,[]);var o=function(e){var t={};return e.result().forEach((function(e){var n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((function(t){n[t]=e.stat(t)})),t[n.id]=n})),t},s=function(e){return new Map(Object.keys(e).map((function(t){return[t,e[t]]})))};if(arguments.length>=2){var c=function(e){i(s(o(e)))};return t.apply(this,[c,r])}return new Promise((function(n,r){t.apply(e,[function(e){n(s(o(e)))},r])})).then(i,a)}}}function $e(e){if("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return Be(t,e.track,!0)}))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var r=e.RTCPeerConnection.prototype.getReceivers;r&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=r.apply(this,[]);return t.forEach((function(t){return t._pc=e})),t}),Ne(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then((function(t){return Be(t,e.track,!1)}))}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var i=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,n,r,a=arguments[0];return this.getSenders().forEach((function(e){e.track===a&&(t?r=!0:t=e)})),this.getReceivers().forEach((function(e){return e.track===a&&(n?r=!0:n=e),e.track===a})),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return i.apply(this,arguments)}}}}function Xe(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((function(t){return e._shimmedLocalStreams[t][0]}))};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};var n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((function(e){var n=t.getSenders().find((function(t){return t.track===e}));if(n)throw new DOMException("Track already exists.","InvalidAccessError")}));var r=this.getSenders();n.apply(this,arguments);var i=this.getSenders().filter((function(e){return-1===r.indexOf(e)}));this._shimmedLocalStreams[e.id]=[e].concat(i)};var r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((function(n){var r=t._shimmedLocalStreams[n].indexOf(e);-1!==r&&t._shimmedLocalStreams[n].splice(r,1),1===t._shimmedLocalStreams[n].length&&delete t._shimmedLocalStreams[n]})),i.apply(this,arguments)}}function Ze(e,t){if(e.RTCPeerConnection){if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Xe(e);var n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=n.apply(this);return this._reverseStreams=this._reverseStreams||{},t.map((function(t){return e._reverseStreams[t.id]}))};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var n=this;if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((function(e){var t=n.getSenders().find((function(t){return t.track===e}));if(t)throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){var i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}r.apply(this,[t])};var i=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){var r=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find((function(e){return e===t})))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");var a=this.getSenders().find((function(e){return e.track===t}));if(a)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};var o=this._streams[n.id];if(o)o.addTrack(t),Promise.resolve().then((function(){r.dispatchEvent(new Event("negotiationneeded"))}));else{var s=new e.MediaStream([t]);this._streams[n.id]=s,this._reverseStreams[s.id]=n,this.addStream(s)}return this.getSenders().find((function(e){return e.track===t}))},["createOffer","createAnswer"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=m({},t,(function(){var e=this,t=arguments,r=arguments.length&&"function"===typeof arguments[0];return r?n.apply(this,[function(n){var r=s(e,n);t[0].apply(null,[r])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):n.apply(this,arguments).then((function(t){return s(e,t)}))}));e.RTCPeerConnection.prototype[t]=r[t]}));var a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=c(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};var o=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=o.get.apply(this);return""===e.type?e:s(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,n=this;if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{},Object.keys(this._streams).forEach((function(r){n._streams[r].getTracks().find((function(t){return e.track===t}))&&(t=n._streams[r])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function s(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}function c(e,t){var n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((function(t){var r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}}function et(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=m({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]}))}function tt(e,t){Ne(e,"negotiationneeded",(function(e){var n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}function nt(e,t){var n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){je("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){var i=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(e){return"object"===typeof e&&"object"===typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),i(e.audio,"autoGainControl","mozAutoGainControl"),i(e.audio,"noiseSuppression","mozNoiseSuppression")),a(e)},r&&r.prototype.getSettings){var o=r.prototype.getSettings;r.prototype.getSettings=function(){var e=o.apply(this,arguments);return i(e,"mozAutoGainControl","autoGainControl"),i(e,"mozNoiseSuppression","noiseSuppression"),e}}if(r&&r.prototype.applyConstraints){var s=r.prototype.applyConstraints;r.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"===typeof e&&(e=JSON.parse(JSON.stringify(e)),i(e,"autoGainControl","mozAutoGainControl"),i(e,"noiseSuppression","mozNoiseSuppression")),s.apply(this,[e])}}}}function rt(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){var r=new DOMException("getDisplayMedia without video constraints is undefined");return r.name="NotFoundError",r.code=8,Promise.reject(r)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function it(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function at(e,t){if("object"===typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){var n=e.RTCPeerConnection.prototype[t],r=m({},t,(function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}));e.RTCPeerConnection.prototype[t]=r[t]}));var n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){var e=Array.prototype.slice.call(arguments),i=e[0],a=e[1],o=e[2];return r.apply(this,[i||null]).then((function(e){if(t.version<53&&!a)try{e.forEach((function(e){e.type=n[e.type]||e.type}))}catch(r){if("TypeError"!==r.name)throw r;e.forEach((function(t,r){e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(a,o)}}}function ot(e){if("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpSender.prototype))){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n});var n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}}function st(e){if("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&(!e.RTCRtpSender||!("getStats"in e.RTCRtpReceiver.prototype))){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,n=t.apply(this,[]);return n.forEach((function(t){return t._pc=e})),n}),Ne(e,"track",(function(e){return e.receiver._pc=e.srcElement,e})),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}}function ct(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;je("removeStream","removeTrack"),this.getSenders().forEach((function(n){n.track&&e.getTracks().includes(n.track)&&t.removeTrack(n)}))})}function ut(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function lt(e){if("object"===typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];var e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach((function(e){if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));var r=t.apply(this,arguments);if(n){var i=r.sender,a=i.getParameters();(!("encodings"in a)||1===a.encodings.length&&0===Object.keys(a.encodings[0]).length)&&(a.encodings=e.sendEncodings,i.sendEncodings=e.sendEncodings,this.setParametersPromises.push(i.setParameters(a).then((function(){delete i.sendEncodings})).catch((function(){delete i.sendEncodings}))))}return r})}}function dt(e){if("object"===typeof e&&e.RTCRtpSender){var t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){var e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}}function ft(e){if("object"===typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(n,e)})).finally((function(){n.setParametersPromises=[]})):t.apply(this,arguments)}}}function ht(e){if("object"===typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){var e=arguments,n=this;return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((function(){return t.apply(n,e)})).finally((function(){n.setParametersPromises=[]})):t.apply(this,arguments)}}}function pt(e){if("object"===typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var n=this;this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((function(r){return t.call(n,r,e)})),e.getVideoTracks().forEach((function(r){return t.call(n,r,e)}))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=this,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i&&i.forEach((function(e){n._localStreams?n._localStreams.includes(e)||n._localStreams.push(e):n._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;this._localStreams||(this._localStreams=[]);var n=this._localStreams.indexOf(e);if(-1!==n){this._localStreams.splice(n,1);var r=e.getTracks();this.getSenders().forEach((function(e){r.includes(e.track)&&t.removeTrack(e)}))}})}}function vt(e){if("object"===typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){var t=this;this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=function(e){e.streams.forEach((function(e){if(t._remoteStreams||(t._remoteStreams=[]),!t._remoteStreams.includes(e)){t._remoteStreams.push(e);var n=new Event("addstream");n.stream=e,t.dispatchEvent(n)}}))})}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}}))}),t.apply(e,arguments)}}}function mt(e){if("object"===typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,a=t.setRemoteDescription,o=t.addIceCandidate;t.createOffer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};var s=function(e,t,n){var r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){var r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){var r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=s}}function gt(e){var t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){var n=t.mediaDevices,r=n.getUserMedia.bind(n);t.mediaDevices.getUserMedia=function(e){return r(yt(e))}}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function yt(e){return e&&void 0!==e.video?Object.assign({},e,{video:ze(e.video)}):e}function kt(e){if(e.RTCPeerConnection){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){for(var r=[],i=0;i<e.iceServers.length;i++){var a=e.iceServers[i];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(je("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,r.push(a)):r.push(e.iceServers[i])}e.iceServers=r}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})}}function bt(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})}function wt(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){"undefined"!==typeof e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=this.getTransceivers().find((function(e){return"audio"===e.receiver.track.kind}));!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||this.addTransceiver("audio",{direction:"recvonly"}),"undefined"!==typeof e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var r=this.getTransceivers().find((function(e){return"video"===e.receiver.track.kind}));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function St(e){"object"!==typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Tt=n(800),Et=n.n(Tt);function xt(e){if(!(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var n=new t(e),r=Et().parseCandidate(e.candidate),i=Object.assign(n,r);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,Ne(e,"icecandidate",(function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t}))}}function Ct(e,t){if(e.RTCPeerConnection){"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp}});var n=function(e){if(!e||!e.sdp)return!1;var t=Et().splitSections(e.sdp);return t.shift(),t.some((function(e){var t=Et().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},r=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var n=parseInt(t[1],10);return n!==n?-1:n},i=function(e){var n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},a=function(e,n){var r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);var i=Et().matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},o=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){var e=this.getConfiguration(),s=e.sdpSemantics;"plan-b"===s&&Object.defineProperty(this,"sctp",{get:function(){return"undefined"===typeof this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){var c,u=r(arguments[0]),l=i(u),d=a(arguments[0],u);c=0===l&&0===d?Number.POSITIVE_INFINITY:0===l||0===d?Math.max(l,d):Math.min(l,d);var f={};Object.defineProperty(f,"maxMessageSize",{get:function(){return c}}),this._sctp=f}return o.apply(this,arguments)}}}function Pt(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return n(e,this),e},Ne(e,"datachannel",(function(e){return n(e.channel,e.target),e}))}function n(e,t){var n=e.send;e.send=function(){var r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}}function Rt(e){if(e.RTCPeerConnection&&!("connectionState"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get:function(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get:function(){return this._onconnectionstatechange||null},set:function(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((function(e){var n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=function(e){var t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;var n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}}function _t(e,t){if(e.RTCPeerConnection&&!("chrome"===t.browser&&t.version>=71)&&!("safari"===t.browser&&t.version>=605)){var n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){var r=t.sdp.split("\n").filter((function(e){return"a=extmap-allow-mixed"!==e.trim()})).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:r}):t.sdp=r}return n.apply(this,arguments)}}}function At(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}}function It(e,t){if(e.RTCPeerConnection&&e.RTCPeerConnection.prototype){var n=e.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){var e=this,t=arguments[0]||{};if("object"!==typeof t||t.type&&t.sdp)return n.apply(this,arguments);if(!(t={type:t.type,sdp:t.sdp}).type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":t.type="offer";break;default:t.type="answer"}if(t.sdp||"offer"!==t.type&&"answer"!==t.type)return n.apply(this,[t]);var r="offer"===t.type?this.createOffer:this.createAnswer;return r.apply(this).then((function(t){return n.apply(e,[t])}))})}}var Ot,Dt=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.window,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0},s=Ue,c=Fe(a),u={browserDetails:c,commonShim:i,extractVersion:De,disableLog:Le,disableWarnings:Me,sdp:Tt};switch(c.browser){case"chrome":if(!e||!et||!o.shimChrome)return s("Chrome shim is not included in this adapter release."),u;if(null===c.version)return s("Chrome shim can not determine version, not shimming."),u;s("adapter.js shimming chrome."),u.browserShim=e,At(a,c),It(a),Ke(a,c),qe(a),et(a,c),Je(a),Ze(a,c),Ye(a),Qe(a),$e(a),tt(a,c),xt(a),Rt(a),Ct(a,c),Pt(a),_t(a,c);break;case"firefox":if(!t||!at||!o.shimFirefox)return s("Firefox shim is not included in this adapter release."),u;s("adapter.js shimming firefox."),u.browserShim=t,At(a,c),It(a),nt(a,c),at(a,c),it(a),ct(a),ot(a),st(a),ut(a),lt(a),dt(a),ft(a),ht(a),xt(a),Rt(a),Ct(a,c),Pt(a);break;case"safari":if(!r||!o.shimSafari)return s("Safari shim is not included in this adapter release."),u;s("adapter.js shimming safari."),u.browserShim=r,At(a,c),It(a),kt(a),wt(a),mt(a),pt(a),vt(a),bt(a),gt(a),St(a),xt(a),Ct(a,c),Pt(a),_t(a,c);break;default:s("Unsupported browser!")}return u}({window:"undefined"===typeof window?void 0:window}),Nt=Dt,Lt=n(861),Mt=n(210),Ut=new Uint8Array(16);function jt(){if(!Ot&&!(Ot="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ot(Ut)}var Ft=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Vt=function(e){return"string"===typeof e&&Ft.test(e)},zt=[],Gt=0;Gt<256;++Gt)zt.push((Gt+256).toString(16).substr(1));var Bt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(zt[e[t+0]]+zt[e[t+1]]+zt[e[t+2]]+zt[e[t+3]]+"-"+zt[e[t+4]]+zt[e[t+5]]+"-"+zt[e[t+6]]+zt[e[t+7]]+"-"+zt[e[t+8]]+zt[e[t+9]]+"-"+zt[e[t+10]]+zt[e[t+11]]+zt[e[t+12]]+zt[e[t+13]]+zt[e[t+14]]+zt[e[t+15]]).toLowerCase();if(!Vt(n))throw TypeError("Stringified UUID is invalid");return n};var Ht,Kt,Wt=function(e,t,n){var r=(e=e||{}).random||(e.rng||jt)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Bt(r)},qt=n(371),Jt=Object.defineProperty,Yt=Object.defineProperties,Qt=Object.getOwnPropertyDescriptors,$t=Object.getOwnPropertySymbols,Xt=Object.prototype.hasOwnProperty,Zt=Object.prototype.propertyIsEnumerable,en=function(e,t,n){return t in e?Jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},tn=function(e,t){for(var n in t||(t={}))Xt.call(t,n)&&en(e,n,t[n]);if($t){var r,i=f($t(t));try{for(i.s();!(r=i.n()).done;){n=r.value;Zt.call(t,n)&&en(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e},nn=function(e,t){return Yt(e,Qt(t))},rn=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(T){i(T)}},o=function(e){try{s(n.throw(e))}catch(T){i(T)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))};!function(e){e[e.VERBOSE=0]="VERBOSE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.TIME=4]="TIME",e[e.TIMEEND=5]="TIMEEND",e[e.ERROR=6]="ERROR",e[e.NONE=7]="NONE"}(Kt||(Kt={}));var an,on="undefined"!=typeof window&&"undefined"!=typeof window.expect,sn=function(){function e(){s(this,e)}return u(e,null,[{key:"v",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log.apply(this,[0,e].concat(n))}},{key:"d",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log.apply(this,[1,e].concat(n))}},{key:"i",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log.apply(this,[2,e].concat(n))}},{key:"w",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log.apply(this,[3,e].concat(n))}},{key:"e",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log.apply(this,[6,e].concat(n))}},{key:"time",value:function(e){this.log(4,"[HMSPerformanceTiming]",e)}},{key:"timeEnd",value:function(e){this.log(5,"[HMSPerformanceTiming]",e,e)}},{key:"cleanUp",value:function(){performance.clearMarks(),performance.clearMeasures()}},{key:"log",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!(this.level.valueOf()>e.valueOf()))switch(e){case 0:var a;(a=console).log.apply(a,[t].concat(r));break;case 1:var o;(o=console).debug.apply(o,[t].concat(r));break;case 2:var s;(s=console).info.apply(s,[t].concat(r));break;case 3:var c;(c=console).warn.apply(c,[t].concat(r));break;case 6:var u;(u=console).error.apply(u,[t].concat(r));break;case 4:performance.mark(r[0]);break;case 5:var l=r[0];try{var d=performance.measure(l,l);this.log(1,t,l,null==d?void 0:d.duration),performance.clearMarks(l),performance.clearMeasures(l)}catch(d){this.log(1,t,l,d)}}}}]),e}();sn.level=on?7:0,function(e){e[e.Publish=0]="Publish",e[e.Subscribe=1]="Subscribe"}(an||(an={}));var cn,un={WebSocketConnectionErrors:{GENERIC_CONNECT:1e3,WEBSOCKET_CONNECTION_LOST:1003},InitAPIErrors:{SERVER_ERRORS:2e3,INIT_CONFIG_NOT_AVAILABLE:2002,ENDPOINT_UNREACHABLE:2003,INVALID_TOKEN_FORMAT:2004},TracksErrors:{GENERIC_TRACK:3e3,CANT_ACCESS_CAPTURE_DEVICE:3001,DEVICE_NOT_AVAILABLE:3002,DEVICE_IN_USE:3003,DEVICE_LOST_MIDWAY:3008,NOTHING_TO_RETURN:3005,INVALID_VIDEO_SETTINGS:3006,CODEC_CHANGE_NOT_PERMITTED:3007,AUTOPLAY_ERROR:3008,OVER_CONSTRAINED:3009,NO_AUDIO_DETECTED:3010},WebrtcErrors:{CREATE_OFFER_FAILED:4001,CREATE_ANSWER_FAILED:4002,SET_LOCAL_DESCRIPTION_FAILED:4003,SET_REMOTE_DESCRIPTION_FAILED:4004,ICE_FAILURE:4005},WebsocketMethodErrors:{SERVER_ERRORS:5e3,ALREADY_JOINED:5001,CANNOT_JOIN_PREVIEW_IN_PROGRESS:5002},GenericErrors:{NOT_CONNECTED:6e3,SIGNALLING:6001,UNKNOWN:6002,NOT_READY:6003,JSON_PARSING_FAILED:6004,TRACK_METADATA_MISSING:6005,RTC_TRACK_MISSING:6006,PEER_METADATA_MISSING:6007,INVALID_ROLE:6008,PREVIEW_IN_PROGRESS:6009,MISSING_MEDIADEVICES:6010,MISSING_RTCPEERCONNECTION:6011},PlaylistErrors:{NO_ENTRY_TO_PLAY:8001,NO_ENTRY_IS_PLAYING:8002}},ln=function(e){Ee(n,e);var t=Re(n);function n(e,r,i,a,o){var c,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return s(this,n),(c=t.call(this,a)).code=e,c.name=r,c.message=a,c.description=o,c.isTerminal=u,Object.setPrototypeOf(Se(c),n.prototype),c.action=i.toString(),c}return u(n,[{key:"toAnalyticsProperties",value:function(){return{error_name:this.name,error_code:this.code,error_message:this.message,error_description:this.description,action:this.action,is_terminal:this.isTerminal}}},{key:"addNativeError",value:function(e){this.nativeError=e}}]),n}(Ae(Error));!function(e){e.NONE="NONE",e.TRACK="TRACK",e.INIT="INIT",e.PUBLISH="PUBLISH",e.UNPUBLISH="UNPUBLISH",e.JOIN="JOIN",e.SUBSCRIBE="SUBSCRIBE",e.DATA_CHANNEL_SEND="DATA_CHANNEL_SEND",e.RESTART_ICE="RESTART_ICE",e.VIDEO_PLUGINS="VIDEO_PLUGINS",e.AUDIO_PLUGINS="AUDIO_PLUGINS",e.AUTOPLAY="AUTOPLAY",e.RECONNECT_SIGNAL="RECONNECT_SIGNAL",e.VALIDATION="VALIDATION",e.PLAYLIST="PLAYLIST",e.PREVIEW="PREVIEW"}(cn||(cn={}));var dn={GenericConnect:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.WebSocketConnectionErrors.GENERIC_CONNECT,"WebsocketConnection",e,"[WS]: ".concat(t),"[WS]: ".concat(t))},WebSocketConnectionLost:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.WebSocketConnectionErrors.WEBSOCKET_CONNECTION_LOST,"WebSocketConnectionLost",e,"Network connection lost ",t)}},fn={ServerErrors:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return new ln(e,"ServerErrors",t,"[INIT]: Server error",n)},EndpointUnreachable:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.InitAPIErrors.ENDPOINT_UNREACHABLE,"EndpointUnreachable",e,"Endpoint is not reachable.",t)},InvalidTokenFormat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.InitAPIErrors.INVALID_TOKEN_FORMAT,"InvalidTokenFormat",e,"Token is not in proper JWT format - ".concat(t),t)},InitConfigNotAvailable:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.InitAPIErrors.INIT_CONFIG_NOT_AVAILABLE,"InitError",e,"[INIT]: ".concat(t),"[INIT]: ".concat(t))}},hn={GenericTrack:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.TracksErrors.GENERIC_TRACK,"GenericTrack",e,"[TRACK]: ".concat(t),"[TRACK]: ".concat(t))},CantAccessCaptureDevice:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return new ln(un.TracksErrors.CANT_ACCESS_CAPTURE_DEVICE,"CantAccessCaptureDevice",e,"[TRACK]: No permission to access capture device - ".concat(t),n)},DeviceNotAvailable:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return new ln(un.TracksErrors.DEVICE_NOT_AVAILABLE,"DeviceNotAvailable",e,"[TRACK]: Capture device is no longer available - ".concat(t),n)},DeviceInUse:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return new ln(un.TracksErrors.DEVICE_IN_USE,"DeviceInUse",e,"[TRACK]: Capture device is in use by another application - ".concat(t),n)},DeviceLostMidway:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return new ln(un.TracksErrors.DEVICE_LOST_MIDWAY,"DeviceLostMidway",e,"Lost access to capture device midway - ".concat(t),n)},NothingToReturn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.TracksErrors.NOTHING_TO_RETURN,"NothingToReturn",e,"There is no media to return. Please select either video or audio or both.",t)},InvalidVideoSettings:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.TracksErrors.INVALID_VIDEO_SETTINGS,"InvalidVideoSettings",e,"Cannot enable simulcast when no video settings are provided",t)},AutoplayBlocked:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.TracksErrors.AUTOPLAY_ERROR,"AutoplayBlocked",e,"Autoplay blocked because the user didn't interact with the document first",t)},CodecChangeNotPermitted:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.TracksErrors.CODEC_CHANGE_NOT_PERMITTED,"CodecChangeNotPermitted",e,"Codec can't be changed mid call.",t)},OverConstrained:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return new ln(un.TracksErrors.OVER_CONSTRAINED,"OverConstrained",e,"[TRACK]: Requested constraints cannot be satisfied with the device hardware - ".concat(t),n)},NoAudioDetected:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Please check the mic or use another audio input";return new ln(un.TracksErrors.NO_AUDIO_DETECTED,"NoAudioDetected",e,"No audio input detected from microphone",t)}},pn={CreateOfferFailed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.WebrtcErrors.CREATE_OFFER_FAILED,"CreateOfferFailed",e,"[".concat(e.toString(),"]: Failed to create offer. "),t)},CreateAnswerFailed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.WebrtcErrors.CREATE_ANSWER_FAILED,"CreateAnswerFailed",e,"[".concat(e.toString(),"]: Failed to create answer. "),t)},SetLocalDescriptionFailed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.WebrtcErrors.SET_LOCAL_DESCRIPTION_FAILED,"SetLocalDescriptionFailed",e,"[".concat(e.toString(),"]: Failed to set offer. "),t)},SetRemoteDescriptionFailed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.WebrtcErrors.SET_REMOTE_DESCRIPTION_FAILED,"SetRemoteDescriptionFailed",e,"[".concat(e.toString(),"]: Failed to set answer. "),t)},ICEFailure:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.WebrtcErrors.ICE_FAILURE,"ICEFailure",e,"[".concat(e.toString(),"]: Ice connection state FAILED"),t)}},vn={ServerErrors:function(e,t,n){return new ln(e,"ServerErrors",t,n,n,!0)},AlreadyJoined:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.WebsocketMethodErrors.ALREADY_JOINED,"AlreadyJoined",e,"[JOIN]: You have already joined this room.",t)},CannotJoinPreviewInProgress:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.WebsocketMethodErrors.CANNOT_JOIN_PREVIEW_IN_PROGRESS,"CannotJoinPreviewInProgress",e,"[JOIN]: Cannot join if preview is in progress",t)}},mn={NotConnected:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.GenericErrors.NOT_CONNECTED,"NotConnected",e,"Client is not connected",t)},Signalling:function(e,t){return new ln(un.GenericErrors.SIGNALLING,"Signalling",e,"Unknown signalling error: ".concat(e.toString()," ").concat(t," "),t)},Unknown:function(e,t){return new ln(un.GenericErrors.UNKNOWN,"Unknown",e,"Unknown exception: ".concat(t),t)},NotReady:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.GenericErrors.NOT_READY,"NotReady",e,t,t)},JsonParsingFailed:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return new ln(un.GenericErrors.JSON_PARSING_FAILED,"JsonParsingFailed",e,"Failed to parse JSON message - ".concat(t),n)},TrackMetadataMissing:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.GenericErrors.TRACK_METADATA_MISSING,"TrackMetadataMissing",e,"Track Metadata Missing",t)},RTCTrackMissing:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.GenericErrors.RTC_TRACK_MISSING,"RTCTrackMissing",e,"RTC Track missing",t)},PeerMetadataMissing:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.GenericErrors.PEER_METADATA_MISSING,"PeerMetadataMissing",e,"Peer Metadata Missing",t)},ValidationFailed:function(e,t){return new ln(un.GenericErrors.INVALID_ROLE,"ValidationFailed",cn.VALIDATION,e,t?JSON.stringify(t):"")},InvalidRole:function(e,t){return new ln(un.GenericErrors.INVALID_ROLE,"InvalidRole",e,"Invalid role. Join with valid role",t,!0)},PreviewAlreadyInProgress:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(un.GenericErrors.PREVIEW_IN_PROGRESS,"PreviewAlreadyInProgress",e,"[Preview]: Cannot join if preview is in progress",t)},MissingMediaDevices:function(){return new ln(un.GenericErrors.MISSING_MEDIADEVICES,"MissingMediaDevices",cn.JOIN,"navigator.mediaDevices is undefined. 100ms SDK won't work on this website as WebRTC is not supported on HTTP endpoints(missing navigator.mediaDevices). Please ensure you're using the SDK either on localhost or a valid HTTPS endpoint.","",!0)},MissingRTCPeerConnection:function(){return new ln(un.GenericErrors.MISSING_RTCPEERCONNECTION,"MissingRTCPeerConnection",cn.JOIN,"RTCPeerConnection which is a core requirement for WebRTC call was not found, this could be due to an unsupported browser or browser extensions blocking WebRTC","",!0)}},gn={PlatformNotSupported:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(7001,"PlatformNotSupported",e,"Check HMS Docs to see the list of supported platforms",t)},InitFailed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(7002,"InitFailed",e,"Plugin init failed",t)},ProcessingFailed:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(7003,"ProcessingFailed",e,"Plugin processing failed",t)},AddAlreadyInProgress:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new ln(7004,"AddAlreadyInProgress",e,"Plugin add already in progress",t)}},yn={NoEntryToPlay:function(e,t){return new ln(un.PlaylistErrors.NO_ENTRY_TO_PLAY,"NoEntryToPlay",e,"Reached end of playlist",t)},NoEntryPlaying:function(e,t){return new ln(un.PlaylistErrors.NO_ENTRY_IS_PLAYING,"NoEntryIsPlaying",e,"No entry is playing at this time",t)}},kn="VALIDATIONS";function bn(e){return null!=e}var wn=function(){if(!bn(RTCPeerConnection)){var e=mn.MissingRTCPeerConnection();throw sn.e(kn,e),e}},Sn=function(){if(!bn(navigator.mediaDevices)){var e=mn.MissingMediaDevices();throw sn.e(kn,e),e}};function Tn(e,t){var n,r=(0,Lt.Qc)(e.sdp);if(!(null==(n=r.origin)?void 0:n.username.startsWith("mozilla")))return e;var i=Array.from(t.values());return r.media.forEach((function(e){var t,n,r,a=null==(t=e.msid)?void 0:t.split(" ")[0],o=null==(n=i.find((function(t){return t.type===e.type&&t.stream_id===a})))?void 0:n.track_id;o&&(e.msid=null==(r=e.msid)?void 0:r.replace(/\s(.+)/," ".concat(o)))})),{type:e.type,sdp:(0,Lt.cW)(r)}}function En(e){return e.sdp.includes("usedtx=1")?e:{type:e.type,sdp:e.sdp.replace("useinbandfec=1","useinbandfec=1;usedtx=1")}}var xn,Cn,Pn,Rn,_n,An="HMSConnection",In=function(){function e(t,n){s(this,e),this.candidates=new Array,this.role=t,this.signal=n}return u(e,[{key:"iceConnectionState",get:function(){return this.nativeConnection.iceConnectionState}},{key:"connectionState",get:function(){return this.nativeConnection.connectionState}},{key:"action",get:function(){return this.role===an.Publish?cn.PUBLISH:cn.SUBSCRIBE}},{key:"addTransceiver",value:function(e,t){return this.nativeConnection.addTransceiver(e,t)}},{key:"createOffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1?arguments[1]:void 0;return rn(this,null,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.nativeConnection.createOffer(e);case 3:return r=n.sent,n.abrupt("return",(sn.d(An,"[role=".concat(this.role,"] createOffer offer=").concat(JSON.stringify(r,null,1))),En(Tn(r,t))));case 7:throw n.prev=7,n.t0=n.catch(0),pn.CreateOfferFailed(this.action,n.t0.message);case 10:case"end":return n.stop()}}),n,this,[[0,7]])})))}},{key:"createAnswer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return rn(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.nativeConnection.createAnswer(e);case 3:return n=t.sent,t.abrupt("return",(sn.d(An,"[role=".concat(this.role,"] createAnswer answer=").concat(JSON.stringify(n,null,1))),n));case 7:throw t.prev=7,t.t0=t.catch(0),pn.CreateAnswerFailed(this.action,t.t0.message);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"setLocalDescription",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,sn.d(An,"[role=".concat(this.role,"] setLocalDescription description=").concat(JSON.stringify(e,null,1))),t.next=4,this.nativeConnection.setLocalDescription(e);case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),pn.SetLocalDescriptionFailed(this.action,t.t0.message);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"setRemoteDescription",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,sn.d(An,"[role=".concat(this.role,"] setRemoteDescription description=").concat(JSON.stringify(e,null,1))),t.next=4,this.nativeConnection.setRemoteDescription(e);case 4:t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),pn.SetRemoteDescriptionFailed(this.action,t.t0.message);case 9:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"addIceCandidate",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return sn.d(An,"[role=".concat(this.role,"] addIceCandidate candidate=").concat(JSON.stringify(e,null,1))),t.next=3,this.nativeConnection.addIceCandidate(e);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"remoteDescription",get:function(){return this.nativeConnection.remoteDescription}},{key:"getSenders",value:function(){return this.nativeConnection.getSenders()}},{key:"removeTrack",value:function(e){this.nativeConnection.removeTrack(e)}},{key:"setMaxBitrate",value:function(e,t){return rn(this,null,p().mark((function n(){var r,i;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=this.getSenders().find((function(e){var n;return(null==(n=null==e?void 0:e.track)?void 0:n.id)===t.getTrackIDBeingSent()})),!r){n.next=8;break}return(i=r.getParameters()).encodings.length>0&&(i.encodings[0].maxBitrate=1e3*e),n.next=6,r.setParameters(i);case 6:n.next=9;break;case 8:sn.w(An,"no sender found to setMaxBitrate for track - ".concat(t.trackId,", sentTrackId - ").concat(t.getTrackIDBeingSent()));case 9:case"end":return n.stop()}}),n,this)})))}},{key:"getStats",value:function(){return rn(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.nativeConnection.getStats();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"close",value:function(){return rn(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.nativeConnection.close();case 1:case"end":return e.stop()}}),e,this)})))}}]),e}(),On="renegotiation-callback-id",Dn="ion-sfu",Nn="SUBSCRIBE_ICE_CONNECTION_CALLBACK_ID",Ln="device-change",Mn="local-audio-enabled",Un="local-video-enabled",jn="stats-update",Fn="track-degraded",Vn="track-restored",zn="track-audio-level-update",Gn="local-audio-silence",Bn=function(e){Ee(n,e);var t=Re(n);function n(e,r,i,a){var o;return s(this,n),(o=t.call(this,an.Publish,e)).observer=i,o.transport=a,o.nativeConnection=new RTCPeerConnection(r),o.nativeConnection.createDataChannel(Dn,{protocol:"SCTP"}),o.nativeConnection.onicecandidate=function(t){var n=t.candidate;n&&e.trickle(o.role,n)},o.nativeConnection.oniceconnectionstatechange=function(){o.observer.onIceConnectionChange(o.nativeConnection.iceConnectionState)},o.nativeConnection.onconnectionstatechange=function(){o.observer.onConnectionStateChange(o.nativeConnection.connectionState)},o}return u(n,[{key:"initAfterJoin",value:function(){var e=this;this.nativeConnection.onnegotiationneeded=function(){return rn(e,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return sn.d("HMSPublishConnection","onnegotiationneeded"),e.next=3,this.observer.onRenegotiationNeeded();case 3:case"end":return e.stop()}}),e,this)})))}}},{key:"trackUpdate",value:function(e){this.transport.trackUpdate(e)}}]),n}(In),Hn=u((function e(t){s(this,e),this.tracks=new Array,this.nativeStream=t,this.id=t.id}));!function(e){e[e.PEER_ADDED=0]="PEER_ADDED",e[e.PEER_REMOVED=1]="PEER_REMOVED",e[e.PEER_KNOCKED=2]="PEER_KNOCKED",e[e.ROOM_TYPE_CHANGED=3]="ROOM_TYPE_CHANGED",e[e.METADATA_UPDATED=4]="METADATA_UPDATED",e[e.SCREENSHARE_STARTED=5]="SCREENSHARE_STARTED",e[e.SCREENSHARE_STOPPED=6]="SCREENSHARE_STOPPED",e[e.DEFAULT_UPDATE=7]="DEFAULT_UPDATE",e[e.RECORDING_STATE_UPDATED=8]="RECORDING_STATE_UPDATED",e[e.BROWSER_RECORDING_STATE_UPDATED=9]="BROWSER_RECORDING_STATE_UPDATED",e[e.SERVER_RECORDING_STATE_UPDATED=10]="SERVER_RECORDING_STATE_UPDATED",e[e.RTMP_STREAMING_STATE_UPDATED=11]="RTMP_STREAMING_STATE_UPDATED",e[e.HLS_STREAMING_STATE_UPDATED=12]="HLS_STREAMING_STATE_UPDATED",e[e.ROOM_STATE=13]="ROOM_STATE"}(xn||(xn={})),function(e){e[e.PEER_JOINED=0]="PEER_JOINED",e[e.PEER_LEFT=1]="PEER_LEFT",e[e.AUDIO_TOGGLED=2]="AUDIO_TOGGLED",e[e.VIDEO_TOGGLED=3]="VIDEO_TOGGLED",e[e.BECAME_DOMINANT_SPEAKER=4]="BECAME_DOMINANT_SPEAKER",e[e.RESIGNED_DOMINANT_SPEAKER=5]="RESIGNED_DOMINANT_SPEAKER",e[e.STARTED_SPEAKING=6]="STARTED_SPEAKING",e[e.STOPPED_SPEAKING=7]="STOPPED_SPEAKING",e[e.ROLE_UPDATED=8]="ROLE_UPDATED",e[e.PEER_LIST=9]="PEER_LIST",e[e.NAME_UPDATED=10]="NAME_UPDATED",e[e.METADATA_UPDATED=11]="METADATA_UPDATED"}(Cn||(Cn={})),function(e){e[e.TRACK_ADDED=0]="TRACK_ADDED",e[e.TRACK_REMOVED=1]="TRACK_REMOVED",e[e.TRACK_MUTED=2]="TRACK_MUTED",e[e.TRACK_UNMUTED=3]="TRACK_UNMUTED",e[e.TRACK_DESCRIPTION_CHANGED=4]="TRACK_DESCRIPTION_CHANGED",e[e.TRACK_DEGRADED=5]="TRACK_DEGRADED",e[e.TRACK_RESTORED=6]="TRACK_RESTORED"}(Pn||(Pn={})),function(e){e[e.DEFAULT=0]="DEFAULT"}(Rn||(Rn={})),function(e){e.NONE="none",e.LOW="low",e.MEDIUM="medium",e.HIGH="high"}(_n||(_n={}));var Kn,Wn,qn,Jn={f:_n.HIGH,h:_n.MEDIUM,q:_n.LOW};!function(e){e.VP8="vp8",e.VP9="vp9",e.H264="h264"}(Kn||(Kn={})),function(e){e.OPUS="opus"}(Wn||(Wn={})),function(e){e.audio="audio",e.video="video"}(qn||(qn={}));var Yn,Qn=function(e){Ee(n,e);var t=Re(n);function n(e,r){var i;return s(this,n),(i=t.call(this,e)).audio=!0,i.video=_n.NONE,i.frameRate=_n.HIGH,i.connection=r,i}return u(n,[{key:"setAudio",value:function(e){this.audio!==e&&(this.audio=e,this.syncWithApiChannel())}},{key:"setVideoLayer",value:function(e){this.video=e,sn.d("[Remote stream] ".concat(this.id),"Switching to ".concat(e," layer"))}},{key:"setVideo",value:function(e){this.video!==e?(this.setVideoLayer(e),this.syncWithApiChannel()):sn.d("[Remote stream] ".concat(this.id),"Already on ".concat(e," layer"))}},{key:"getSimulcastLayer",value:function(){return this.video}},{key:"isAudioSubscribed",value:function(){return this.audio}},{key:"isServerHandlingDegradation",value:function(){return this.connection.isServerHandlingDegradation}},{key:"syncWithApiChannel",value:function(){var e={streamId:this.id,video:this.video,audio:this.audio,framerate:this.frameRate};this.connection.sendOverApiDataChannel(JSON.stringify(e))}}]),n}(Hn),$n=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";s(this,e),this.TAG="HMSDataChannel",this.nativeChannel=t,this.observer=n,this.metadata=i,t.onmessage=function(e){r.observer.onMessage(e.data)}}return u(e,[{key:"id",get:function(){return this.nativeChannel.id}},{key:"label",get:function(){return this.nativeChannel.label}},{key:"readyState",get:function(){return this.nativeChannel.readyState}},{key:"send",value:function(e){sn.d(this.TAG,"[".concat(this.metadata,"] Sending [size=").concat(e.length,"] message=").concat(e)),this.nativeChannel.send(e)}},{key:"close",value:function(){this.nativeChannel.close()}}]),e}(),Xn=function(){function e(t,n,r){s(this,e),this.stream=t,this.nativeTrack=n,this.source=r}return u(e,[{key:"enabled",get:function(){return this.nativeTrack.enabled}},{key:"trackId",get:function(){return this.firstTrackId||this.sdpTrackId||this.nativeTrack.id}},{key:"getMediaTrackSettings",value:function(){return this.nativeTrack.getSettings()}},{key:"setEnabled",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.nativeTrack.enabled=e;case 1:case"end":return t.stop()}}),t,this)})))}},{key:"setSdpTrackId",value:function(e){this.sdpTrackId=e}},{key:"setFirstTrackId",value:function(e){this.firstTrackId=e}},{key:"cleanup",value:function(){var e;null==(e=this.nativeTrack)||e.stop()}}]),e}();!function(e){e.AUDIO="audio",e.VIDEO="video"}(Yn||(Yn={}));var Zn,er=function(e){Ee(n,e);var t=Re(n);function n(e,r,i){var a;if(s(this,n),(a=t.call(this,e,r,i)).type=Yn.AUDIO,a.audioElement=null,"audio"!==r.kind)throw new Error("Expected 'track' kind = 'audio'");return a}return u(n,[{key:"getVolume",value:function(){return this.audioElement?100*this.audioElement.volume:null}},{key:"setVolume",value:function(e){if(e<0||e>100)throw Error("Please pass a valid number between 0-100");this.subscribeToAudio(0!==e&&this.enabled),this.audioElement&&(this.audioElement.volume=e/100)}},{key:"setAudioElement",value:function(e){this.audioElement=e}},{key:"getAudioElement",value:function(){return this.audioElement}},{key:"getOutputDevice",value:function(){return this.outputDevice}},{key:"cleanup",value:function(){we(ke(n.prototype),"cleanup",this).call(this),this.audioElement&&(this.audioElement.srcObject=null,this.audioElement.remove(),this.audioElement=null)}},{key:"setOutputDevice",value:function(e){return rn(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.audioElement){t.next=3;break}return sn.d("audio-track","no audio element to set output"),t.abrupt("return");case 3:if(t.prev=3,t.t0="function"==typeof this.audioElement.setSinkId,!t.t0){t.next=9;break}return t.next=8,null==(n=this.audioElement)?void 0:n.setSinkId(e.deviceId);case 8:this.outputDevice=e;case 9:t.next=14;break;case 11:t.prev=11,t.t1=t.catch(3),sn.d("audio-track",t.t1);case 14:case"end":return t.stop()}}),t,this,[[3,11]])})))}},{key:"removeSink",value:function(){var e;this.audioElement&&(null==(e=window.HMS)?void 0:e.AUDIO_SINK)&&(this.audioElement.srcObject=null,this.subscribeToAudio(!1))}},{key:"addSink",value:function(){var e,t;if(this.nativeTrack&&this.audioElement&&(null==(e=window.HMS)?void 0:e.AUDIO_SINK)){var n=this.audioElement.srcObject;null!==n&&n instanceof MediaStream&&(null==(t=n.getAudioTracks()[0])?void 0:t.id)===this.nativeTrack.id||(this.audioElement.srcObject=new MediaStream([this.nativeTrack]),this.subscribeToAudio(!0))}}},{key:"subscribeToAudio",value:function(e){this.stream instanceof Qn&&this.stream.setAudio(e)}}]),n}(Xn),tr=function(e){Ee(n,e);var t=Re(n);function n(){return s(this,n),t.apply(this,arguments)}return u(n,[{key:"setEnabled",value:function(e){var t=this,r=function(e){return we(ke(n.prototype),e,t)};return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e!==this.enabled,!t.t0){t.next=5;break}return t.next=4,r("setEnabled").call(this,e);case 4:this.subscribeToAudio(e);case 5:case"end":return t.stop()}}),t,this)})))}}]),n}(er),nr=function(e){Ee(n,e);var t=Re(n);function n(e,r,i){var a;if(s(this,n),(a=t.call(this,e,r,i)).type=Yn.VIDEO,a.sinkCount=0,"video"!==r.kind)throw new Error("Expected 'track' kind = 'video'");return a}return u(n,[{key:"hasSinks",value:function(){return this.sinkCount>0}},{key:"addSink",value:function(e){this.addSinkInternal(e,this.nativeTrack)}},{key:"removeSink",value:function(e){e.srcObject=null,this.sinkCount>0&&this.sinkCount--}},{key:"addSinkInternal",value:function(e,t){var n,r=e.srcObject;null!==r&&r instanceof MediaStream&&(null==(n=r.getVideoTracks()[0])?void 0:n.id)===t.id||(e.srcObject=new MediaStream([t]),this.sinkCount++)}}]),n}(Xn),rr=function(e){Ee(n,e);var t=Re(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments))._degraded=!1,e._degradedAt=null,e._layerDefinitions=[],e}return u(n,[{key:"degraded",get:function(){return this._degraded}},{key:"degradedAt",get:function(){return this._degradedAt}},{key:"setEnabled",value:function(e){var t=this,r=function(e){return we(ke(n.prototype),e,t)};return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e!==this.enabled,!t.t0){t.next=5;break}return this._degraded&&!e&&(this._degraded=!1),t.next=5,r("setEnabled").call(this,e);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"preferLayer",value:function(e){this.stream.setVideo(e)}},{key:"getSimulcastLayer",value:function(){return this.stream.getSimulcastLayer()}},{key:"addSink",value:function(e){we(ke(n.prototype),"addSink",this).call(this,e),this.updateLayer()}},{key:"removeSink",value:function(e){we(ke(n.prototype),"removeSink",this).call(this,e),this.updateLayer()}},{key:"getSimulcastDefinitions",value:function(){return g(this._layerDefinitions)}},{key:"setSimulcastDefinitons",value:function(e){this._layerDefinitions=e}},{key:"setDegraded",value:function(e){if(this._degraded=e,e&&(this._degradedAt=new Date),this.stream instanceof Qn&&this.stream.isServerHandlingDegradation()){var t=e?_n.NONE:_n.HIGH;this.stream.setVideoLayer(t)}else this.updateLayer()}},{key:"updateLayer",value:function(){var e=this.hasSinks()?_n.HIGH:_n.NONE;this.degraded&&(e=_n.NONE),this.stream.setVideo(e)}}]),n}(nr),ir=function(e){Ee(n,e);var t=Re(n);function n(e,r,i,a){var o;return s(this,n),(o=t.call(this,an.Subscribe,e)).TAG="[HMSSubscribeConnection]",o.remoteStreams=new Map,o.pendingMessageQueue=[],o.handlePendingApiMessages=function(){o.pendingMessageQueue.length>0&&(sn.d(o.TAG,"Found pending message queue, sending messages"),o.pendingMessageQueue.forEach((function(e){return o.sendOverApiDataChannel(e)})),o.pendingMessageQueue.length=0)},o.observer=i,o.isServerHandlingDegradation=a,o.nativeConnection=new RTCPeerConnection(r),o.initNativeConnectionCallbacks(),o}return u(n,[{key:"initNativeConnectionCallbacks",value:function(){var e=this;this.nativeConnection.oniceconnectionstatechange=function(){e.observer.onIceConnectionChange(e.nativeConnection.iceConnectionState)},this.nativeConnection.onconnectionstatechange=function(){e.observer.onConnectionStateChange(e.nativeConnection.connectionState)},this.nativeConnection.ondatachannel=function(t){t.channel.label===Dn&&(e.apiChannel=new $n(t.channel,{onMessage:function(t){e.observer.onApiChannelMessage(t)}},"role=".concat(e.role)),t.channel.onopen=e.handlePendingApiMessages)},this.nativeConnection.onicecandidate=function(t){null!==t.candidate&&e.signal.trickle(e.role,t.candidate)},this.nativeConnection.ontrack=function(t){var n,r=t.streams[0],i=r.id;if(!e.remoteStreams.has(i)){var a=new Qn(r,e);e.remoteStreams.set(i,a),r.onremovetrack=function(t){var n=a.tracks.findIndex((function(e){return e.nativeTrack.id===t.track.id}));if(n>=0){var r=a.tracks[n];e.observer.onTrackRemove(r),a.tracks.splice(n,1),0===a.tracks.length&&e.remoteStreams.delete(i)}}}var o=e.remoteStreams.get(i),s=new("audio"===t.track.kind?tr:rr)(o,t.track),c=function(e,t){var n;if((null==e?void 0:e.sdp)&&t){var r=(0,Lt.Qc)(e.sdp).media.find((function(e){return bn(e.mid)&&parseInt(e.mid)===parseInt(t)}));return null==(n=null==r?void 0:r.msid)?void 0:n.split(" ")[1]}}(e.remoteDescription,null==(n=t.transceiver)?void 0:n.mid);c&&s.setSdpTrackId(c),o.tracks.push(s),e.observer.onTrackAdd(s)}}},{key:"sendOverApiDataChannel",value:function(e){this.apiChannel&&"open"===this.apiChannel.readyState?this.apiChannel.send(e):(sn.w(this.TAG,"API Data channel not ".concat(this.apiChannel?"open":"present",", queueing"),e),this.pendingMessageQueue.push(e))}},{key:"close",value:function(){var e=this,t=function(t){return we(ke(n.prototype),t,e)};return rn(this,null,p().mark((function e(){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("close").call(this);case 2:null==(n=this.apiChannel)||n.close();case 3:case"end":return e.stop()}}),e,this)})))}}]),n}(In),ar="0.1.44",or=new Mt.UAParser,sr="undefined"==typeof window&&!(null==(Zn=or.getBrowser().name)?void 0:Zn.toLowerCase().includes("electron")),cr="undefined"!=typeof window;var ur,lr=function(){if(sr)return"hmsclient/".concat(ar);var e=or.getDevice(),t=or.getBrowser(),n=or.getOS();return e.type?"hmsclient/".concat(ar," ").concat(n.name,"/").concat(n.version," (").concat(e.vendor,"_").concat(e.type,"_/_").concat(t.name,"_").concat(t.version,")"):"hmsclient/".concat(ar," ").concat(n.name,"/").concat(n.version," (").concat(t.name,"_").concat(t.version,")")}(),dr="InitService",fr=function(){function e(){s(this,e)}return u(e,null,[{key:"fetchInitConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://prod-init.100ms.live",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return rn(this,null,p().mark((function i(){var a,o,s,c,u;return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return sn.d(dr,"fetchInitConfig: initEndpoint=".concat(n," token=").concat(e," peerId=").concat(t," region=").concat(r," ")),a=hr(n,t,r),i.prev=2,i.next=5,fetch(a,{headers:{Authorization:"Bearer ".concat(e)}});case 5:return o=i.sent,i.next=8,o.json();case 8:if(c=i.sent,404!==o.status){i.next=11;break}throw fn.EndpointUnreachable(cn.INIT,c.message||o.statusText);case 11:if(200===(null==o?void 0:o.status)){i.next=13;break}throw fn.ServerErrors(c.code||o.status,cn.INIT,c.message||(null==o?void 0:o.statusText));case 13:s=c,sn.d(dr,"config is ".concat(JSON.stringify(s,null,2))),i.next=20;break;case 16:throw i.prev=16,i.t0=i.catch(2),"Failed to fetch"===(u=i.t0).message||u.message.includes("NetworkError")?fn.EndpointUnreachable(cn.INIT,u.message):u;case 20:return i.abrupt("return",pr(s));case 21:case"end":return i.stop()}}),i,null,[[2,16]])})))}}]),e}();function hr(e,t,n){try{var r=new URL("/init",e);return n&&n.trim().length>0&&r.searchParams.set("region",n.trim()),r.searchParams.set("peer_id",t),r.searchParams.set("user_agent",lr),r.toString()}catch(r){var i=r;throw sn.e(dr,i.name,i.message),i}}function pr(e){return nn(tn({},e),{rtcConfiguration:nn(tn({},e.rtcConfiguration),{iceServers:e.rtcConfiguration.ice_servers})})}function vr(e){switch(e){case ur.JOIN:return cn.JOIN;case ur.OFFER:return cn.PUBLISH;case ur.ANSWER:return cn.SUBSCRIBE;case ur.TRACK_UPDATE:return cn.TRACK;default:return cn.NONE}}!function(e){e.JOIN="join",e.OFFER="offer",e.ANSWER="answer",e.TRICKLE="trickle",e.TRACK_UPDATE="track-update",e.BROADCAST="broadcast",e.ANALYTICS="analytics",e.SERVER_ERROR="on-error",e.SERVER_WARNING="on-warning",e.SDK_NOTIFICATION="sdk-notification",e.LEAVE="leave",e.END_ROOM="end-room",e.PING="ping",e.ROLE_CHANGE_REQUEST="role-change-request",e.ROLE_CHANGE="role-change",e.TRACK_UPDATE_REQUEST="track-update-request",e.PEER_LEAVE_REQUEST="peer-leave-request",e.CHANGE_TRACK_MUTE_STATE_REQUEST="change-track-mute-state-request",e.START_RTMP_OR_RECORDING_REQUEST="rtmp-start",e.STOP_RTMP_AND_RECORDING_REQUEST="rtmp-stop",e.UPDATE_PEER_METADATA="peer-update",e.START_HLS_STREAMING="hls-start",e.STOP_HLS_STREAMING="hls-stop"}(ur||(ur={}));var mr,gr=function(){function e(t){var n=this;s(this,e),this.TAG="[ SIGNAL ]: ",this.isJoinCompleted=!1,this.pendingTrickle=[],this.socket=null,this.callbacks=new Map,this._isConnected=!1,this.id=0,this.observer=t,window.addEventListener("offline",(function(){sn.d(n.TAG,"Window network offline"),n.isConnected=!1})),window.addEventListener("online",(function(){sn.d(n.TAG,"Window network online")})),this.onCloseHandler=this.onCloseHandler.bind(this),this.onMessageHandler=this.onMessageHandler.bind(this)}return u(e,[{key:"isConnected",get:function(){return this._isConnected},set:function(e){sn.d(this.TAG,"isConnected set",{id:this.id,old:this._isConnected,new:e}),this._isConnected!==e&&(this._isConnected&&!e?(this._isConnected=e,this.observer.onOffline()):!this._isConnected&&e&&(this._isConnected=e,this.observer.onOnline()))}},{key:"call",value:function(e,t){return rn(this,null,p().mark((function n(){var r,i,a,o=this;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=Wt(),i={method:e,params:t,id:r,jsonrpc:"2.0"},this.socket.send(JSON.stringify(i)),n.prev=2,n.next=5,new Promise((function(e,t){o.callbacks.set(r,{resolve:e,reject:t})}));case 5:return n.abrupt("return",n.sent);case 8:throw n.prev=8,n.t0=n.catch(2),a=n.t0,vn.ServerErrors(Number(a.code),vr(e),a.message);case 12:case"end":return n.stop()}}),n,this,[[2,8]])})))}},{key:"notify",value:function(e,t){var n={method:e,params:t};this.socket.send(JSON.stringify(n))}},{key:"open",value:function(e){var t=this;return new Promise((function(n,r){t.socket&&(t.socket.removeEventListener("close",t.onCloseHandler),t.socket.removeEventListener("message",t.onMessageHandler)),t.socket=new WebSocket(e);var i=function(e){sn.e(t.TAG,"Error from websocket",e),r(dn.GenericConnect(cn.JOIN,"Error opening socket connection - ".concat(e)))};t.socket.addEventListener("error",i);t.socket.addEventListener("open",(function e(){n(),t.isConnected=!0,t.id++,t.socket.removeEventListener("open",e),t.socket.removeEventListener("error",i),t.pingPongLoop(t.id)})),t.socket.addEventListener("close",t.onCloseHandler),t.socket.addEventListener("message",t.onMessageHandler)}))}},{key:"close",value:function(){return rn(this,null,p().mark((function e(){var t,n=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Promise((function(e){n.socket.addEventListener("close",(function(){return e()}))})),e.abrupt("return",(this.socket.close(1e3,"Normal Close"),this.isConnected=!1,this.socket.removeEventListener("close",this.onCloseHandler),this.socket.removeEventListener("message",this.onMessageHandler),t));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"join",value:function(e,t,n,r,i){return rn(this,null,p().mark((function a(){var o,s,c=this;return p().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o={name:e,disableVidAutoSub:r,data:t,offer:n,server_sub_degrade:i},a.next=3,this.call(ur.JOIN,o);case 3:return s=a.sent,a.abrupt("return",(this.isJoinCompleted=!0,this.pendingTrickle.forEach((function(e){var t=e.target,n=e.candidate;return c.trickle(t,n)})),this.pendingTrickle.length=0,sn.d(this.TAG,"join: response=".concat(JSON.stringify(s,null,1))),s));case 5:case"end":return a.stop()}}),a,this)})))}},{key:"trickle",value:function(e,t){this.isJoinCompleted?this.notify(ur.TRICKLE,{target:e,candidate:t}):this.pendingTrickle.push({target:e,candidate:t})}},{key:"offer",value:function(e,t){return rn(this,null,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.call(ur.OFFER,{desc:e,tracks:Object.fromEntries(t)});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"answer",value:function(e){this.notify(ur.ANSWER,{desc:e})}},{key:"trackUpdate",value:function(e){this.notify(ur.TRACK_UPDATE,{version:"1.0",tracks:Object.fromEntries(e)})}},{key:"broadcast",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call(ur.BROADCAST,tn({version:"1.0"},e.toSignalParams()));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"leave",value:function(){this.notify(ur.LEAVE,{version:"1.0"})}},{key:"endRoom",value:function(e,t){return rn(this,null,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.call(ur.END_ROOM,{lock:e,reason:t});case 2:case"end":return n.stop()}}),n,this)})))}},{key:"sendEvent",value:function(e){if(!this.isConnected)throw Error("".concat(this.TAG," not connected. Could not send event ").concat(e));this.notify(ur.ANALYTICS,e.toSignalParams())}},{key:"ping",value:function(e){var t=Date.now(),n=new Promise((function(n){setTimeout((function(){n(Date.now()-t)}),e+1)})),r=this.call(ur.PING,{timestamp:t}).then((function(){return Date.now()-t})).catch((function(){return Date.now()-t}));return Promise.race([n,r])}},{key:"requestRoleChange",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call(ur.ROLE_CHANGE_REQUEST,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"acceptRoleChangeRequest",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call(ur.ROLE_CHANGE,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"requestTrackStateChange",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call(ur.TRACK_UPDATE_REQUEST,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"requestMultiTrackStateChange",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call(ur.CHANGE_TRACK_MUTE_STATE_REQUEST,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"removePeer",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call(ur.PEER_LEAVE_REQUEST,e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"startRTMPOrRecording",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call(ur.START_RTMP_OR_RECORDING_REQUEST,tn({version:"1.0"},e));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"stopRTMPAndRecording",value:function(){return rn(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.call(ur.STOP_RTMP_AND_RECORDING_REQUEST,{version:"1.0"});case 2:case"end":return e.stop()}}),e,this)})))}},{key:"startHLSStreaming",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call(ur.START_HLS_STREAMING,tn({version:"1.0"},e));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"stopHLSStreaming",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call(ur.STOP_HLS_STREAMING,tn({version:"1.0"},e));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"updatePeer",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call(ur.UPDATE_PEER_METADATA,tn({version:"1.0"},e));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"onCloseHandler",value:function(e){sn.d("Websocket closed code=".concat(e.code)),this.isConnected=!1}},{key:"onMessageHandler",value:function(e){var t=e.data,n=JSON.parse(t);if(n.id)this.handleResponseWithId(n);else{if(!n.method)throw Error("WebSocket message has no 'method' or 'id' field, message=".concat(n));this.handleResponseWithMethod(n)}}},{key:"handleResponseWithId",value:function(e){var t=e,n=t.id;if(this.callbacks.has(n)){var r=this.callbacks.get(n);this.callbacks.delete(n),t.result?r.resolve(t.result):r.reject(t.error)}else this.observer.onNotification(t)}},{key:"handleResponseWithMethod",value:function(e){switch(e.method){case ur.OFFER:this.observer.onOffer(e.params);break;case ur.TRICKLE:this.observer.onTrickle(e.params);break;case ur.SERVER_ERROR:this.observer.onServerError(vn.ServerErrors(Number(e.params.code),cn.NONE,e.params.message));break;case ur.SERVER_WARNING:sn.w(this.TAG,e.params);break;default:this.observer.onNotification(e)}}},{key:"pingPongLoop",value:function(e){return rn(this,null,p().mark((function t(){var n,r,i,a,o=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=(null==(n=window.HMS)?void 0:n.PING_TIMEOUT)||12e3,!this.isConnected){t.next=12;break}return t.next=4,this.ping(i);case 4:if(t.t0=t.sent,t.t1=i,!(t.t0>t.t1)){t.next=11;break}a=!1,void 0!==typeof document&&document.hidden&&(a=!0),sn.d(this.TAG,"Pong timeout ".concat(e,", pageHidden=").concat(a)),this.id===e&&(this.isConnected=!1),t.next=12;break;case 11:setTimeout((function(){return o.pingPongLoop(e)}),(null==(r=window.HMS)?void 0:r.PING_INTERVAL)||1e3);case 12:case"end":return t.stop()}}),t,this)})))}}]),e}(),yr=function(){function e(){s(this,e),this._volume=1,this._codec=Wn.OPUS,this._maxBitrate=32,this._deviceId="default",this._advanced=[{googEchoCancellation:{exact:!0}},{googExperimentalEchoCancellation:{exact:!0}},{autoGainControl:{exact:!0}},{noiseSuppression:{exact:!0}},{googHighpassFilter:{exact:!0}},{googAudioMirroring:{exact:!0}}]}return u(e,[{key:"volume",value:function(e){if(!(0<=e&&e<=1))throw Error("volume can only be in range [0.0, 1.0]");return this._volume=e,this}},{key:"codec",value:function(e){return this._codec=e,this}},{key:"maxBitrate",value:function(e){if(e&&e<=0)throw Error("maxBitrate should be >= 1");return this._maxBitrate=e,this}},{key:"deviceId",value:function(e){return this._deviceId=e,this}},{key:"advanced",value:function(e){return this._advanced=e,this}},{key:"build",value:function(){return new kr(this._volume,this._codec,this._maxBitrate,this._deviceId,this._advanced)}}]),e}(),kr=function(){function e(t,n,r,i,a){s(this,e),this.volume=t,this.codec=n,this.maxBitrate=r,this.deviceId=i,this.advanced=a}return u(e,[{key:"toConstraints",value:function(){return{deviceId:this.deviceId,advanced:this.advanced}}},{key:"toAnalyticsProperties",value:function(){return{audio_bitrate:this.maxBitrate,audio_codec:this.codec}}}]),e}(),br=function(){function e(){s(this,e),this._width=320,this._height=180,this._codec=Kn.VP8,this._maxFramerate=30,this._maxBitrate=150,this._advanced=[]}return u(e,[{key:"setWidth",value:function(e){return this._width=e,this}},{key:"setHeight",value:function(e){return this._height=e,this}},{key:"codec",value:function(e){return this._codec=e,this}},{key:"maxFramerate",value:function(e){if(e&&e<=0)throw Error("maxFramerate should be >= 1");return this._maxFramerate=e,this}},{key:"maxBitrate",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("number"==typeof e&&e<=0)throw Error("maxBitrate should be >= 1");return this._maxBitrate=e,!this._maxBitrate&&t&&(this._maxBitrate=15e4),this}},{key:"deviceId",value:function(e){return this._deviceId=e,this}},{key:"advanced",value:function(e){return this._advanced=e,this}},{key:"build",value:function(){return new wr(this._width,this._height,this._codec,this._maxFramerate,this._deviceId,this._advanced,this._maxBitrate)}}]),e}(),wr=function(){function e(t,n,r,i,a,o,c){s(this,e),this.width=t,this.height=n,this.codec=r,this.maxFramerate=i,this.maxBitrate=c,this.deviceId=a,this.advanced=o}return u(e,[{key:"toConstraints",value:function(){return{width:this.width,height:this.height,frameRate:this.maxFramerate,deviceId:this.deviceId}}},{key:"toAnalyticsProperties",value:function(){return{width:this.width,height:this.height,video_bitrate:this.maxBitrate,framerate:this.maxFramerate,video_codec:this.codec}}}]),e}(),Sr=function(){function e(){s(this,e),this._video=(new br).build(),this._audio=(new yr).build(),this._screen=(new br).build(),this._simulcast=!1}return u(e,[{key:"video",value:function(e){return this._video=e,this}},{key:"audio",value:function(e){return this._audio=e,this}},{key:"screen",value:function(e){return this._screen=e,this}},{key:"simulcast",value:function(e){return this._simulcast=e,this}},{key:"build",value:function(){if(null===this._audio&&null===this._video)throw hn.NothingToReturn(cn.TRACK);if(null===this._video&&this._simulcast)throw hn.InvalidVideoSettings(cn.TRACK,"Cannot enable simulcast when no video settings are provided");return new Tr(this._video,this._audio,this._simulcast,this._screen||void 0)}}]),e}(),Tr=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;s(this,e),this.video=t,this.audio=n,this.simulcast=r,this.screen=i}return u(e,[{key:"toAnalyticsProperties",value:function(){var e={audio_enabled:null!==this.audio,video_enabled:null!==this.video};return this.audio&&(e=tn(tn({},this.audio.toAnalyticsProperties()),e)),this.video&&(e=tn(tn({},this.video.toAnalyticsProperties()),e)),e}}]),e}();!function(e){e.ROOM_STATE="room-state",e.PEER_JOIN="on-peer-join",e.PEER_LEAVE="on-peer-leave",e.PEER_LIST="peer-list",e.TRACK_METADATA_ADD="on-track-add",e.TRACK_UPDATE="on-track-update",e.CHANGE_TRACK_MUTE_STATE_UPDATE="on-change-track-mute-state-request",e.ACTIVE_SPEAKERS="active-speakers",e.SFU_STATS="sfu-stats",e.ON_SFU_TRACK_LAYER_UPDATE="on-track-layer-update",e.BROADCAST="on-broadcast",e.ROLE_CHANGE="on-role-change",e.POLICY_CHANGE="on-policy-change",e.ROLE_CHANGE_REQUEST="on-role-change-request",e.TRACK_UPDATE_REQUEST="on-track-update-request",e.PEER_UPDATE="on-peer-update",e.PEER_LEAVE_REQUEST="on-peer-leave-request",e.UNSUPPORTED="unsupported",e.RTMP_START="on-rtmp-start",e.RTMP_STOP="on-rtmp-stop",e.RECORDING_START="on-record-start",e.RECORDING_STOP="on-record-stop",e.HLS_START="on-hls-start",e.HLS_STOP="on-hls-stop"}(mr||(mr={}));var Er=function(){function e(t,n,r){s(this,e),this.store=t,this.listener=n,this.audioListener=r}return u(e,[{key:"handleActiveSpeakers",value:function(e){var t,n,r,i=this,a=e["speaker-list"],o=a.map((function(e){return{audioLevel:e.level,peer:i.store.getPeerById(e.peer_id),track:i.store.getTrackById(e.track_id)}}));null==(t=this.audioListener)||t.onAudioLevelUpdate(o),this.store.updateSpeakers(o);var s=a[0];if(s){var c=this.store.getPeerById(s.peer_id);null==(n=this.listener)||n.onPeerUpdate(Cn.BECAME_DOMINANT_SPEAKER,c)}else null==(r=this.listener)||r.onPeerUpdate(Cn.RESIGNED_DOMINANT_SPEAKER,null)}}]),e}(),xr=function(){function e(t){var n=t.sender,r=t.message,i=t.type,a=void 0===i?"chat":i,o=t.recipientPeer,c=t.recipientRoles,u=t.time;s(this,e),this.sender=n,this.message=r,this.type=a,this.recipientPeer=o,this.recipientRoles=c,this.time=u}return u(e,[{key:"toSignalParams",value:function(){var e,t,n=null==(e=this.recipientRoles)?void 0:e.map((function(e){return e.name})),r=null==(t=this.recipientPeer)?void 0:t.peerId,i={info:{sender:this.sender.peerId,message:this.message,type:this.type}};return(null==n?void 0:n.length)&&(i.roles=n),r&&(i.peer_id=r),i}}]),e}(),Cr=function(){function e(t){var n=t.peerId,r=t.name,i=t.isLocal,a=t.customerUserId,o=t.metadata,c=t.role;s(this,e),this.customerUserId="",this.metadata="",this.auxiliaryTracks=[],this.name=r,this.peerId=n,this.isLocal=i,this.customerUserId=a,this.metadata=o,c&&(this.role=c)}return u(e,[{key:"updateRole",value:function(e){this.role=e}},{key:"updateName",value:function(e){this.name=e}},{key:"updateMetadata",value:function(e){this.metadata=e}}]),e}(),Pr=u((function e(){s(this,e)}));Pr.makePeerId=function(){return Wt()};var Rr,_r=function(e){Ee(n,e);var t=Re(n);function n(e){var r;return s(this,n),(r=t.call(this,nn(tn({},e),{peerId:Pr.makePeerId(),isLocal:!0}))).isLocal=!0,r.auxiliaryTracks=[],r}return u(n)}(Cr),Ar=function(e){Ee(n,e);var t=Re(n);function n(e){var r;return s(this,n),(r=t.call(this,nn(tn({},e),{isLocal:!1}))).isLocal=!1,r.auxiliaryTracks=[],r}return u(n)}(Cr),Ir=function(){function e(t,n){s(this,e),this.store=t,this.listener=n}return u(e,[{key:"TAG",get:function(){return"[".concat(this.constructor.name,"]")}},{key:"handleNotification",value:function(e,t){e===mr.BROADCAST&&this.handleBroadcast(t)}},{key:"handleBroadcast",value:function(e){var t,n=e.peer,r=e.info,i=e.roles,a=this.store.getPeerById(n.peer_id);a||(a=new Cr({peerId:n.peer_id,name:n.info.name,isLocal:!1,customerUserId:n.info.user_id,metadata:n.info.data}));var o=e.private?this.store.getLocalPeer():void 0,s=[];if(null==i?void 0:i.length){var c,u=this.store.getKnownRoles(),l=f(i);try{for(l.s();!(c=l.n()).done;){var d=c.value;u[d]&&s.push(u[d])}}catch(p){l.e(p)}finally{l.f()}}var h=new xr(nn(tn({},r),{sender:a,recipientRoles:s,recipientPeer:o,time:new Date(e.timestamp)}));sn.d(this.TAG,"Received Message:: ",h),null==(t=this.listener)||t.onMessageReceived(h)}}]),e}(),Or=function(){function e(t,n,r,i){var a=this;s(this,e),this.store=t,this.peerManager=n,this.trackManager=r,this.listener=i,this.handleInitialPeerList=function(e){var t=Object.values(e.peers);a.peerManager.handlePeerList(t)},this.handleReconnectPeerList=function(e){a.handleRepeatedPeerList(e.peers)},this.handlePreviewRoomState=function(e){if(a.store.hasRoleDetailsArrived()){var t=e.peers||{};Object.keys(t).forEach((function(e){t[e].tracks={}})),a.handleRepeatedPeerList(t)}},this.handleRepeatedPeerList=function(e){var t=a.store.getRemotePeers(),n=Object.values(e),r=t.filter((function(t){return!e[t.peerId]}));sn.d(a.TAG,{peersToRemove:r}),r.forEach((function(e){var t,n={peer_id:e.peerId,role:(null==(t=e.role)?void 0:t.name)||"",info:{name:e.name,data:e.metadata||"",user_id:e.customerUserId||""},tracks:{}};a.peerManager.handlePeerLeave(n)})),n.forEach((function(e){var t=a.store.getPeerById(e.peer_id),n=Object.values(e.tracks);t?(a.store.getPeerTracks(t.peerId).forEach((function(n){var r;e.tracks[n.trackId]||(a.removePeerTrack(t,n.trackId),null==(r=a.listener)||r.onTrackUpdate(Pn.TRACK_REMOVED,n,t))})),n.forEach((function(e){a.store.getTrackById(e.track_id)||a.store.setTrackState({peerId:t.peerId,trackInfo:e})})),a.trackManager.handleTrackUpdate({peer:{info:e.info,peer_id:e.peer_id},tracks:e.tracks}),a.peerManager.handlePeerUpdate(e)):a.peerManager.handlePeerJoin(e)}))}}return u(e,[{key:"TAG",get:function(){return"[".concat(this.constructor.name,"]")}},{key:"handleNotification",value:function(e,t,n){if(e===mr.PEER_LIST){var r=t;n?(sn.d(this.TAG,"RECONNECT_PEER_LIST event",r),this.handleReconnectPeerList(r)):(sn.d(this.TAG,"PEER_LIST event",r),this.handleInitialPeerList(r))}else if(e===mr.ROOM_STATE){var i=t;this.handlePreviewRoomState(i)}}},{key:"removePeerTrack",value:function(e,t){var n,r;if((null==(n=e.audioTrack)?void 0:n.trackId)===t)e.audioTrack=void 0;else if((null==(r=e.videoTrack)?void 0:r.trackId)===t)e.videoTrack=void 0;else{var i=e.auxiliaryTracks.findIndex((function(e){return e.trackId===t}));i>=0&&e.auxiliaryTracks.splice(i,1)}}}]),e}(),Dr=function(){function e(t,n,r){var i=this;s(this,e),this.store=t,this.trackManager=n,this.listener=r,this.handlePeerList=function(e){var t;if(0!==e.length){var n,r=[],a=f(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;r.push(i.makePeer(o))}}catch(s){a.e(s)}finally{a.f()}null==(t=i.listener)||t.onPeerUpdate(Cn.PEER_LIST,r),i.trackManager.processPendingTracks()}},this.handlePeerJoin=function(e){var t,n=i.makePeer(e);null==(t=i.listener)||t.onPeerUpdate(Cn.PEER_JOINED,n),i.trackManager.processPendingTracks()},this.handlePeerLeave=function(e){var t,n,r,a,o=i.store.getPeerById(e.peer_id);i.store.removePeer(e.peer_id),sn.d(i.TAG,"PEER_LEAVE event",e,i.store.getPeers()),o&&(o.audioTrack&&(null==(t=i.listener)||t.onTrackUpdate(Pn.TRACK_REMOVED,o.audioTrack,o)),o.videoTrack&&(null==(n=i.listener)||n.onTrackUpdate(Pn.TRACK_REMOVED,o.videoTrack,o)),null==(r=o.auxiliaryTracks)||r.forEach((function(e){var t;null==(t=i.listener)||t.onTrackUpdate(Pn.TRACK_REMOVED,e,o)})),null==(a=i.listener)||a.onPeerUpdate(Cn.PEER_LEFT,o))}}return u(e,[{key:"TAG",get:function(){return"[".concat(this.constructor.name,"]")}},{key:"handleNotification",value:function(e,t){switch(e){case mr.PEER_JOIN:var n=t;this.handlePeerJoin(n);break;case mr.PEER_LEAVE:var r=t;this.handlePeerLeave(r);break;case mr.PEER_UPDATE:this.handlePeerUpdate(t)}}},{key:"handlePeerUpdate",value:function(e){var t,n=this.store.getPeerById(e.peer_id);if(n){if(n.role&&n.role.name!==e.role){var r=this.store.getPolicyForRole(e.role);n.updateRole(r),null==(t=this.listener)||t.onPeerUpdate(Cn.ROLE_UPDATED,n)}this.handlePeerInfoUpdate(tn({peer:n},e.info))}}},{key:"handlePeerInfoUpdate",value:function(e){var t,n,r=e.peer,i=e.name,a=e.data;!r||(i&&r.name!==i&&(r.updateName(i),null==(t=this.listener)||t.onPeerUpdate(Cn.NAME_UPDATED,r)),a&&r.metadata!==a&&(r.updateMetadata(a),null==(n=this.listener)||n.onPeerUpdate(Cn.METADATA_UPDATED,r)))}},{key:"makePeer",value:function(e){var t=new Ar({peerId:e.peer_id,name:e.info.name,customerUserId:e.info.user_id,metadata:e.info.data,role:this.store.getPolicyForRole(e.role)});for(var n in this.store.addPeer(t),sn.d(this.TAG,"adding to the peerList",t),e.tracks)this.store.setTrackState({peerId:e.peer_id,trackInfo:e.tracks[n]});return t}}]),e}(),Nr=function(){function e(t,n){s(this,e),this.store=t,this.eventEmitter=n}return u(e,[{key:"handlePolicyChange",value:function(e){var t,n,r=this.store.getLocalPeer();if(r&&!r.role){var i=e.known_roles[e.name];r.updateRole(i)}this.store.setKnownRoles(e.known_roles);var a=null==(t=e.known_roles[e.name])?void 0:t.publishParams;if(this.store.setPublishParams(a),this.setSimulcastLayers(a),this.handleStreamingRecordingPermissions(null==(n=e.known_roles[e.name])?void 0:n.permissions),(null==r?void 0:r.role)&&r.role.name!==e.name){var o=this.store.getPolicyForRole(e.name),s=r.role;r.updateRole(o),this.eventEmitter.emit("local-peer-role-update",{detail:{oldRole:s,newRole:o}})}this.eventEmitter.emit("policy-change",{detail:{params:e}})}},{key:"setSimulcastLayers",value:function(e){if(e&&Object.keys(e).length>0){var t=e.videoSimulcastLayers,n=e.screenSimulcastLayers;this.store.setVideoSimulcastLayers(t),this.store.setScreenshareSimulcastLayers(n)}}},{key:"handleStreamingRecordingPermissions",value:function(e){e&&(void 0===e.recording&&(e.recording=!0),void 0===e.streaming&&(e.streaming=!0))}}]),e}(),Lr=function(){function e(t,n){s(this,e),this.store=t,this.listener=n}return u(e,[{key:"handleNotification",value:function(e,t){switch(e){case mr.ROLE_CHANGE_REQUEST:this.handleRoleChangeRequest(t);break;case mr.TRACK_UPDATE_REQUEST:this.handleTrackUpdateRequest(t);break;case mr.CHANGE_TRACK_MUTE_STATE_UPDATE:this.handleChangeTrackStateRequest(t);break;default:return}}},{key:"handleRoleChangeRequest",value:function(e){var t,n={requestedBy:this.store.getPeerById(e.requested_by),role:this.store.getPolicyForRole(e.role),token:e.token};null==(t=this.listener)||t.onRoleChangeRequest(n)}},{key:"handleTrackUpdateRequest",value:function(e){var t=this,n=e.requested_by,r=e.track_id,i=e.mute,a=this.store.getPeerById(n),o=this.store.getLocalPeerTracks().find((function(e){return e.publishedTrackId===r}));if(a&&!a.isLocal&&o){var s=function(){var e;null==(e=t.listener)||e.onChangeTrackStateRequest({requestedBy:a,track:o,enabled:!i})};if(i){if(o.enabled===!i)return;o.setEnabled(!i).then(s)}else s()}}},{key:"handleChangeTrackStateRequest",value:function(e){var t,n=this,r=e.type,i=e.source,a=e.value,o=e.requested_by,s=this.store.getPeerById(o);if(s){var c=!a,u=this.getTracksToBeUpdated({type:r,source:i,enabled:c});if(0!==u.length)if(c)null==(t=this.listener)||t.onChangeMultiTrackStateRequest({requestedBy:s,tracks:u,type:r,source:i,enabled:!0});else{var l,d=[],h=f(u);try{for(h.s();!(l=h.n()).done;){var p=l.value;d.push(p.setEnabled(!1))}}catch(v){h.e(v)}finally{h.f()}Promise.all(d).then((function(){var e;null==(e=n.listener)||e.onChangeMultiTrackStateRequest({requestedBy:s,tracks:u,enabled:!1})}))}}}},{key:"getTracksToBeUpdated",value:function(e){var t=e.type,n=e.source,r=e.enabled,i=this.store.getLocalPeerTracks();return t&&(i=i.filter((function(e){return e.type===t}))),n&&(i=i.filter((function(e){return e.source===n}))),i.filter((function(e){return e.enabled!==r}))}}]),e}(),Mr=function(){function e(t,n){s(this,e),this.store=t,this.listener=n}return u(e,[{key:"handleNotification",value:function(e,t){switch(e){case mr.PEER_LIST:this.onRoomState(t.room);break;case mr.RTMP_START:this.onRTMPStart(t);break;case mr.RTMP_STOP:this.onRTMPStop(t);break;case mr.RECORDING_START:this.onRecordingStart(t);break;case mr.RECORDING_STOP:this.onRecordingStop(t);break;case mr.ROOM_STATE:this.handlePreviewRoomState(t);break;default:this.onHLS(e,t)}}},{key:"handlePreviewRoomState",value:function(e){var t=e.room;this.onRoomState(t,e.peer_count)}},{key:"onRoomState",value:function(e,t){var n,r,i,a=e.recording,o=e.streaming,s=e.session_id,c=e.started_at,u=e.name,l=this.store.getRoom();l.peerCount=t,l.name=u,l.recording.server.running=!!(null==a?void 0:a.sfu.enabled),l.recording.browser.running=!!(null==a?void 0:a.browser.enabled),l.rtmp.running=!!(null==(n=null==o?void 0:o.rtmp)?void 0:n.enabled),l.rtmp.startedAt=this.getAsDate(null==(r=null==o?void 0:o.rtmp)?void 0:r.started_at),l.recording.server.startedAt=this.getAsDate(null==a?void 0:a.sfu.started_at),l.recording.browser.startedAt=this.getAsDate(null==a?void 0:a.browser.started_at),l.recording.hls=this.getHLSRecording(null==o?void 0:o.hls),l.hls=this.convertHls(null==o?void 0:o.hls),l.sessionId=s,l.startedAt=this.getAsDate(c),null==(i=this.listener)||i.onRoomUpdate(xn.RECORDING_STATE_UPDATED,l)}},{key:"getAsDate",value:function(e){return e?new Date(e):void 0}},{key:"onRTMPStart",value:function(e){var t;this.setRTMPStatus(!(null==(t=e.error)?void 0:t.code),e)}},{key:"onRTMPStop",value:function(e){this.setRTMPStatus(!1,e)}},{key:"onRecordingStart",value:function(e){var t;this.setRecordingStatus(!(null==(t=e.error)?void 0:t.code),e)}},{key:"onRecordingStop",value:function(e){this.setRecordingStatus(!1,e)}},{key:"onHLS",value:function(e,t){var n,r;if([mr.HLS_START,mr.HLS_STOP].includes(e)){var i=this.store.getRoom();t.enabled=e===mr.HLS_START&&!(null==(n=t.error)?void 0:n.code),i.hls=this.convertHls(t),i.recording.hls=this.getHLSRecording(t),null==(r=this.listener)||r.onRoomUpdate(xn.HLS_STREAMING_STATE_UPDATED,i)}}},{key:"convertHls",value:function(e){var t,n,r=this,i={running:!!(null==e?void 0:e.enabled),variants:[],error:(null==(t=null==e?void 0:e.error)?void 0:t.code)?e.error:void 0};return null==(n=null==e?void 0:e.variants)||n.forEach((function(e){i.variants.push({meetingURL:e.meeting_url,url:e.url,metadata:e.metadata,startedAt:r.getAsDate(e.started_at)})})),i}},{key:"getHLSRecording",value:function(e){var t,n,r,i,a={running:!1};return(null==e?void 0:e.hls_recording)&&(a={running:!!(null==e?void 0:e.enabled),singleFilePerLayer:!!(null==(t=e.hls_recording)?void 0:t.single_file_per_layer),hlsVod:!!(null==(n=e.hls_recording)?void 0:n.hls_vod),startedAt:this.getAsDate(null==(r=null==e?void 0:e.variants)?void 0:r[0].started_at),error:(null==(i=null==e?void 0:e.error)?void 0:i.code)?e.error:void 0}),a}},{key:"setRecordingStatus",value:function(e,t){var n,r,i,a,o=this.store.getRoom();"sfu"===t.type?(o.recording.server={running:e,startedAt:e?this.getAsDate(t.started_at):void 0,error:(null==(n=t.error)?void 0:n.code)?t.error:void 0},a=xn.SERVER_RECORDING_STATE_UPDATED):(o.recording.browser={running:e,startedAt:e?this.getAsDate(t.started_at):void 0,error:(null==(r=t.error)?void 0:r.code)?t.error:void 0},a=xn.BROWSER_RECORDING_STATE_UPDATED),null==(i=this.listener)||i.onRoomUpdate(a,o)}},{key:"setRTMPStatus",value:function(e,t){var n,r,i=this.store.getRoom();i.rtmp={running:e,startedAt:e?this.getAsDate(t.started_at):void 0,error:(null==(n=t.error)?void 0:n.code)?t.error:void 0},null==(r=this.listener)||r.onRoomUpdate(xn.RTMP_STREAMING_STATE_UPDATED,i)}}]),e}();function Ur(e,t){var n=function(e,t){var n=e.message.toLowerCase();if("screen"===t&&"chrome"===Nt.browserDetails.browser&&"NotAllowedError"===e.name&&e.message.includes("denied by system"))return hn.DeviceNotAvailable(cn.TRACK,t,e.message);switch(e.name){case"OverconstrainedError":return hn.OverConstrained(cn.TRACK,t,e.constraint);case"NotAllowedError":return hn.CantAccessCaptureDevice(cn.TRACK,t,e.message);case"NotFoundError":return hn.DeviceNotAvailable(cn.TRACK,t,e.message);case"NotReadableError":return hn.DeviceInUse(cn.TRACK,t,e.message);case"TypeError":return hn.NothingToReturn(cn.TRACK,e.message);default:return n.includes("device not found")?hn.DeviceNotAvailable(cn.TRACK,t,e.message):n.includes("permission denied")?hn.CantAccessCaptureDevice(cn.TRACK,t,e.message):hn.GenericTrack(cn.TRACK,e.message)}}(e,t);return n.addNativeError(e),n}function jr(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.mediaDevices.getUserMedia({audio:!!e&&e.toConstraints()});case 3:return t.abrupt("return",t.sent.getAudioTracks()[0]);case 6:throw t.prev=6,t.t0=t.catch(0),Ur(t.t0,Rr.AUDIO);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))}function Fr(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.mediaDevices.getUserMedia({video:!!e&&e.toConstraints()});case 3:return t.abrupt("return",t.sent.getVideoTracks()[0]);case 6:throw t.prev=6,t.t0=t.catch(0),Ur(t.t0,Rr.VIDEO);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))}function Vr(e){return"canvas"in e||"MediaStreamAudioDestinationNode"===e.label||""===e.label}!function(e){e.AUDIO="audio",e.VIDEO="video",e.AV="audio, video",e.SCREEN="screen"}(Rr||(Rr={}));var zr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;s(this,e),this.capacity=t,this.storage=[]}return u(e,[{key:"size",value:function(){return this.storage.length}},{key:"enqueue",value:function(e){this.size()===this.capacity&&this.dequeue(),this.storage.push(e)}},{key:"dequeue",value:function(){return this.storage.shift()}},{key:"aggregate",value:function(e){return e(this.storage)}}]),e}();function Gr(e){if(e<0)throw Error("`ms` should be a positive integer");return new Promise((function(t){return setTimeout(t,e)}))}var Br,Hr,Kr=function(){function e(t,n,r){var i=this;s(this,e),this.track=t,this.audioLevelEvent=n,this.silenceEvent=r,this.TAG="[TrackAudioLevelMonitor]",this.audioLevel=0,this.isMonitored=!1,this.interval=100,this.historyInterval=700,this.history=new zr(this.historyInterval/this.interval),this.detectSilence=function(){return rn(i,null,p().mark((function e(){var t,n,r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=30,n=10,r=0;case 1:if(!this.isMonitored){e.next=14;break}if(!this.track.enabled){e.next=10;break}if(!this.isSilentThisInstant()){e.next=9;break}if(!(++r>n)){e.next=7;break}return this.silenceEvent.publish({track:this.track}),e.abrupt("break",14);case 7:e.next=10;break;case 9:return e.abrupt("break",14);case 10:return e.next=12,Gr(t);case 12:e.next=1;break;case 14:case"end":return e.stop()}}),e,this)})))};try{var a=new MediaStream([this.track.nativeTrack]);this.analyserNode=this.createAnalyserNodeForStream(a)}catch(a){sn.w(this.TAG,"Unable to initialize AudioContext",a)}}return u(e,[{key:"start",value:function(){var e=this;this.stop(),this.isMonitored=!0,sn.d(this.TAG,"Starting track Monitor",this.track),this.loop().then((function(){return sn.d(e.TAG,"Stopping track Monitor",e.track)}))}},{key:"stop",value:function(){this.analyserNode?(this.sendAudioLevel(0),this.isMonitored=!1):sn.d(this.TAG,"AudioContext not initialized")}},{key:"loop",value:function(){return rn(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isMonitored){e.next=6;break}return this.sendAudioLevel(this.getMaxAudioLevelOverPeriod()),e.next=4,Gr(this.interval);case 4:e.next=0;break;case 6:case"end":return e.stop()}}),e,this)})))}},{key:"sendAudioLevel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e=e>35?e:0,Math.abs(this.audioLevel-e)>5){this.audioLevel=e;var t={track:this.track,audioLevel:this.audioLevel};this.audioLevelEvent.publish(t)}}},{key:"getMaxAudioLevelOverPeriod",value:function(){if(this.analyserNode){var e=this.calculateAudioLevel();return void 0!==e&&this.history.enqueue(e),this.history.aggregate((function(e){return Math.max.apply(Math,g(e))}))}sn.d(this.TAG,"AudioContext not initialized")}},{key:"calculateAudioLevel",value:function(){if(this.analyserNode){var e=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(e);var t,n=.009,r=n,i=f(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;r=Math.max(r,(a-128)/128)}}catch(s){i.e(s)}finally{i.f()}var o=(Math.log(n)-Math.log(r))/Math.log(n);return Math.ceil(Math.min(Math.max(100*o,0),100))}sn.d(this.TAG,"AudioContext not initialized")}},{key:"isSilentThisInstant",value:function(){if(this.analyserNode){var e=new Uint8Array(this.analyserNode.fftSize);return this.analyserNode.getByteTimeDomainData(e),!e.some((function(e){return 128!==e&&0!==e}))}sn.d(this.TAG,"AudioContext not initialized")}},{key:"createAnalyserNodeForStream",value:function(e){var t=new AudioContext,n=t.createAnalyser();return t.createMediaStreamSource(e).connect(n),n}}]),e}();!function(e){e.TRANSFORM="TRANSFORM",e.ANALYZE="ANALYZE"}(Br||(Br={})),function(e){e.CUSTOM="CUSTOM",e.LOCAL="LOCAL",e.HMS="HMS"}(Hr||(Hr={}));var Wr,qr,Jr=function(){if(cr&&window){var e=window.location.hostname;return"localhost"===e||"127.0.0.1"===e?Hr.LOCAL:e.includes("app.100ms.live")?Hr.HMS:Hr.CUSTOM}return Hr.CUSTOM}(),Yr=function(){function e(t){var n=t.name,r=t.level,i=t.properties,a=t.includesPII,o=t.timestamp;s(this,e),this.name=n,this.level=r,this.includesPII=a||!1,this.properties=i||{},this.timestamp=o||(new Date).getTime()}return u(e,[{key:"toSignalParams",value:function(){return{name:this.name,info:nn(tn({},this.properties),{timestamp:this.timestamp,domain:Jr}),timestamp:(new Date).getTime()}}}]),e}();!function(e){e[e.VERBOSE=0]="VERBOSE",e[e.INFO=1]="INFO",e[e.ERROR=2]="ERROR",e[e.OFF=3]="OFF"}(Wr||(Wr={})),function(e){e[e.VERBOSE=0]="VERBOSE",e[e.INFO=1]="INFO",e[e.ERROR=2]="ERROR",e[e.OFF=3]="OFF"}(qr||(qr={}));var Qr=function(){function e(){s(this,e)}return u(e,null,[{key:"failure",value:function(e,t){var n=qr.ERROR,r=tn({plugin_name:e},t.toAnalyticsProperties());return new Yr({name:"mediaPlugin.failed",level:n,properties:r})}},{key:"audioPluginStats",value:function(e){var t=e.pluginName,n=e.duration,r=e.loadTime,i=qr.INFO;return new Yr({name:"mediaPlugin.stats",level:i,properties:{plugin_name:t,duration:n,load_time:r}})}},{key:"stats",value:function(e){var t=e.pluginName,n=e.duration,r=e.loadTime,i=e.avgPreProcessingTime,a=e.avgProcessingTime,o=e.inputFrameRate,s=e.pluginFrameRate,c=qr.INFO;return new Yr({name:"mediaPlugin.stats",level:c,properties:{plugin_name:t,duration:n,load_time:r,avg_preprocessing_time:i,avg_processing_time:a,input_frame_rate:o,plugin_frame_rate:s}})}}]),e}(),$r="AnalyticsEventsService",Xr=function(){function e(){s(this,e),this.bufferSize=100,this.transports=[],this.pendingEvents=[],this.level=Wr.INFO}return u(e,[{key:"addTransport",value:function(e){this.transports.push(e)}},{key:"removeTransport",value:function(e){this.transports.splice(this.transports.indexOf(e),1)}},{key:"queue",value:function(e){if(e.level>=this.level&&(this.pendingEvents.push(e),this.pendingEvents.length>this.bufferSize)){var t=this.pendingEvents.shift();sn.d($r,"Max buffer size reached","Removed event to accommodate new events",t)}return this}},{key:"flush",value:function(){var e=this;if(0!==this.transports.length)try{for(var t=function(){var t=e.pendingEvents.shift();t&&e.transports.forEach((function(e){return e.sendEvent(t)}))};this.pendingEvents.length>0;)t()}catch(n){sn.w($r,"Flush Failed",n)}else sn.w($r,"No valid signalling API found to flush analytics")}}]),e}(),Zr=new Xr,ei="AudioPluginsAnalytics",ti=function(){function e(){s(this,e),this.initTime={},this.addedTimestamps={},this.pluginAdded={}}return u(e,[{key:"added",value:function(e){this.pluginAdded[e]=!0,this.addedTimestamps[e]=Date.now(),this.initTime[e]=0}},{key:"removed",value:function(e){if(this.pluginAdded[e]){var t={pluginName:e,duration:Math.floor((Date.now()-this.addedTimestamps[e])/1e3),loadTime:this.initTime[e]};Zr.queue(Qr.audioPluginStats(t)).flush(),this.clean(e)}}},{key:"failure",value:function(e,t){this.pluginAdded[e]&&(Zr.queue(Qr.failure(e,t)).flush(),this.clean(e))}},{key:"initWithTime",value:function(e,t){return rn(this,null,p().mark((function n(){var r,i;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.initTime[e]){n.next=3;break}return sn.i(ei,"Plugin Already loaded ".concat(e,", time it took: ").concat(this.initTime[e])),n.abrupt("return");case 3:return n.prev=3,n.next=6,this.timeInMs(t);case 6:r=n.sent,sn.i(ei,"Time taken for Plugin ".concat(e," initialization : ").concat(r)),n.next=14;break;case 10:throw n.prev=10,n.t0=n.catch(3),i=gn.InitFailed(cn.AUDIO_PLUGINS,"failed during initialization of plugin".concat(n.t0.message||n.t0)),sn.e(ei,i),this.failure(e,i),i;case 14:r&&(this.initTime[e]=r);case 15:case"end":return n.stop()}}),n,this,[[3,10]])})))}},{key:"timeInMs",value:function(e){return rn(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Date.now(),t.next=3,e();case 3:return t.abrupt("return",Math.floor(Date.now()-n));case 4:case"end":return t.stop()}}),t)})))}},{key:"clean",value:function(e){delete this.addedTimestamps[e],delete this.initTime[e],delete this.pluginAdded[e]}}]),e}(),ni="AudioPluginsManager",ri=function(){function e(t){s(this,e),this.pluginAddInProgress=!1,this.hmsTrack=t,this.pluginsMap=new Map,this.analytics=new ti}return u(e,[{key:"getPlugins",value:function(){return Array.from(this.pluginsMap.keys())}},{key:"addPlugin",value:function(e){return rn(this,null,p().mark((function t(){var n,r,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null==(n=e.getName)?void 0:n.call(e)){t.next=4;break}return sn.w("no name provided by the plugin"),t.abrupt("return");case 4:if(!this.pluginAddInProgress){t.next=7;break}throw i=gn.AddAlreadyInProgress(cn.AUDIO_PLUGINS,"Add Plugin is already in Progress"),this.analytics.failure(r,i),sn.w("can't add another plugin when previous add is in progress"),i;case 7:return this.pluginAddInProgress=!0,t.prev=8,t.next=11,this.addPluginInternal(e);case 11:return t.prev=11,this.pluginAddInProgress=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,this,[[8,,11,14]])})))}},{key:"addPluginInternal",value:function(e){return rn(this,null,p().mark((function t(){var n,r,i,a=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null==(n=e.getName)?void 0:n.call(e),!this.pluginsMap.get(r)){t.next=4;break}return sn.w(ni,"plugin - ".concat(r," already added.")),t.abrupt("return");case 4:if(e.isSupported()){t.next=8;break}return i=gn.PlatformNotSupported(cn.AUDIO_PLUGINS,"platform not supported "),this.analytics.failure(r,i),sn.i(ni,"Platform is not supported for plugin - ".concat(e.getName())),t.abrupt("return");case 8:if(t.prev=8,0!==this.pluginsMap.size){t.next=14;break}return t.next=12,this.initContextAndAudioNodes();case 12:t.next=15;break;case 14:this.prevAudioNode&&this.prevAudioNode.disconnect();case 15:return this.analytics.added(r),t.next=18,this.analytics.initWithTime(r,(function(){return rn(a,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.init());case 1:case"end":return t.stop()}}),t)})))}));case 18:return this.pluginsMap.set(r,e),t.next=21,this.processPlugin(e);case 21:return t.next=23,this.connectToDestination();case 23:t.next=28;break;case 25:throw t.prev=25,t.t0=t.catch(8),sn.e(ni,"failed to add plugin",t.t0),t.t0;case 28:case"end":return t.stop()}}),t,this,[[8,25]])})))}},{key:"removePlugin",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.removePluginInternal(e);case 2:if(0!==this.pluginsMap.size){t.next=10;break}return t.next=5,this.cleanup();case 5:return sn.i(ni,"No plugins left, stopping plugins loop"),t.next=8,this.hmsTrack.setProcessedTrack(void 0);case 8:t.next=12;break;case 10:return t.next=12,this.reprocessPlugins();case 12:case"end":return t.stop()}}),t,this)})))}},{key:"cleanup",value:function(){return rn(this,null,p().mark((function e(){var t,n,r,i,a,o,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=f(this.pluginsMap.values()),e.prev=1,a.s();case 3:if((o=a.n()).done){e.next=9;break}return s=o.value,e.next=7,this.removePluginInternal(s);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),a.e(e.t0);case 14:return e.prev=14,a.f(),e.finish(14);case 17:return e.next=19,this.hmsTrack.setProcessedTrack(void 0);case 19:null==(t=this.audioContext)||t.close(),null==(n=this.sourceNode)||n.disconnect(),null==(r=this.prevAudioNode)||r.disconnect(),null==(i=this.outputTrack)||i.stop(),this.sourceNode=void 0,this.destinationNode=void 0,this.audioContext=void 0,this.prevAudioNode=void 0,this.outputTrack=void 0;case 28:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})))}},{key:"reprocessPlugins",value:function(){return rn(this,null,p().mark((function e(){var t,n,r,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.pluginsMap.size&&this.sourceNode){e.next=2;break}return e.abrupt("return");case 2:return t=Array.from(this.pluginsMap.values()),e.next=5,this.cleanup();case 5:return e.next=7,this.initContextAndAudioNodes();case 7:n=0,r=t;case 8:if(!(n<r.length)){e.next=15;break}return i=r[n],e.next=12,this.addPlugin(i);case 12:n++,e.next=8;break;case 15:case"end":return e.stop()}}),e,this)})))}},{key:"initContextAndAudioNodes",value:function(){return rn(this,null,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.audioContext||(this.audioContext=new AudioContext),this.sourceNode||(t=new MediaStream([this.hmsTrack.nativeTrack]),this.sourceNode=this.audioContext.createMediaStreamSource(t)),this.destinationNode){e.next=11;break}return this.destinationNode=this.audioContext.createMediaStreamDestination(),this.outputTrack=this.destinationNode.stream.getAudioTracks()[0],e.prev=3,e.next=6,this.hmsTrack.setProcessedTrack(this.outputTrack);case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(3),sn.e(ni,"error in setting processed track",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[3,8]])})))}},{key:"processPlugin",value:function(e){return rn(this,null,p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.processAudioTrack(this.audioContext,this.prevAudioNode||this.sourceNode);case 3:n=t.sent,this.prevAudioNode&&this.prevAudioNode.connect(n),this.prevAudioNode=n,t.next=13;break;case 7:return t.prev=7,t.t0=t.catch(0),r=e.getName(),sn.e(ni,"error in processing plugin ".concat(r),t.t0),t.next=13,this.removePluginInternal(e);case 13:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"connectToDestination",value:function(){return rn(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{this.prevAudioNode&&this.destinationNode&&this.prevAudioNode.context===this.destinationNode.context&&this.prevAudioNode.connect(this.destinationNode)}catch(t){sn.e(ni,"error in connecting to destination node",t)}case 1:case"end":return e.stop()}}),e,this)})))}},{key:"removePluginInternal",value:function(e){return rn(this,null,p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=null==(n=e.getName)?void 0:n.call(e),this.pluginsMap.get(r)){t.next=4;break}return sn.w(ni,"plugin - ".concat(r," not found to remove.")),t.abrupt("return");case 4:sn.i(ni,"removing plugin ".concat(r)),this.pluginsMap.delete(r),e.stop(),this.analytics.removed(r);case 5:case"end":return t.stop()}}),t,this)})))}}]),e}(),ii=function(){function e(t){s(this,e),this.key=t,this.storage=null}return u(e,[{key:"getStorage",value:function(){return cr&&(this.storage=window.localStorage),this.storage}},{key:"get",value:function(){var e,t=null==(e=this.getStorage())?void 0:e.getItem(this.key);return t?JSON.parse(t):void 0}},{key:"set",value:function(e){var t,n=JSON.stringify(e);null==(t=this.getStorage())||t.setItem(this.key,n)}},{key:"clear",value:function(){var e;null==(e=this.getStorage())||e.removeItem(this.key)}}]),e}(),ai=function(){function e(){s(this,e),this.storage=new ii("hms-device-selection"),this.remember=!1,this.TAG="HMSDeviceStorage"}return u(e,[{key:"setDevices",value:function(e){this.devices=e}},{key:"rememberDevices",value:function(e){this.remember=e}},{key:"updateSelection",value:function(e,t){var n=this,r=t.deviceId,i=t.groupId;if(this.devices&&this.remember){var a=this.devices[e].find((function(e){return n.isSame({deviceId:r,groupId:i},e)}));if(a){var o=this.storage.get()||{};o[e]=a,this.storage.set(o)}else sn.w(this.TAG,"Could not find device with deviceId: ".concat(r,", groupId: ").concat(i))}}},{key:"getSelection",value:function(){if(this.remember)return this.storage.get()}},{key:"cleanup",value:function(){this.remember=!1,this.devices=void 0}},{key:"isSame",value:function(e,t){return e.deviceId===t.deviceId&&(e.groupId===t.groupId||!e.groupId)}}]),e}(),oi=new ai;function si(e,t){return function(n){return n in e&&e[n]!==t[n]}}var ci,ui=function(e){Ee(n,e);var t=Re(n);function n(e,r,i,a){var o,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(new yr).build();return s(this,n),(o=t.call(this,e,r,i)).eventBus=a,o.handleSettingsChange=function(e){return rn(Se(o),null,p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.stream,r=si(e,this.settings),t.t0=r("maxBitrate")&&e.maxBitrate,!t.t0){t.next=5;break}return t.next=5,n.setMaxBitrate(e.maxBitrate,this);case 5:if(t.t1=r("advanced"),!t.t1){t.next=9;break}return t.next=9,this.nativeTrack.applyConstraints(e.toConstraints());case 9:case"end":return t.stop()}}),t,this)})))},o.handleDeviceChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return rn(Se(o),null,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=si(e,this.settings)("deviceId"),!n.t0){n.next=5;break}return n.next=4,this.replaceTrackWith(e);case 4:t||oi.updateSelection("audioInput",{deviceId:e.deviceId,groupId:this.nativeTrack.getSettings().groupId});case 5:case"end":return n.stop()}}),n,this)})))},e.tracks.push(Se(o)),o.settings=c,"default"===c.deviceId&&!Vr(r)&&(o.settings=o.buildNewSettings({deviceId:r.getSettings().deviceId})),o.pluginsManager=new ri(Se(o)),o.setFirstTrackId(r.id),o}return u(n,[{key:"replaceTrackWith",value:function(e){return rn(this,null,p().mark((function t(){var n,r,i,a,o;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.nativeTrack,r=this.enabled,i=Boolean(this.audioLevelMonitor),null==n||n.stop(),t.next=4,jr(e);case 4:return(a=t.sent).enabled=r,o=this.stream,t.next=9,o.replaceSenderTrack(n,this.processedTrack||a);case 9:return t.next=11,o.replaceStreamTrack(n,a);case 11:return this.nativeTrack=a,i&&this.initAudioLevelMonitor(),t.next=15,this.pluginsManager.reprocessPlugins();case 15:case"end":return t.stop()}}),t,this)})))}},{key:"setEnabled",value:function(e){var t=this,r=function(e){return we(ke(n.prototype),e,t)};return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e!==this.enabled,!t.t0){t.next=10;break}if(t.t1=e&&Vr(this.nativeTrack),!t.t1){t.next=6;break}return t.next=6,this.replaceTrackWith(this.settings);case 6:return t.next=8,r("setEnabled").call(this,e);case 8:this.eventBus.localAudioEnabled.publish(e),this.stream.trackUpdate(this);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"isPublishedTrackId",value:function(e){return this.publishedTrackId===e}},{key:"setSettings",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return rn(this,null,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.buildNewSettings(e),n.next=3,this.handleDeviceChange(r,t);case 3:if(!Vr(this.nativeTrack)){n.next=6;break}return this.settings=r,n.abrupt("return");case 6:return n.next=8,this.handleSettingsChange(r);case 8:this.settings=r;case 9:case"end":return n.stop()}}),n,this)})))}},{key:"getPlugins",value:function(){return this.pluginsManager.getPlugins()}},{key:"addPlugin",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.pluginsManager.addPlugin(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"removePlugin",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.pluginsManager.removePlugin(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"setProcessedTrack",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=7;break}if(t.t0=this.processedTrack,!t.t0){t.next=5;break}return t.next=5,this.stream.replaceSenderTrack(this.processedTrack,this.nativeTrack);case 5:return this.processedTrack=void 0,t.abrupt("return");case 7:if(t.t1=e!==this.processedTrack,!t.t1){t.next=17;break}if(!this.processedTrack){t.next=14;break}return t.next=12,this.stream.replaceSenderTrack(this.processedTrack,e);case 12:t.next=16;break;case 14:return t.next=16,this.stream.replaceSenderTrack(this.nativeTrack,e);case 16:this.processedTrack=e;case 17:case"end":return t.stop()}}),t,this)})))}},{key:"initAudioLevelMonitor",value:function(){this.audioLevelMonitor&&this.destroyAudioLevelMonitor(),sn.d("HMSLocalAudioTrack","Monitor Audio Level for",this,this.getMediaTrackSettings().deviceId),this.audioLevelMonitor=new Kr(this,this.eventBus.trackAudioLevelUpdate,this.eventBus.localAudioSilence),this.audioLevelMonitor.start(),this.audioLevelMonitor.detectSilence()}},{key:"destroyAudioLevelMonitor",value:function(){var e;null==(e=this.audioLevelMonitor)||e.stop(),this.audioLevelMonitor=void 0}},{key:"cleanup",value:function(){var e=this,t=function(t){return we(ke(n.prototype),t,e)};return rn(this,null,p().mark((function e(){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t("cleanup").call(this),e.next=3,this.pluginsManager.cleanup();case 3:null==(n=this.processedTrack)||n.stop(),this.destroyAudioLevelMonitor();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getTrackIDBeingSent",value:function(){return this.processedTrack?this.processedTrack.id:this.nativeTrack.id}},{key:"getTrackBeingSent",value:function(){return this.processedTrack||this.nativeTrack}},{key:"buildNewSettings",value:function(e){var t=tn(tn({},this.settings),e),n=t.volume,r=t.codec,i=t.maxBitrate,a=t.deviceId,o=t.advanced;return new kr(n,r,i,a,o)}}]),n}(er);!function(e){e.TRANSFORM="TRANSFORM",e.ANALYZE="ANALYZE"}(ci||(ci={}));var li=function(){function e(){s(this,e),this.total=0,this.count=0}return u(e,[{key:"add",value:function(e){this.count++,this.total+=e}},{key:"getAvg",value:function(){return Math.floor(this.total/this.count)}},{key:"reset",value:function(){this.total=0,this.count=0}}]),e}(),di="VideoPluginsAnalytics",fi=function(){function e(){s(this,e),this.initTime={},this.preProcessingAvgs=new li,this.addedTimestamps={},this.processingAvgs={},this.pluginAdded={},this.pluginInputFrameRate={},this.pluginFrameRate={}}return u(e,[{key:"added",value:function(e,t,n){this.pluginAdded[e]=!0,this.addedTimestamps[e]=Date.now(),this.initTime[e]=0,this.processingAvgs[e]=new li,this.pluginInputFrameRate[e]=t,this.pluginFrameRate[e]=n||t}},{key:"removed",value:function(e){var t;if(this.pluginAdded[e]){var n={pluginName:e,duration:Math.floor((Date.now()-this.addedTimestamps[e])/1e3),loadTime:this.initTime[e],avgPreProcessingTime:this.preProcessingAvgs.getAvg(),avgProcessingTime:null==(t=this.processingAvgs[e])?void 0:t.getAvg(),inputFrameRate:this.pluginInputFrameRate[e],pluginFrameRate:this.pluginFrameRate[e]};Zr.queue(Qr.stats(n)).flush(),this.clean(e)}}},{key:"failure",value:function(e,t){this.pluginAdded[e]&&(Zr.queue(Qr.failure(e,t)).flush(),this.clean(e))}},{key:"initWithTime",value:function(e,t){return rn(this,null,p().mark((function n(){var r,i;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.initTime[e]){n.next=3;break}return sn.i(di,"Plugin Already loaded ".concat(e,", time it took: ").concat(this.initTime[e])),n.abrupt("return");case 3:return n.prev=3,n.next=6,this.timeInMs(t);case 6:r=n.sent,sn.i(di,"Time taken for Plugin ".concat(e," initialization : ").concat(r)),n.next=14;break;case 10:throw n.prev=10,n.t0=n.catch(3),i=gn.InitFailed(cn.VIDEO_PLUGINS,"failed during initialization of plugin".concat(n.t0.message||n.t0)),sn.e(di,i),this.failure(e,i),i;case 14:r&&(this.initTime[e]=r);case 15:case"end":return n.stop()}}),n,this,[[3,10]])})))}},{key:"preProcessWithTime",value:function(e){return rn(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.timeInMs(e);case 2:n=t.sent,this.preProcessingAvgs.add(n);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"processWithTime",value:function(e,t){return rn(this,null,p().mark((function n(){var r,i,a;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.timeInMs(t);case 3:i=n.sent,n.next=10;break;case 6:throw n.prev=6,n.t0=n.catch(0),a=gn.ProcessingFailed(cn.VIDEO_PLUGINS,"Failed during processing of plugin".concat(n.t0.message||n.t0)),sn.e(di,a),this.failure(e,a),a;case 10:i&&(null==(r=this.processingAvgs[e])||r.add(i));case 11:case"end":return n.stop()}}),n,this,[[0,6]])})))}},{key:"timeInMs",value:function(e){return rn(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Date.now(),t.next=3,e();case 3:return t.abrupt("return",Math.floor(Date.now()-n));case 4:case"end":return t.stop()}}),t)})))}},{key:"clean",value:function(e){delete this.addedTimestamps[e],delete this.initTime[e],delete this.processingAvgs[e],delete this.pluginAdded[e],delete this.pluginInputFrameRate[e],delete this.pluginFrameRate[e]}}]),e}(),hi="VideoPluginsManager",pi=function(){function e(t){s(this,e),this.pluginsLoopRunning=!1,this.pluginsLoopState="paused",this.pluginAddInProgress=!1,this.hmsTrack=t,this.plugins=[],this.pluginsMap={},this.pluginNumFramesToSkip={},this.pluginNumFramesSkipped={},this.analytics=new fi,this.canvases=new Array}return u(e,[{key:"getPlugins",value:function(){return g(this.plugins)}},{key:"addPlugin",value:function(e,t){return rn(this,null,p().mark((function n(){var r,i,a;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.pluginAddInProgress){n.next=7;break}if((i=null==(r=e.getName)?void 0:r.call(e))&&""!==i){n.next=5;break}return sn.w("no name provided by the plugin"),n.abrupt("return");case 5:throw a=gn.AddAlreadyInProgress(cn.VIDEO_PLUGINS,"Add Plugin is already in Progress"),this.analytics.failure(i,a),sn.w("can't add another plugin when previous add is in progress"),a;case 7:return this.pluginAddInProgress=!0,n.prev=8,n.next=11,this.addPluginInternal(e,t);case 11:return n.prev=11,this.pluginAddInProgress=!1,n.finish(11);case 14:case"end":return n.stop()}}),n,this,[[8,,11,14]])})))}},{key:"addPluginInternal",value:function(e,t){return rn(this,null,p().mark((function n(){var r,i,a,o,s,c,u=this;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((i=null==(r=e.getName)?void 0:r.call(e))&&""!==i){n.next=4;break}return sn.w("no name provided by the plugin"),n.abrupt("return");case 4:if(!this.pluginsMap[i]){n.next=7;break}return sn.w(hi,"plugin - ".concat(e.getName()," already added.")),n.abrupt("return");case 7:if(a=this.hmsTrack.getMediaTrackSettings().frameRate||24,o=0,t&&t>0?(sn.i(hi,"adding plugin ".concat(e.getName()," with framerate ").concat(t)),t<a&&(o=Math.ceil(a/t)-1),this.analytics.added(i,a,t)):(sn.i(hi,"adding plugin ".concat(e.getName())),this.analytics.added(i,a)),sn.i(hi,"numFrames to skip processing",o),this.pluginNumFramesToSkip[i]=o,this.pluginNumFramesSkipped[i]=o,e.isSupported()){n.next=12;break}return s=gn.PlatformNotSupported(cn.VIDEO_PLUGINS,"platform not supported "),this.analytics.failure(i,s),sn.i(hi,"Platform is not supported for plugin - ".concat(e.getName())),n.abrupt("return");case 12:return n.prev=12,n.next=15,this.analytics.initWithTime(i,(function(){return rn(u,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.init();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))}));case 15:if(this.plugins.push(i),this.pluginsMap[i]=e,!(this.plugins.length+1>this.canvases.length)){n.next=19;break}for(c=this.canvases.length;c<=this.plugins.length;c++)this.canvases[c]=document.createElement("canvas");case 19:return n.next=21,this.startPluginsLoop();case 21:n.next=29;break;case 23:return n.prev=23,n.t0=n.catch(12),sn.e(hi,"failed to add plugin",n.t0),n.next=28,this.removePlugin(e);case 28:throw n.t0;case 29:case"end":return n.stop()}}),n,this,[[12,23]])})))}},{key:"removePlugin",value:function(e){return rn(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.getName(),this.pluginsMap[n]){t.next=4;break}return sn.w(hi,"plugin - ".concat(n," not found to remove.")),t.abrupt("return");case 4:if(sn.i(hi,"removing plugin ".concat(n)),this.removePluginEntry(n),t.t0=0===this.plugins.length,!t.t0){t.next=11;break}return sn.i(hi,"No plugins left, stopping plugins loop"),t.next=11,this.stopPluginsLoop();case 11:e.stop(),this.analytics.removed(n);case 13:case"end":return t.stop()}}),t,this)})))}},{key:"removePluginEntry",value:function(e){var t=this.plugins.indexOf(e);-1!==t&&this.plugins.splice(t,1),this.pluginsMap[e]&&delete this.pluginsMap[e],this.pluginNumFramesToSkip[e]&&delete this.pluginNumFramesToSkip[e],this.pluginNumFramesSkipped[e]&&delete this.pluginNumFramesSkipped[e]}},{key:"waitForRestart",value:function(){return rn(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pluginsLoopRunning||"running"===this.pluginsLoopState){e.next=6;break}case 1:if("paused"!==this.pluginsLoopState){e.next=6;break}return e.next=4,Gr(100);case 4:e.next=1;break;case 6:case"end":return e.stop()}}),e,this)})))}},{key:"cleanup",value:function(){return rn(this,null,p().mark((function e(){var t,n,r,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=f(this.plugins),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,this.removePlugin(this.pluginsMap[i]);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:null==(t=this.outputTrack)||t.stop();case 18:case"end":return e.stop()}}),e,this,[[1,11,14,17]])})))}},{key:"initElementsAndStream",value:function(){this.inputCanvas||(this.inputCanvas=document.createElement("canvas")),this.outputCanvas=document.createElement("canvas"),this.inputVideo||(this.inputVideo=document.createElement("video")),this.inputCanvas.getContext("2d"),this.outputCanvas.getContext("2d");var e=this.outputCanvas.captureStream();this.outputTrack=e.getVideoTracks()[0]}},{key:"startPluginsLoop",value:function(){return rn(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pluginsLoopRunning){e.next=11;break}return this.initElementsAndStream(),this.pluginsLoopRunning=!0,e.prev=2,e.next=5,this.hmsTrack.setProcessedTrack(this.outputTrack);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(2),this.pluginsLoopRunning=!1,sn.e(hi,"error in setting processed track",e.t0),e.t0;case 10:this.pluginsLoop().then((function(){sn.d(hi,"processLoop stopped")}));case 11:case"end":return e.stop()}}),e,this,[[2,7]])})))}},{key:"stopPluginsLoop",value:function(){return rn(this,null,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pluginsLoopRunning=!1,e.next=3,this.hmsTrack.setProcessedTrack(void 0);case 3:this.resetCanvases(),null==(t=this.outputTrack)||t.stop(),this.inputVideo&&(this.inputVideo.srcObject=null,this.inputVideo=void 0);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"pluginsLoop",value:function(){return rn(this,null,p().mark((function e(){var t,n,r,i,a=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pluginsLoopRunning){e.next=27;break}if(t=this.hmsTrack.getMediaTrackSettings().frameRate||24,n=Math.floor(1e3/t),this.hmsTrack.enabled&&"ended"!==this.hmsTrack.nativeTrack.readyState){e.next=8;break}return"running"===this.pluginsLoopState&&this.resetCanvases(),this.pluginsLoopState="paused",e.next=7,Gr(n);case 7:return e.abrupt("continue",25);case 8:return r=0,e.prev=9,e.next=12,this.analytics.preProcessWithTime((function(){return rn(a,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.doPreProcessing();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}));case 12:return i=Date.now(),e.next=15,this.processFramesThroughPlugins();case 15:(r=Math.floor(Date.now()-i))>n&&(r=n),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(9),sn.e(hi,"error in plugins loop",e.t0);case 22:return this.pluginsLoopState="running",e.next=25,Gr(n-r);case 25:e.next=0;break;case 27:case"end":return e.stop()}}),e,this,[[9,19]])})))}},{key:"doPreProcessing",value:function(){return rn(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.addTrackToVideo();case 2:return e.next=4,this.updateInputCanvas();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"processFramesThroughPlugins",value:function(){return rn(this,null,p().mark((function e(){var t,n,r=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.canvases[0]=this.inputCanvas,t=p().mark((function e(t){var n,i,a,o;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.plugins[t],!(i=r.pluginsMap[n])){e.next=36;break}if(e.prev=2,a=r.checkIfSkipRequired(n),i.getPluginType()!==ci.TRANSFORM){e.next=25;break}if(o=function(e,t){return rn(r,null,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,i.processVideoFrame(e,t,a);case 3:r.next=8;break;case 5:r.prev=5,r.t0=r.catch(0),sn.e(hi,"error in processing plugin ".concat(n),r.t0);case 8:case"end":return r.stop()}}),r,null,[[0,5]])})))},!a){e.next=16;break}if(t!=r.plugins.length-1){e.next=12;break}return e.next=10,o(r.canvases[t],r.outputCanvas);case 10:e.next=14;break;case 12:return e.next=14,o(r.canvases[t],r.canvases[t+1]);case 14:case 19:e.next=23;break;case 16:if(t!=r.plugins.length-1){e.next=21;break}return e.next=19,r.analytics.processWithTime(n,(function(){return rn(r,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o(this.canvases[t],this.outputCanvas));case 1:case"end":return e.stop()}}),e,this)})))}));case 21:return e.next=23,r.analytics.processWithTime(n,(function(){return rn(r,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o(this.canvases[t],this.canvases[t+1]));case 1:case"end":return e.stop()}}),e,this)})))}));case 23:e.next=29;break;case 25:if(e.t0=i.getPluginType()===ci.ANALYZE&&!a,!e.t0){e.next=29;break}return e.next=29,r.analytics.processWithTime(n,(function(){return rn(r,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.processVideoFrame(this.inputCanvas);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}));case 29:e.next=36;break;case 31:return e.prev=31,e.t1=e.catch(2),sn.e(hi,"error in processing plugin ".concat(n),e.t1),e.next=36,r.removePlugin(i);case 36:case"end":return e.stop()}}),e,null,[[2,31]])})),n=0;case 3:if(!(n<this.plugins.length)){e.next=8;break}return e.delegateYield(t(n),"t0",5);case 5:n++,e.next=3;break;case 8:case"end":return e.stop()}}),e,this)})))}},{key:"addTrackToVideo",value:function(){return rn(this,null,p().mark((function e(){var t,n,r=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.inputVideo){e.next=2;break}return e.abrupt("return");case 2:null!==(n=this.inputVideo.srcObject)&&n instanceof MediaStream&&(null==(t=n.getVideoTracks()[0])?void 0:t.id)===this.hmsTrack.nativeTrack.id||(this.inputVideo.pause(),this.inputVideo.srcObject=new MediaStream([this.hmsTrack.nativeTrack]),this.inputVideo.muted=!0,this.inputVideo.playsInline=!0,this.inputVideo&&(this.inputVideo.oncanplaythrough=function(){var e;null==(e=r.inputVideo)||e.play()}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"updateInputCanvas",value:function(){return rn(this,null,p().mark((function e(){var t,n,r,i,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.inputCanvas&&this.inputVideo){e.next=2;break}return e.abrupt("return");case 2:t=this.hmsTrack.getMediaTrackSettings(),n=t.width,r=void 0===n?320:n,i=t.height,a=void 0===i?240:i,this.inputCanvas.height!==a&&(this.inputCanvas.height=a),this.inputCanvas.width!==r&&(this.inputCanvas.width=r),this.inputCanvas.getContext("2d").drawImage(this.inputVideo,0,0,r,a);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"resetCanvases",value:function(){if(this.outputCanvas&&this.inputCanvas){var e=this.outputCanvas.getContext("2d");e&&(e.fillStyle="rgb(0, 0, 0)",e.fillRect(0,0,this.outputCanvas.width,this.outputCanvas.height));var t=this.inputCanvas.getContext("2d");t&&(t.fillStyle="rgb(0, 0, 0)",t.fillRect(0,0,this.outputCanvas.width,this.outputCanvas.height)),this.canvases=[]}}},{key:"checkIfSkipRequired",value:function(e){var t=!1;return this.pluginNumFramesSkipped[e]<this.pluginNumFramesToSkip[e]?(this.pluginNumFramesSkipped[e]++,t=!0):(t=!1,this.pluginNumFramesSkipped[e]=0),t}}]),e}(),vi="HMSLocalStream",mi=function(e){Ee(n,e);var t=Re(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments)).connection=null,e}return u(n,[{key:"setConnection",value:function(e){this.connection=e}},{key:"addTransceiver",value:function(e,t){var n=[];if(e instanceof Ei)if(t.length>0)sn.v(vi,"Simulcast enabled with layers",t),n.push.apply(n,g(t));else{var r={active:this.nativeStream.active};e.settings.maxBitrate&&!sr&&(r.maxBitrate=e.settings.maxBitrate),n.push(r)}var i=this.connection.addTransceiver(e.nativeTrack,{streams:[this.nativeStream],direction:"sendonly",sendEncodings:n});return this.setPreferredCodec(i,e.nativeTrack.kind),i}},{key:"setMaxBitrate",value:function(e,t){return rn(this,null,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null==(r=this.connection)?void 0:r.setMaxBitrate(e,t);case 2:case"end":return n.stop()}}),n,this)})))}},{key:"setPreferredCodec",value:function(e,t){}},{key:"replaceTrack",value:function(e,t){return rn(this,null,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.replaceSenderTrack(e,t);case 2:e.stop(),this.replaceStreamTrack(e,t);case 4:case"end":return n.stop()}}),n,this)})))}},{key:"replaceStreamTrack",value:function(e,t){this.nativeStream.addTrack(t),this.nativeStream.removeTrack(e)}},{key:"replaceSenderTrack",value:function(e,t){return rn(this,null,p().mark((function n(){var r,i;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=null==(r=this.connection)?void 0:r.getSenders().find((function(t){return t.track&&t.track.id===e.id})),void 0!==i){n.next=4;break}return sn.w(vi,"No sender found for trackId=".concat(e.id)),n.abrupt("return");case 4:return n.next=6,i.replaceTrack(t);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"removeSender",value:function(e){var t=this,n=0;this.connection.getSenders().forEach((function(r){var i,a;if((null==(i=r.track)?void 0:i.id)===e.trackId||(null==(a=r.track)?void 0:a.id)===e.getTrackIDBeingSent()){t.connection.removeTrack(r),n+=1;var o=t.tracks.indexOf(e);-1!==o?t.tracks.splice(o,1):sn.e(vi,"Cannot find ".concat(e.trackId," in locally stored tracks"))}})),1!==n&&sn.e(vi,"Removed ".concat(n," sender's, expected to remove 1"))}},{key:"trackUpdate",value:function(e){var t;null==(t=this.connection)||t.trackUpdate(e)}}]),n}(Hn),gi=function(){function e(){s(this,e)}return u(e,null,[{key:"connect",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date,i=arguments.length>3?arguments[3]:void 0,a=this.eventNameFor("connect",void 0===e),o=e?qr.ERROR:qr.INFO,s=this.getPropertiesWithError((m(t={},this.KEY_REQUESTED_AT,null==n?void 0:n.getTime()),m(t,this.KEY_RESPONDED_AT,null==r?void 0:r.getTime()),m(t,"endpoint",i),t),e);return new Yr({name:a,level:o,properties:s})}},{key:"disconnect",value:function(e){var t=e?qr.ERROR:qr.INFO,n=this.getPropertiesWithError({},e);return new Yr({name:"disconnected",level:t,properties:n})}},{key:"join",value:function(e,t,n){var r,i=this.eventNameFor("join",void 0===n),a=n?qr.ERROR:qr.INFO,o=this.getPropertiesWithError((m(r={},this.KEY_REQUESTED_AT,e.getTime()),m(r,this.KEY_RESPONDED_AT,t.getTime()),r),n);return new Yr({name:i,level:a,properties:o})}},{key:"publish",value:function(e){var t=e.devices,n=e.settings,r=e.error,i=this.eventNameFor("publish",void 0===r),a=r?qr.ERROR:qr.INFO,o=this.getPropertiesWithError({devices:t,audio:null==n?void 0:n.audio,video:null==n?void 0:n.video},r);return new Yr({name:i,level:a,properties:o})}},{key:"subscribeFail",value:function(e){var t=this.eventNameFor("subscribe",!1),n=qr.ERROR,r=e.toAnalyticsProperties();return new Yr({name:t,level:n,properties:r})}},{key:"leave",value:function(){return new Yr({name:"leave",level:qr.INFO})}},{key:"autoplayError",value:function(){return new Yr({name:"autoplayError",level:qr.ERROR})}},{key:"deviceChange",value:function(e){var t=e.selection,n=e.type,r=e.devices,i=e.error,a=this.eventNameFor(i?"publish":"device.".concat(n),void 0===i),o=i?qr.ERROR:qr.INFO,s=this.getPropertiesWithError({selection:t,devices:r},i);return new Yr({name:a,level:o,properties:s})}},{key:"performance",value:function(e){var t=qr.INFO,n=e.toAnalyticsProperties();return new Yr({name:"perf.stats",level:t,properties:n})}},{key:"rtcStats",value:function(e){var t=qr.INFO,n=e.toAnalyticsProperties();return new Yr({name:"rtc.stats",level:t,properties:n})}},{key:"degradationStats",value:function(e,t){var n=qr.INFO,r={degradedAt:e.degradedAt,trackId:e.trackId};if(!t&&e.degradedAt instanceof Date){var i=new Date,a=i.valueOf()-e.degradedAt.valueOf();r=nn(tn({},r),{duration:a,restoredAt:i})}return new Yr({name:"video.degradation.stats",level:n,properties:r})}},{key:"audioDetectionFail",value:function(e,t){var n=this.getPropertiesWithError({device:t},e),r=qr.ERROR;return new Yr({name:"audiopresence.failed",level:r,properties:n})}},{key:"eventNameFor",value:function(e,t){return"".concat(e,".").concat(t?"success":"failed")}},{key:"getPropertiesWithError",value:function(e,t){return t&&(e=tn(tn({},t.toAnalyticsProperties()),e)),e}}]),e}();gi.KEY_REQUESTED_AT="requested_at",gi.KEY_RESPONDED_AT="responded_at";var yi,ki="default",bi="default",wi=function(){function e(t,n,r,i){s(this,e),this.store=t,this.observer=n,this.deviceManager=r,this.eventBus=i,this.TAG="[LocalTrackManager]"}return u(e,[{key:"getTracksToPublish",value:function(e){return rn(this,null,p().mark((function t(){var n,r,i,a,o,s,c,u,l,d,f,h,v;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.store.getPublishParams()){t.next=3;break}return t.abrupt("return",[]);case 3:if(r=n.allowed,i=Boolean(r&&r.includes("audio")),a=Boolean(r&&r.includes("video")),i||a){t.next=6;break}return t.abrupt("return",[]);case 6:if(o=[],s=this.getTrackSettings(e,n)){t.next=9;break}return t.abrupt("return",[]);case 9:if(c=this.store.getLocalPeerTracks(),u=c.find((function(e){return e.type===Yn.VIDEO&&"regular"===e.source})),l=c.find((function(e){return e.type===Yn.AUDIO&&"regular"===e.source})),d=c.find((function(e){return e.type===Yn.VIDEO&&"screen"===e.source})),f=Boolean(u&&this.store.getTrackById(u.trackId)),h=Boolean(l&&this.store.getTrackById(l.trackId)),t.t0=u&&s.video,!t.t0){t.next=14;break}return t.next=14,u.setSettings(s.video);case 14:if(t.t1=l&&s.audio,!t.t1){t.next=18;break}return t.next=18,l.setSettings(s.audio);case 18:if(d&&s.screen&&d.setSettings(s.screen),!f||!h){t.next=21;break}return t.abrupt("return",[]);case 21:return v={audio:i&&!l&&(!e.isAudioMuted||"empty"),video:a&&!u&&(!e.isVideoMuted||"empty")},t.prev=22,sn.d(this.TAG,"Init Local Tracks",{fetchTrackOptions:v}),t.next=26,this.getLocalTracks(v,s);case 26:o=t.sent,t.next=34;break;case 29:return t.prev=29,t.t2=t.catch(22),t.next=33,this.retryGetLocalTracks(t.t2,s,v);case 33:o=t.sent;case 34:return t.abrupt("return",(u&&a&&!f&&o.push(u),l&&i&&!h&&o.push(l),o));case 35:case"end":return t.stop()}}),t,this,[[22,29]])})))}},{key:"getLocalTracks",value:function(){return rn(this,arguments,p().mark((function e(){var t,n,r,i,a,o,s,c,u,l=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{audio:!0,video:!0},n=l.length>1?l[1]:void 0,e.prev=2,e.next=5,this.getNativeLocalTracks(t,n);case 5:return r=e.sent,i=r.find((function(e){return"video"===e.kind})),a=r.find((function(e){return"audio"===e.kind})),o=new mi(new MediaStream(r)),s=[],a&&(null==n?void 0:n.audio)&&(c=new ui(o,a,"regular",this.eventBus,n.audio),s.push(c)),i&&(null==n?void 0:n.video)&&(u=new Ei(o,i,"regular",this.eventBus,n.video),s.push(u)),e.abrupt("return",s);case 15:throw e.prev=15,e.t0=e.catch(2),e.t0 instanceof ln&&Zr.queue(gi.publish({devices:this.deviceManager.getDevices(),error:e.t0,settings:n})).flush(),e.t0;case 18:case"end":return e.stop()}}),e,this,[[2,15]])})))}},{key:"getNativeLocalTracks",value:function(){return rn(this,arguments,p().mark((function t(){var n,r,i,a,o=arguments;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o.length>0&&void 0!==o[0]?o[0]:{audio:!1,video:!1},r=o.length>1?o[1]:void 0,i=new Tr(!0===n.video?r.video:null,!0===n.audio?r.audio:null,r.simulcast),a=[],t.t0=i.audio||i.video,!t.t0){t.next=13;break}return t.t1=a.push,t.t2=a,t.t3=g,t.next=10,this.getAVTracks(i);case 10:t.t4=t.sent,t.t5=(0,t.t3)(t.t4),t.t1.apply.call(t.t1,t.t2,t.t5);case 13:return"empty"===n.audio&&a.push(e.getEmptyAudioTrack()),"empty"===n.video&&a.push(e.getEmptyVideoTrack()),t.abrupt("return",a);case 16:case"end":return t.stop()}}),t,this)})))}},{key:"getLocalScreen",value:function(e,t){return rn(this,null,p().mark((function n(){var r,i,a,o,s,c,u,l,d;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return delete(r=t.toConstraints()).advanced,i={video:e.toConstraints(),audio:nn(tn({},r),{autoGainControl:!1,noiseSuppression:!1,googAutoGainControl:!1,echoCancellation:!1})},n.prev=3,n.next=6,navigator.mediaDevices.getDisplayMedia(i);case 6:a=n.sent,n.next=12;break;case 9:throw n.prev=9,n.t0=n.catch(3),Ur(n.t0,Rr.SCREEN);case 12:return o=[],s=new mi(a),c=a.getVideoTracks()[0],u=new Ei(s,c,"screen",this.eventBus,e),o.push(u),(l=a.getAudioTracks()[0])&&(d=new ui(s,l,"screen",this.eventBus,t),o.push(d)),n.abrupt("return",(sn.v(this.TAG,"getLocalScreen",o),o));case 17:case"end":return n.stop()}}),n,this,[[3,9]])})))}},{key:"requestPermissions",value:function(){return rn(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({audio:!0,video:!0});case 3:e.sent.getTracks().forEach((function(e){return e.stop()})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),sn.e(this.TAG,e.t0);case 9:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"getAVTracks",value:function(e){return rn(this,null,p().mark((function t(){var n,r,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.mediaDevices.getUserMedia({audio:!!e.audio&&e.audio.toConstraints(),video:!!e.video&&e.video.toConstraints()});case 3:return n=t.sent,t.abrupt("return",n.getVideoTracks().concat(n.getAudioTracks()));case 7:return t.prev=7,t.t0=t.catch(0),r=!1,i=!1,t.next=12,this.deviceManager.init();case 12:throw!this.deviceManager.hasWebcamPermission&&e.video&&(r=!0),!this.deviceManager.hasMicrophonePermission&&e.audio&&(i=!0),Ur(t.t0,r&&i?Rr.AV:r?Rr.VIDEO:Rr.AUDIO);case 15:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"getTrackSettings",value:function(e,t){var n=t.audio,r=t.video,i=t.screen,a=t.allowed,o=Boolean(a&&a.includes("audio")),s=Boolean(a&&a.includes("video")),c=Boolean(a&&a.includes("screen"));if(!o&&!s)return null;var u=this.store.getLocalPeer(),l=null==u?void 0:u.videoTrack,d=null==u?void 0:u.audioTrack,f=(null==d?void 0:d.settings.deviceId)||e.audioInputDeviceId,h=(null==l?void 0:l.settings.deviceId)||e.videoDeviceId,p=null,v=null,m=null;if(o&&(p=(new yr).codec(n.codec).maxBitrate(n.bitRate).deviceId(f||ki).build()),s){var g=this.store.getSimulcastDimensions("regular");v=(new br).codec(r.codec).maxBitrate(r.bitRate).maxFramerate(r.frameRate).setWidth((null==g?void 0:g.width)||r.width).setHeight((null==g?void 0:g.height)||r.height).deviceId(h||bi).build()}if(c){var y=this.store.getSimulcastDimensions("screen");m=(new br).maxBitrate(i.bitRate,!1).codec(i.codec).maxFramerate(i.frameRate).setWidth((null==y?void 0:y.width)||i.width).setHeight((null==y?void 0:y.height)||i.height).build()}return(new Sr).video(v).audio(p).screen(m).build()}},{key:"retryGetLocalTracks",value:function(e,t,n){return rn(this,null,p().mark((function r(){var i,a,o,s,c,u,l;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e instanceof ln&&e.action===cn.TRACK)){r.next=37;break}if(this.observer.onFailure(e),i=e.code===un.TracksErrors.OVER_CONSTRAINED,a=e.message.includes("audio"),o=e.message.includes("video"),!i){r.next=19;break}return s=(new Sr).video(new wr).audio(new kr).build(),sn.w(this.TAG,"Fetch AV Tracks failed with overconstrained error",{fetchTrackOptions:n},{error:e}),r.prev=6,r.next=9,this.getLocalTracks(n,s);case 9:case 18:case 23:case 34:return r.abrupt("return",r.sent);case 12:return r.prev=12,r.t0=r.catch(6),c=r.t0 instanceof ln?r.t0.nativeError:r.t0,u=r.t0,"OverconstrainedError"===(null==c?void 0:c.name)&&((l=hn.GenericTrack(cn.TRACK,"Overconstrained error after dropping all constraints")).addNativeError(c),u=l),r.next=18,this.retryGetLocalTracks(u,t,n);case 19:return n.audio=a?"empty":n.audio,n.video=o?"empty":n.video,sn.w(this.TAG,"Fetch AV Tracks failed",{fetchTrackOptions:n},e),r.prev=20,r.next=23,this.getLocalTracks(n,t);case 26:return r.prev=26,r.t1=r.catch(20),sn.w(this.TAG,"Fetch empty tacks failed",r.t1),n.audio=n.audio&&"empty",n.video=n.video&&"empty",this.observer.onFailure(hn.GenericTrack(cn.TRACK,r.t1.message)),r.next=34,this.getLocalTracks(n,t);case 35:r.next=38;break;case 37:return r.abrupt("return",(sn.w(this.TAG,"Fetch AV Tracks failed - unknown exception",e),this.observer.onFailure(hn.GenericTrack(cn.TRACK,e.message)),[]));case 38:case"end":return r.stop()}}),r,this,[[6,12],[20,26]])})))}}],[{key:"getEmptyVideoTrack",value:function(e){var t,n,r,i=(null==(t=null==e?void 0:e.getSettings())?void 0:t.width)||320,a=(null==(n=null==e?void 0:e.getSettings())?void 0:n.height)||240;yi||(null==(r=(yi=Object.assign(document.createElement("canvas"),{width:i,height:a})).getContext("2d"))||r.fillRect(0,0,i,a));var o=yi.captureStream(10).getVideoTracks()[0],s=setInterval((function(){if("ended"!==o.readyState){var e=yi.getContext("2d");if(e){var t=0===e.getImageData(0,0,1,1).data[0]?1:0;e.fillStyle="rgb(".concat(t,", 0, 0)"),e.fillRect(0,0,1,1)}}else clearInterval(s)}),100);return o.onended=function(){clearInterval(s)},o.enabled=!1,o}},{key:"getEmptyAudioTrack",value:function(){var e=new AudioContext,t=e.createOscillator(),n=t.connect(e.createMediaStreamDestination());t.start();var r=n.stream.getAudioTracks()[0];return r.enabled=!1,r}}]),e}();function Si(e,t){return function(n){return n in e&&e[n]!==t[n]}}var Ti,Ei=function(e){Ee(n,e);var t=Re(n);function n(e,r,i,a){var o,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:(new br).build();return s(this,n),(o=t.call(this,e,r,i)).eventBus=a,o.buildNewSettings=function(e){var t=tn(tn({},o.settings),e),n=t.width,r=t.height,i=t.codec,a=t.maxFramerate,s=t.maxBitrate,c=t.deviceId,u=t.advanced;return new wr(n,r,i,a,c,u,s)},o.handleSettingsChange=function(e){return rn(Se(o),null,p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.stream,r=Si(e,this.settings),t.t0=r("maxBitrate")&&e.maxBitrate,!t.t0){t.next=5;break}return t.next=5,n.setMaxBitrate(e.maxBitrate,this);case 5:if(t.t1=r("width")||r("height")||r("advanced"),!t.t1){t.next=9;break}return t.next=9,this.nativeTrack.applyConstraints(e.toConstraints());case 9:case"end":return t.stop()}}),t,this)})))},o.handleDeviceChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return rn(Se(o),null,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Si(e,this.settings)("deviceId")||"regular"!==this.source){n.next=9;break}if(!this.enabled){n.next=8;break}return n.next=4,this.replaceTrackWith(e);case 4:return r=n.sent,n.next=7,this.replaceSender(r,this.enabled);case 7:this.nativeTrack=r;case 8:t||oi.updateSelection("videoInput",{deviceId:e.deviceId,groupId:this.nativeTrack.getSettings().groupId});case 9:case"end":return n.stop()}}),n,this)})))},e.tracks.push(Se(o)),o.settings=c,"default"===c.deviceId&&r.enabled&&(o.settings=o.buildNewSettings({deviceId:r.getSettings().deviceId})),o.pluginsManager=new pi(Se(o)),o.setFirstTrackId(o.trackId),o}return u(n,[{key:"setEnabled",value:function(e){var t=this,r=function(e){return we(ke(n.prototype),e,t)};return rn(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e===this.enabled){t.next=22;break}if("regular"!==this.source){t.next=18;break}if(!e){t.next=8;break}return t.next=5,this.replaceTrackWith(this.settings);case 5:n=t.sent,t.next=11;break;case 8:return t.next=10,this.replaceTrackWithBlank();case 10:n=t.sent;case 11:return t.next=13,this.replaceSender(n,e);case 13:if(this.nativeTrack=n,t.t0=e,!t.t0){t.next=18;break}return t.next=18,this.pluginsManager.waitForRestart();case 18:return t.next=20,r("setEnabled").call(this,e);case 20:this.eventBus.localVideoEnabled.publish(e),this.stream.trackUpdate(this);case 22:case"end":return t.stop()}}),t,this)})))}},{key:"isPublishedTrackId",value:function(e){return this.publishedTrackId===e}},{key:"addSink",value:function(e){this.addSinkInternal(e,this.processedTrack||this.nativeTrack)}},{key:"setSettings",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return rn(this,null,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.buildNewSettings(e),n.next=3,this.handleDeviceChange(r,t);case 3:if(this.enabled){n.next=6;break}return this.settings=r,n.abrupt("return");case 6:return n.next=8,this.handleSettingsChange(r);case 8:this.settings=r;case 9:case"end":return n.stop()}}),n,this)})))}},{key:"getPlugins",value:function(){return this.pluginsManager.getPlugins()}},{key:"addPlugin",value:function(e,t){return rn(this,null,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.pluginsManager.addPlugin(e,t));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"removePlugin",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.pluginsManager.removePlugin(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"cleanup",value:function(){var e=this,t=function(t){return we(ke(n.prototype),t,e)};return rn(this,null,p().mark((function e(){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t("cleanup").call(this),e.next=3,this.pluginsManager.cleanup();case 3:null==(n=this.processedTrack)||n.stop();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"setProcessedTrack",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.nativeTrack.enabled){t.next=3;break}return this.processedTrack=e,t.abrupt("return");case 3:if(e){t.next=10;break}if(t.t0=this.processedTrack,!t.t0){t.next=8;break}return t.next=8,this.stream.replaceSenderTrack(this.processedTrack,this.nativeTrack);case 8:return this.processedTrack=void 0,t.abrupt("return");case 10:if(t.t1=e!==this.processedTrack,!t.t1){t.next=20;break}if(!this.processedTrack){t.next=17;break}return t.next=15,this.stream.replaceSenderTrack(this.processedTrack,e);case 15:t.next=19;break;case 17:return t.next=19,this.stream.replaceSenderTrack(this.nativeTrack,e);case 19:this.processedTrack=e;case 20:case"end":return t.stop()}}),t,this)})))}},{key:"getTrackIDBeingSent",value:function(){return this.processedTrack?this.processedTrack.id:this.nativeTrack.id}},{key:"getTrackBeingSent",value:function(){return this.processedTrack||this.nativeTrack}},{key:"replaceTrackWith",value:function(e){return rn(this,null,p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null==(n=this.nativeTrack)||n.stop(),t.next=4,Fr(e);case 4:return r=t.sent,t.abrupt("return",("default"===this.settings.deviceId&&(this.settings=this.buildNewSettings({deviceId:this.nativeTrack.getSettings().deviceId})),r));case 6:case"end":return t.stop()}}),t,this)})))}},{key:"replaceTrackWithBlank",value:function(){return rn(this,null,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.nativeTrack,e.abrupt("return",(null==t||t.stop(),wi.getEmptyVideoTrack(t)));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"replaceSender",value:function(e,t){return rn(this,null,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=this.stream,!t){n.next=6;break}return n.next=4,r.replaceSenderTrack(this.nativeTrack,this.processedTrack||e);case 4:n.next=8;break;case 6:return n.next=8,r.replaceSenderTrack(this.processedTrack||this.nativeTrack,e);case 8:return n.next=10,r.replaceStreamTrack(this.nativeTrack,e);case 10:case"end":return n.stop()}}),n,this)})))}}]),n}(nr),xi=function(){function e(t,n,r){var i=this;s(this,e),this.store=t,this.eventEmitter=n,this.listener=r,this.tracksToProcess=new Map,this.handleTrackAdd=function(e){sn.d(i.TAG,"ONTRACKADD",e,e.nativeTrack),i.store.addTrack(e),i.tracksToProcess.set(e.trackId,e),i.processPendingTracks()},this.handleTrackRemove=function(e){var t;sn.d(i.TAG,"ONTRACKREMOVE",e,e.nativeTrack);var n=i.store.getTrackState(e.trackId);if(n){e.type===Yn.AUDIO&&i.eventEmitter.emit("track-removed",{detail:e});var r=i.store.getPeerById(n.peerId);if(r){var a=function(){var t=r.auxiliaryTracks.indexOf(e);t>-1&&r.auxiliaryTracks.splice(t,1)};switch(e.type){case Yn.AUDIO:"regular"!==e.source?a():r.audioTrack=void 0;break;case Yn.VIDEO:"regular"!==e.source?a():r.videoTrack=void 0}i.store.removeTrack(e.trackId),null==(t=i.listener)||t.onTrackUpdate(Pn.TRACK_REMOVED,e,r)}}},this.handleTrackLayerUpdate=function(e){var t,n;for(var r in e.tracks){var a=e.tracks[r],o=i.store.getTrackById(r);if(o){var s=i.store.getPeerByTrackId(r);if(s&&o instanceof rr){var c=i.isTrackDegraded(a.expected_layer,a.current_layer);o.setDegraded(c),c?null==(t=i.listener)||t.onTrackUpdate(Pn.TRACK_DEGRADED,o,s):null==(n=i.listener)||n.onTrackUpdate(Pn.TRACK_RESTORED,o,s)}}}},this.handleTrackUpdate=function(e){var t,n,r,a;sn.d(i.TAG,"TRACK_UPDATE",e);var o=i.store.getPeerById(e.peer.peer_id);if(o)for(var s in e.tracks){var c=Object.assign({},null==(t=i.store.getTrackState(s))?void 0:t.trackInfo),u=e.tracks[s],l=i.store.getTrackById(s);i.store.setTrackState({peerId:e.peer.peer_id,trackInfo:tn(tn({},c),u)}),!l||i.tracksToProcess.has(s)?i.processPendingTracks():(l.setEnabled(!u.mute),c.mute!==u.mute?(u.mute?null==(n=i.listener)||n.onTrackUpdate(Pn.TRACK_MUTED,l,o):null==(r=i.listener)||r.onTrackUpdate(Pn.TRACK_UNMUTED,l,o),l.type===Yn.AUDIO&&i.eventEmitter.emit("track-updated",{detail:{track:l,enabled:!u.mute}})):c.description!==u.description&&(null==(a=i.listener)||a.onTrackUpdate(Pn.TRACK_DESCRIPTION_CHANGED,l,o)))}}}return u(e,[{key:"TAG",get:function(){return"[".concat(this.constructor.name,"]")}},{key:"isTrackDegraded",value:function(e,t){var n=function(e){switch(e){case _n.HIGH:return 3;case _n.MEDIUM:return 2;case _n.LOW:return 1;case _n.NONE:return 0}};return n(t)<n(e)}},{key:"handleTrackMetadataAdd",value:function(e){for(var t in sn.d(this.TAG,"TRACK_METADATA_ADD",e),e.tracks)this.store.setTrackState({peerId:e.peer.peer_id,trackInfo:e.tracks[t]});this.processPendingTracks()}},{key:"processPendingTracks",value:function(){var e=this;new Map(this.tracksToProcess).forEach((function(t){var n,r=e.store.getTrackState(t.trackId);if(r){var i=e.store.getPeerById(r.peerId);if(i){switch(t.source=r.trackInfo.source,t.peerId=i.peerId,t.setEnabled(!r.trackInfo.mute),t.type){case Yn.AUDIO:i.audioTrack||"regular"!==t.source?i.auxiliaryTracks.push(t):i.audioTrack=t;break;case Yn.VIDEO:var a=t,o=e.store.getSimulcastDefinitionsForPeer(i,a.source);a.setSimulcastDefinitons(o),i.videoTrack||"regular"!==t.source?i.auxiliaryTracks.push(a):i.videoTrack=a}t.type===Yn.AUDIO?e.eventEmitter.emit("track-added",{detail:{track:t,peer:i}}):null==(n=e.listener)||n.onTrackUpdate(Pn.TRACK_ADDED,t,i),e.tracksToProcess.delete(t.trackId)}}}))}}]),e}(),Ci=function(){function e(t,n,r){var i=this;s(this,e),this.store=t,this.listener=n,this.audioListener=r,this.TAG="[HMSNotificationManager]",this.eventEmitter=new qt.EventEmitter2,this.hasConsistentRoomStateArrived=!1,this.ignoreNotification=function(e){if(e===mr.PEER_LIST)i.hasConsistentRoomStateArrived=!0;else if(e===mr.ROOM_STATE)return i.hasConsistentRoomStateArrived;return!1},this.handleTrackAdd=function(e){i.trackManager.handleTrackAdd(e)},this.handleTrackRemove=function(e){i.trackManager.handleTrackRemove(e)},this.updateLocalPeer=function(e){var t=e.name,n=e.metadata,r=i.store.getLocalPeer();i.peerManager.handlePeerInfoUpdate({peer:r,name:t,data:n})},this.trackManager=new xi(this.store,this.eventEmitter,this.listener),this.peerManager=new Dr(this.store,this.trackManager,this.listener),this.peerListManager=new Or(this.store,this.peerManager,this.trackManager,this.listener),this.broadcastManager=new Ir(this.store,this.listener),this.policyChangeManager=new Nr(this.store,this.eventEmitter),this.requestManager=new Lr(this.store,this.listener),this.activeSpeakerManager=new Er(this.store,this.listener,this.audioListener),this.roomUpdateManager=new Mr(this.store,this.listener)}return u(e,[{key:"setListener",value:function(e){this.listener=e,this.trackManager.listener=e,this.peerManager.listener=e,this.peerListManager.listener=e,this.broadcastManager.listener=e,this.requestManager.listener=e,this.activeSpeakerManager.listener=e,this.roomUpdateManager.listener=e}},{key:"setAudioListener",value:function(e){this.audioListener=e,this.activeSpeakerManager.audioListener=e}},{key:"addEventListener",value:function(e,t){this.eventEmitter.addListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.eventEmitter.removeListener(e,t)}},{key:"once",value:function(e,t){this.eventEmitter.once(e,t)}},{key:"handleNotification",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.method,a=e.params;if([mr.ACTIVE_SPEAKERS,mr.SFU_STATS].includes(i)||sn.d(this.TAG,"Received notification",{method:i,notification:a}),i===mr.SFU_STATS&&(null==(t=window.HMS)?void 0:t.ON_SFU_STATS)&&"function"==typeof(null==(n=window.HMS)?void 0:n.ON_SFU_STATS)&&window.HMS.ON_SFU_STATS(e.params),!this.ignoreNotification(i))switch(this.roomUpdateManager.handleNotification(i,a),this.peerManager.handleNotification(i,a),this.requestManager.handleNotification(i,a),this.peerListManager.handleNotification(i,a,r),this.broadcastManager.handleNotification(i,a),i){case mr.TRACK_METADATA_ADD:this.trackManager.handleTrackMetadataAdd(a);break;case mr.TRACK_UPDATE:this.trackManager.handleTrackUpdate(a);break;case mr.ON_SFU_TRACK_LAYER_UPDATE:this.trackManager.handleTrackLayerUpdate(a);break;case mr.ACTIVE_SPEAKERS:this.activeSpeakerManager.handleActiveSpeakers(a);break;case mr.POLICY_CHANGE:this.policyChangeManager.handlePolicyChange(a)}}}]),e}(),Pi=u((function e(t){s(this,e),this.type=t.type,this.source=t.source||"regular",this.description="",t instanceof Xn?(this.mute=!t.enabled,this.track_id=t.publishedTrackId,this.stream_id=t.stream.id):(this.mute=t.mute,this.track_id=t.track_id,this.stream_id=t.stream_id)}));!function(e){e[e.Disconnected=0]="Disconnected",e[e.Connecting=1]="Connecting",e[e.Joined=2]="Joined",e[e.Failed=3]="Failed",e[e.Reconnecting=4]="Reconnecting",e[e.Leaving=5]="Leaving"}(Ti||(Ti={}));var Ri,_i=u((function e(t,n,r,i,a,o,c){s(this,e),this.authToken=t,this.peerId=n,this.peerName=r,this.data=i,this.endpoint=a,this.autoSubscribeVideo=o,this.serverSubDegrade=c}));!function(e){e[e.ConnectFailed=0]="ConnectFailed",e[e.SignalDisconnect=1]="SignalDisconnect",e[e.PublishIceConnectionFailed=2]="PublishIceConnectionFailed",e[e.SubscribeIceConnectionFailed=3]="SubscribeIceConnectionFailed"}(Ri||(Ri={}));var Ai=(m(Ht={},0,[]),m(Ht,1,[]),m(Ht,2,[1]),m(Ht,3,[1]),Ht),Ii=u((function e(t){var n=this;s(this,e),this.promise=new Promise((function(e,r){n.resolve=e,n.reject=r,t(e,r)}))})),Oi="[RetryScheduler]",Di=function(){function e(t,n){s(this,e),this.inProgress=new Map,this.retryTaskIds=[],this.analyticsEventsService=t,this.onStateChange=n}return u(e,[{key:"schedule",value:function(e,t,n){return rn(this,arguments,p().mark((function e(t,n,r){var i,a,o=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>3&&void 0!==o[3]?o[3]:5,a=!(o.length>4&&void 0!==o[4])||o[4],e.next=4,this.scheduleTask(t,n,a,r,i);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"reset",value:function(){this.retryTaskIds.forEach((function(e){return clearTimeout(e)})),this.retryTaskIds=[],this.inProgress.clear()}},{key:"scheduleTask",value:function(e,t,n,r){return rn(this,arguments,p().mark((function e(t,n,r,i){var a,o,s,c,u,l,d,f,h,v,m,g,y=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=y.length>4&&void 0!==y[4]?y[4]:5,o=y.length>5&&void 0!==y[5]?y[5]:0,sn.d(Oi,"schedule: ",{category:Ri[t],error:n}),0!==o){e.next=11;break}if(!(s=this.inProgress.get(t))){e.next=9;break}return sn.d(Oi,"schedule: Already a task for ".concat(Ri[t]," scheduled, waiting for its completion")),e.next=8,s.promise;case 8:return e.abrupt("return");case 9:c=new Ii((function(e,t){})),this.inProgress.set(t,c),this.sendEvent(n,t);case 11:u=!1,l=Ai[t],e.t0=p().keys(l);case 13:if((e.t1=e.t0()).done){e.next=32;break}if(d=e.t1.value,f=l[parseInt(d)],e.prev=16,h=this.inProgress.get(f),e.t2=h,!e.t2){e.next=24;break}return sn.d(Oi,"schedule: Suspending retry task of ".concat(Ri[t],", waiting for ").concat(Ri[f]," to recover")),e.next=23,h.promise;case 23:sn.d(Oi,"schedule: Resuming retry task ".concat(Ri[t]," as it's dependency ").concat(Ri[f]," is recovered"));case 24:e.next=30;break;case 26:return e.prev=26,e.t3=e.catch(16),sn.d(Oi,"schedule: Stopping retry task of ".concat(Ri[t]," as it's dependency ").concat(Ri[f]," failed to recover")),u=!0,e.abrupt("break",32);case 30:e.next=13;break;case 32:if(!(o>=a||u)){e.next=39;break}if(n.description+=". [".concat(Ri[t],"] Could not recover after ").concat(o," tries"),u&&(n.description+=" Could not recover all of it's required dependencies - [".concat(l.map((function(e){return Ri[e]})).toString(),"]")),n.isTerminal=!0,this.inProgress.delete(t),this.sendEvent(n,t),this.reset(),!r){e.next=37;break}this.onStateChange(Ti.Failed,n),e.next=38;break;case 37:throw n;case 38:return e.abrupt("return");case 39:return r&&this.onStateChange(Ti.Reconnecting,n),v=this.getDelayForRetryCount(o),sn.i(Oi,"schedule: [".concat(Ri[t],"] [failedRetryCount=").concat(o,"] Scheduling retry task in ").concat(v,"ms")),e.prev=42,e.next=45,this.setTimeoutPromise(i,v);case 45:m=e.sent,e.next=51;break;case 48:e.prev=48,e.t4=e.catch(42),m=!1,sn.w(Oi,"[".concat(Ri[t],"] Un-caught exception ").concat(e.t4.name," in retry-task, initiating retry"),e.t4);case 51:if(!m){e.next=56;break}g=this.inProgress.get(t),this.inProgress.delete(t),null==g||g.resolve(o),r&&0===this.inProgress.size&&this.onStateChange(Ti.Joined),sn.i(Oi,"schedule: [".concat(Ri[t],"] [failedRetryCount=").concat(o,"] Recovered \u267b\ufe0f")),e.next=58;break;case 56:return e.next=58,this.scheduleTask(t,n,r,i,a,o+1);case 58:case"end":return e.stop()}}),e,this,[[16,26],[42,48]])})))}},{key:"sendEvent",value:function(e,t){var n;switch(t){case Ri.ConnectFailed:n=gi.connect(e);break;case Ri.SignalDisconnect:n=gi.disconnect(e);break;case Ri.PublishIceConnectionFailed:n=gi.publish({error:e});break;case Ri.SubscribeIceConnectionFailed:n=gi.subscribeFail(e)}this.analyticsEventsService.queue(n).flush()}},{key:"getDelayForRetryCount",value:function(e){var t=Math.pow(2,e),n=Math.random();return Math.round(1e3*Math.min(t+n,60))}},{key:"setTimeoutPromise",value:function(e,t){return rn(this,null,p().mark((function n(){var r=this;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,i){var a=window.setTimeout((function(){return rn(r,null,p().mark((function t(){var r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e();case 3:(r=t.sent)&&this.retryTaskIds.splice(this.retryTaskIds.indexOf(a),1),n(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),i(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})))}),t);r.retryTaskIds.push(a)})));case 1:case"end":return n.stop()}}),n)})))}}]),e}(),Ni=function(){function e(){s(this,e),this.TAG="AnalyticsTransport"}return u(e,[{key:"sendEvent",value:function(e){try{this.sendSingleEvent(e),this.flushFailedEvents()}catch(b){sn.w(this.TAG,"sendEvent failed",b)}}},{key:"flushFailedEvents",value:function(){try{for(sn.d(this.TAG,"Flushing failed events",this.failedEvents);this.failedEvents.size()>0;){var e=this.failedEvents.dequeue();e&&this.sendSingleEvent(e)}}catch(e){sn.w(this.TAG,"flushFailedEvents failed",e)}}},{key:"sendSingleEvent",value:function(e){try{sn.d(this.TAG,"Sending event",{event:e}),this.transportProvider.sendEvent(e)}catch(b){throw sn.w(this.TAG,"".concat(this.transportProvider.constructor.name,".sendEvent failed, adding to local storage events"),{event:e,error:b}),this.failedEvents.enqueue(e),b}}}]),e}(),Li=function(e){Ee(n,e);var t=Re(n);function n(){var e;return s(this,n),(e=t.call(this,100)).localStorage=new ii("hms-analytics"),e.localStorage.clear(),e.initLocalStorageQueue(),e}return u(n,[{key:"enqueue",value:function(e){we(ke(n.prototype),"enqueue",this).call(this,e),this.localStorage.set(this.storage)}},{key:"dequeue",value:function(){var e=we(ke(n.prototype),"dequeue",this).call(this);return this.localStorage.set(this.storage),e}},{key:"initLocalStorageQueue",value:function(){var e,t=this;null==(e=this.localStorage.get())||e.forEach((function(e){var r=new Yr(e);we(ke(n.prototype),"enqueue",t).call(t,r)}))}}]),n}(zr),Mi=function(e){Ee(n,e);var t=Re(n);function n(e){var r;return s(this,n),(r=t.call(this)).transportProvider=e,r.failedEvents=new Li,r}return u(n)}(Ni),Ui=function(){function e(t,n){s(this,e),this.store=t,this.eventBus=n,this.TAG="[TrackDegradationController]",this.MAX_RECOVER_GRACE_PERIOD=120,this.recoverAttemptCount=0,this.packetsLost=0;var r=this.store.getSubscribeDegradationParams();this.PACKETS_LOST_THRESHOLD=r.packetLossThreshold,this.MIN_DEGRADE_GRACE_PERIOD=r.degradeGracePeriodSeconds,this.MIN_RECOVER_GRACE_PERIOD=r.recoverGracePeriodSeconds,this.degradeGracePeriod=this.MIN_DEGRADE_GRACE_PERIOD,this.recoverGracePeriod=this.MIN_RECOVER_GRACE_PERIOD}return u(e,[{key:"isAttemptingRecover",get:function(){return Boolean(this.recoveringTrack)}},{key:"handleRtcStatsChange",value:function(e){var t=e>this.packetsLost+this.PACKETS_LOST_THRESHOLD;this.packetsLost=e,t?this.degrade():this.recover()}},{key:"degrade",value:function(){if(!(this.degradeGracePeriod>0))return this.isAttemptingRecover?this.cancelRecovery():(sn.d(this.TAG,"Packet loss increased, Degrading",{packetsLost:this.packetsLost}),this.degradeActiveTracksByHalf(),this.degradeGracePeriod=this.MIN_DEGRADE_GRACE_PERIOD,void(this.recoverGracePeriod=this.MIN_RECOVER_GRACE_PERIOD));this.degradeGracePeriod--}},{key:"recover",value:function(){this.degradeGracePeriod=this.MIN_DEGRADE_GRACE_PERIOD,this.recoverGracePeriod>0?this.recoverGracePeriod--:(this.recoveringTrack=this.getActiveTracks(!0).find((function(e){return e.degraded})),this.recoveringTrack&&(sn.d(this.TAG,"Packet lost stable, recovering track",this.recoveringTrack),this.recoveringTrack.setDegraded(!1),this.eventBus.trackRestored.publish(this.recoveringTrack),this.recoverGracePeriod=this.MIN_RECOVER_GRACE_PERIOD))}},{key:"cleanUp",value:function(){this.eventBus.trackDegraded.removeAllListeners(),this.eventBus.trackRestored.removeAllListeners()}},{key:"degradeActiveTracksByHalf",value:function(){var e=this.getActiveTracks(!1);if(e.length){sn.d(this.TAG,{activeTracks:g(e)});for(var t=Math.ceil(e.length/2);t--;){var n=e.pop();n.setDegraded(!0),this.eventBus.trackDegraded.publish(n)}}}},{key:"getActiveTracks",value:function(e){var t=this;return this.store.getRemoteVideoTracks().filter((function(t){return t.hasSinks()&&(!t.degraded||e)})).sort((function(e,n){var r=t.store.getComparator().getTrackComparators();return-1*(r.screenShare(e,n)||r.rolePriority(e,n)||r.peerAudioLevel(e,n)||t.store.getComparator().stringComparator(e.trackId,n.trackId))})).slice(0)}},{key:"cancelRecovery",value:function(){this.recoveringTrack&&(this.recoveringTrack.setDegraded(!0),this.eventBus.trackDegraded.publish(this.recoveringTrack)),this.recoveringTrack=void 0,this.recoverAttemptCount++,this.recoverGracePeriod=this.getDelayForRecoverCount(this.recoverAttemptCount),this.degradeGracePeriod=this.MIN_DEGRADE_GRACE_PERIOD,sn.d(this.TAG,"Recover Attempt Failed",{count:this.recoverAttemptCount,delay:this.recoverGracePeriod})}},{key:"getDelayForRecoverCount",value:function(e){var t=this.MIN_RECOVER_GRACE_PERIOD+this.MIN_RECOVER_GRACE_PERIOD*e;return Math.min(t,this.MAX_RECOVER_GRACE_PERIOD)}}]),e}(),ji=function(e,t,n,r){return rn(void 0,null,p().mark((function i(){var a,o,s,c,u,l,d,f;return p().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=(o=t instanceof ui||t instanceof Ei)?"publish":"subscribe",c=o?t.getTrackBeingSent():t.nativeTrack,i.prev=1,i.next=4,null==(a=e[s])?void 0:a.call(e,c);case 4:u=i.sent,i.next=10;break;case 7:i.prev=7,i.t0=i.catch(1),sn.e("[HMSWebrtcStats]","Error in getting track stats",t,c,i.t0);case 10:return l=Fi(u),d=Hi("publish"===s?"bytesSent":"bytesReceived",l,r),f=Ki("packetsLost",l,r),i.abrupt("return",((null==l?void 0:l.remote)&&Object.assign(l.remote,{packetsLostRate:Ki("packetsLost",l.remote,null==r?void 0:r.remote)}),l&&Object.assign(l,{bitrate:d,packetsLostRate:f,peerId:t.peerId,peerName:n})));case 12:case"end":return i.stop()}}),i,null,[[1,7]])})))},Fi=function(e){var t,n;return null==e||e.forEach((function(e){switch(e.type){case"inbound-rtp":case"outbound-rtp":t=e;break;case"remote-inbound-rtp":n=e}})),t&&Object.assign(t,{remote:n})},Vi=function(e,t,n){var r=zi(t),i=Hi("publish"===e?"bytesSent":"bytesReceived",r,n&&n[e]);return r&&Object.assign(r,{bitrate:i})},zi=function(e){var t;return e.forEach((function(n){"transport"===n.type&&(t=e.get(n.selectedCandidatePairId))})),t||e.forEach((function(e){"candidate-pair"===e.type&&e.selected&&(t=e)})),t},Gi=function(e){var t={packetsLost:0,jitter:0};return null==e||e.forEach((function(e){e.packetsLost&&(t.packetsLost+=e.packetsLost),e.jitter>t.jitter&&(t.jitter=e.jitter)})),t},Bi=function(e,t){return Array.from(new Set(e.concat(t)))},Hi=function(e,t,n){return 8*Ki(e,t,n)},Ki=function(e,t,n){var r=t&&t[e],i=n?n[e]:null;return t&&n&&bn(r)&&bn(i)?1e3*Wi(r,i,t.timestamp,n.timestamp):0},Wi=function(e,t,n,r){return bn(e)&&bn(t)&&n&&r?(e-t)/(n-r):0},qi=function(){function e(t,n){var r;s(this,e),this.getStats=t,this.store=n,this.TAG="[HMSWebrtcStats]",this.peerStats={},this.trackStats={},this.localPeerID=null==(r=this.store.getLocalPeer())?void 0:r.peerId}return u(e,[{key:"getLocalPeerStats",value:function(){if(this.localPeerID)return this.peerStats[this.localPeerID]}},{key:"getTrackStats",value:function(e){return this.trackStats[e]}},{key:"updateStats",value:function(){return rn(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateLocalPeerStats();case 2:return e.next=4,this.updateTrackStats();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"updateLocalPeerStats",value:function(){return rn(this,null,p().mark((function e(){var t,n,r,i,a,o,s,c,u,l,d,f,h,v,m,g;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.localPeerID){e.next=2;break}return e.abrupt("return");case 2:return s=this.getLocalPeerStats(),e.prev=3,e.next=6,null==(n=(t=this.getStats).publish)?void 0:n.call(t);case 6:c=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),sn.e(this.TAG,"Error in getting publish stats",e.t0);case 12:return u=c&&Vi("publish",c,s),e.prev=13,e.next=16,null==(i=(r=this.getStats).subscribe)?void 0:i.call(r);case 16:l=e.sent,e.next=22;break;case 19:e.prev=19,e.t1=e.catch(13),sn.e(this.TAG,"Error in getting subscribe stats",e.t1);case 22:d=l&&Vi("subscribe",l,s),f=Gi(l),h=f.packetsLost,v=f.jitter,m=Wi(h,null==(a=null==s?void 0:s.subscribe)?void 0:a.packetsLost,null==d?void 0:d.timestamp,null==(o=null==s?void 0:s.subscribe)?void 0:o.timestamp),g=d&&Object.assign(d,{packetsLostRate:m,jitter:v,packetsLost:h}),this.peerStats[this.localPeerID]={publish:u,subscribe:g};case 24:case"end":return e.stop()}}),e,this,[[3,9],[13,19]])})))}},{key:"updateTrackStats",value:function(){return rn(this,null,p().mark((function e(){var t,n,r,i,a,o,s,c,u,l;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.store.getTracksMap(),r=Bi(Object.keys(this.trackStats),Object.keys(n)),i=f(r),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=19;break}if(o=a.value,!(s=n[o])){e.next=16;break}return c=s.peerId&&(null==(t=this.store.getPeerById(s.peerId))?void 0:t.name),u=this.getTrackStats(s.trackId),e.next=12,ji(this.getStats,s,c,u);case 12:(l=e.sent)&&(this.trackStats[o]=l),e.next=17;break;case 16:delete this.trackStats[o];case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),i.e(e.t0);case 24:return e.prev=24,i.f(),e.finish(24);case 27:case"end":return e.stop()}}),e,this,[[2,21,24,27]])})))}}]),e}(),Ji=function(){function e(t,n,r,i){var a=this;s(this,e),this.store=t,this.eventBus=n,this.publishConnection=r,this.subscribeConnection=i,this.TAG="[HMSWebrtcInternals]",this.interval=1e3,this.isMonitored=!1,this.handleStatsUpdate=function(){return rn(a,null,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==(t=this.hmsStats)?void 0:t.updateStats();case 2:this.eventBus.statsUpdate.publish(this.hmsStats);case 3:case"end":return e.stop()}}),e,this)})))}}return u(e,[{key:"getPublishPeerConnection",value:function(){return this.publishConnection}},{key:"getSubscribePeerConnection",value:function(){return this.subscribeConnection}},{key:"onStatsChange",value:function(e){var t=this;return this.eventBus.statsUpdate.subscribe(e),function(){t.eventBus.statsUpdate.unsubscribe(e)}}},{key:"setPeerConnections",value:function(e){var t,n,r=e.publish,i=e.subscribe;this.publishConnection=r,this.subscribeConnection=i,this.hmsStats=new qi({publish:null==(t=this.publishConnection)?void 0:t.getStats.bind(this.publishConnection),subscribe:null==(n=this.subscribeConnection)?void 0:n.getStats.bind(this.subscribeConnection)},this.store)}},{key:"start",value:function(){return rn(this,null,p().mark((function e(){var t=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.stop(),this.isMonitored=!0,sn.d(this.TAG,"Starting Webrtc Stats Monitor"),this.startLoop().then((function(){return sn.d(t.TAG,"Stopping Webrtc Stats Monitor")})).catch((function(e){return sn.e(t.TAG,e.message)}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"stop",value:function(){this.isMonitored=!1}},{key:"startLoop",value:function(){return rn(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isMonitored){e.next=7;break}return e.next=3,this.handleStatsUpdate();case 3:return e.next=5,Gr(this.interval);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),e,this)})))}},{key:"cleanUp",value:function(){this.stop(),this.eventBus.statsUpdate.removeAllListeners()}}]),e}(),Yi="[HMSTransport]:",Qi=function(){function e(t,n,r,i,a){var o,c,u=this;s(this,e),this.observer=t,this.deviceManager=n,this.store=r,this.localTrackManager=i,this.eventBus=a,this.state=Ti.Disconnected,this.trackStates=new Map,this.publishConnection=null,this.subscribeConnection=null,this.retryScheduler=new Di(Zr,(function(e,t){return rn(u,null,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.t0=e!==this.state,!n.t0){n.next=5;break}return this.state=e,n.next=5,this.observer.onStateChange(this.state,t);case 5:case"end":return n.stop()}}),n,this)})))})),this.callbacks=new Map,this.signalObserver={onOffer:function(e){return rn(u,null,p().mark((function t(){var n,r,i,a,o;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.subscribeConnection.setRemoteDescription(e);case 3:sn.d(Yi,"[SUBSCRIBE] Adding ".concat(this.subscribeConnection.candidates.length," ice-candidates"),this.subscribeConnection.candidates),n=f(this.subscribeConnection.candidates),t.prev=5,n.s();case 7:if((r=n.n()).done){t.next=13;break}return i=r.value,t.next=11,this.subscribeConnection.addIceCandidate(i);case 11:t.next=7;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(5),n.e(t.t0);case 18:return t.prev=18,n.f(),t.finish(18);case 21:return this.subscribeConnection.candidates.length=0,t.next=24,this.subscribeConnection.createAnswer();case 24:return a=t.sent,t.next=27,this.subscribeConnection.setLocalDescription(a);case 27:this.signal.answer(a),sn.d(Yi,"[role=SUBSCRIBE] onOffer renegotiation DONE \u2705"),t.next=35;break;case 31:throw t.prev=31,t.t1=t.catch(0),sn.d(Yi,"[role=SUBSCRIBE] onOffer renegotiation FAILED \u274c"),this.state=Ti.Failed,o=t.t1 instanceof ln?t.t1:mn.Unknown(cn.PUBLISH,t.t1.message),Zr.queue(gi.subscribeFail(o)).flush(),o;case 35:case"end":return t.stop()}}),t,this,[[0,31],[5,15,18,21]])})))},onTrickle:function(e){return rn(u,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==(n=e.target===an.Publish?this.publishConnection:this.subscribeConnection).remoteDescription){t.next=5;break}n.candidates.push(e.candidate),t.next=7;break;case 5:return t.next=7,n.addIceCandidate(e.candidate);case 7:case"end":return t.stop()}}),t,this)})))},onNotification:function(e){return u.observer.onNotification(e)},onServerError:function(e){return rn(u,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.observer.onStateChange(Ti.Failed,e);case 2:case"end":return t.stop()}}),t,this)})))},onFailure:function(e){u.joinParameters&&u.retryScheduler.schedule(Ri.SignalDisconnect,e,u.retrySignalDisconnectTask)},onOffline:function(){return rn(u,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sn.d(Yi,"socket offline",Ti[this.state]);try{this.state!==Ti.Leaving&&this.joinParameters&&this.retryScheduler.schedule(Ri.SignalDisconnect,dn.WebSocketConnectionLost(cn.RECONNECT_SIGNAL,"Network offline"),this.retrySignalDisconnectTask)}catch(t){console.error(t)}case 2:case"end":return e.stop()}}),e,this)})))},onOnline:function(){sn.d(Yi,"socket online",Ti[u.state]),u.analyticsSignalTransport.flushFailedEvents()}},this.signal=new gr(this.signalObserver),this.analyticsSignalTransport=new Mi(this.signal),this.publishConnectionObserver={onRenegotiationNeeded:function(){return rn(u,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.performPublishRenegotiation();case 2:case"end":return e.stop()}}),e,this)})))},onIceConnectionChange:function(e){return rn(u,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:sn.d("publisher ice connection state change, ",e);case 1:case"end":return t.stop()}}),t)})))},onConnectionStateChange:function(e){return rn(u,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(sn.d("publisher connection state change, ",e),t.t0="failed"===e,!t.t0){t.next=5;break}return t.next=5,this.handleIceConnectionFailure(an.Publish);case 5:case"end":return t.stop()}}),t,this)})))}},this.subscribeConnectionObserver={onApiChannelMessage:function(e){u.observer.onNotification(JSON.parse(e))},onTrackAdd:function(e){sn.d(Yi,"[Subscribe] onTrackAdd",e),u.observer.onTrackAdd(e)},onTrackRemove:function(e){sn.d(Yi,"[Subscribe] onTrackRemove",e),u.observer.onTrackRemove(e)},onIceConnectionChange:function(e){return rn(u,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:sn.d("subscriber ice connection state change, ",e),"connected"===e&&(n=this.callbacks.get(Nn),this.callbacks.delete(Nn),n&&n.promise.resolve(!0));case 1:case"end":return t.stop()}}),t,this)})))},onConnectionStateChange:function(e){return rn(u,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(sn.d("subscriber connection state change, ",e),t.t0="failed"===e,!t.t0){t.next=5;break}return t.next=5,this.handleIceConnectionFailure(an.Subscribe);case 5:if("connected"!==e){t.next=8;break}n=this.callbacks.get(Nn),this.callbacks.delete(Nn),n&&n.promise.resolve(!0);case 8:case"end":return t.stop()}}),t,this)})))}},this.retryPublishIceFailedTask=function(){return rn(u,null,p().mark((function e(){var t,n=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("connected"===this.publishConnection.iceConnectionState&&"connected"===this.publishConnection.connectionState){e.next=6;break}return t=new Promise((function(e,t){n.callbacks.set(On,{promise:{resolve:e,reject:t},action:cn.RESTART_ICE,extra:{}})})),e.next=4,this.performPublishRenegotiation({iceRestart:!0});case 4:return e.next=6,t;case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e,this)})))},this.retrySubscribeIceFailedTask=function(){return rn(u,null,p().mark((function e(){var t,n,r=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("connected"===this.subscribeConnection.iceConnectionState&&"connected"===this.subscribeConnection.connectionState){e.next=3;break}return t=new Promise((function(e,t){r.callbacks.set(Nn,{promise:{resolve:e,reject:t},action:cn.RESTART_ICE,extra:{}})})),n=new Promise((function(e){setTimeout(e,6e4,!1)})),e.abrupt("return",Promise.race([t,n]));case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e,this)})))},this.retrySignalDisconnectTask=function(){return rn(u,null,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.signal.isConnected,sn.d(Yi,"retrySignalDisconnectTask",{signalConnected:this.signal.isConnected}),this.signal.isConnected){e.next=11;break}return e.prev=2,e.next=5,this.internalConnect(this.joinParameters.authToken,this.joinParameters.endpoint,this.joinParameters.peerId);case 5:t=!0,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t=!1;case 11:if(e.t1=this.signal.isConnected,!e.t1){e.next=16;break}return e.next=15,this.retryPublishIceFailedTask();case 15:e.t1=e.sent;case 16:return t=e.t1,this.signal.trackUpdate(this.trackStates),e.abrupt("return",t);case 19:case"end":return e.stop()}}),e,this,[[2,8]])})))},this.webrtcInternals=new Ji(this.store,this.eventBus,null==(o=this.publishConnection)?void 0:o.nativeConnection,null==(c=this.subscribeConnection)?void 0:c.nativeConnection)}return u(e,[{key:"getLocalScreen",value:function(e,t){return rn(this,null,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.localTrackManager.getLocalScreen(e,t);case 3:return n.abrupt("return",n.sent);case 6:throw n.prev=6,n.t0=n.catch(0),n.t0 instanceof ln&&Zr.queue(gi.publish({error:n.t0,devices:this.deviceManager.getDevices(),settings:new Tr(e,t,!1)})).flush(),n.t0;case 9:case"end":return n.stop()}}),n,this,[[0,6]])})))}},{key:"getWebrtcInternals",value:function(){return this.webrtcInternals}},{key:"join",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"https://prod-init.100ms.live/init",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return rn(this,null,p().mark((function o(){var s,c;return p().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(this.setTransportStateForJoin(),this.joinParameters=new _i(e,t,n.name,n.metaData,r,i,a),sn.d(Yi,"join: started \u23f0"),s=new Date,o.prev=2,o.t0=!this.signal.isConnected||!this.initConfig,!o.t0){o.next=7;break}return o.next=7,this.connect(e,r,t);case 7:if(o.t1=this.initConfig,!o.t1){o.next=11;break}return o.next=11,this.connectionJoin(n.name,n.metaData,this.initConfig.rtcConfiguration,i,a);case 11:o.next=21;break;case 13:return o.prev=13,o.t2=o.catch(2),sn.e(Yi,"join: failed \u274c [token=".concat(e,"]"),o.t2),this.state=Ti.Failed,o.t2 instanceof ln&&Zr.queue(gi.join(s,new Date,o.t2)).flush(),(c=o.t2).isTerminal=500===c.code,o.next=20,this.observer.onStateChange(this.state,c);case 20:throw c;case 21:sn.d(Yi,"\u2705 join: successful"),this.state=Ti.Joined,this.observer.onStateChange(this.state);case 22:case"end":return o.stop()}}),o,this,[[2,13]])})))}},{key:"connect",value:function(e,t,n){return rn(this,null,p().mark((function r(){var i,a=this;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,this.internalConnect(e,t,n);case 3:return r.abrupt("return",r.sent);case 6:if(r.prev=6,r.t0=r.catch(0),!(r.t0 instanceof ln&&([un.WebSocketConnectionErrors.WEBSOCKET_CONNECTION_LOST,un.InitAPIErrors.ENDPOINT_UNREACHABLE].includes(r.t0.code)||r.t0.code.toString().startsWith("5")||r.t0.code.toString().startsWith("429")))){r.next=14;break}return i=function(){return rn(a,null,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.internalConnect(e,t,n);case 2:return r.abrupt("return",Boolean(this.initConfig&&this.initConfig.endpoint));case 3:case"end":return r.stop()}}),r,this)})))},r.next=12,this.retryScheduler.schedule(Ri.ConnectFailed,r.t0,i,5,!1);case 12:r.next=15;break;case 14:throw r.t0;case 15:case"end":return r.stop()}}),r,this,[[0,6]])})))}},{key:"leave",value:function(){return rn(this,null,p().mark((function e(){var t,n,r,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zr.removeTransport(this.analyticsSignalTransport),this.retryScheduler.reset(),this.joinParameters=void 0,e.prev=1,this.state=Ti.Leaving,null==(t=this.webrtcInternals)||t.cleanUp(),null==(n=this.trackDegradationController)||n.cleanUp(),e.next=7,null==(r=this.publishConnection)?void 0:r.close();case 7:return e.next=9,null==(i=this.subscribeConnection)?void 0:i.close();case 9:if(e.t0=this.signal.isConnected,!e.t0){e.next=14;break}return this.signal.leave(),e.next=14,this.signal.close();case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(1),e.t1 instanceof ln&&Zr.queue(gi.disconnect(e.t1)).flush(),sn.e(Yi,"leave: FAILED \u274c",e.t1);case 19:return e.prev=19,this.state=Ti.Disconnected,this.observer.onStateChange(this.state),e.finish(19);case 22:case"end":return e.stop()}}),e,this,[[1,16,19,22]])})))}},{key:"publish",value:function(e){return rn(this,null,p().mark((function t(){var n,r,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=f(e),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=15;break}return i=r.value,t.prev=5,t.next=8,this.publishTrack(i);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),t.t0 instanceof ln&&Zr.queue(gi.publish({devices:this.deviceManager.getDevices(),error:t.t0})).flush();case 13:t.next=3;break;case 15:t.next=20;break;case 17:t.prev=17,t.t1=t.catch(1),n.e(t.t1);case 20:return t.prev=20,n.f(),t.finish(20);case 23:case"end":return t.stop()}}),t,this,[[1,17,20,23],[5,10]])})))}},{key:"unpublish",value:function(e){return rn(this,null,p().mark((function t(){var n,r,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=f(e),t.prev=1,n.s();case 3:if((r=n.n()).done){t.next=9;break}return i=r.value,t.next=7,this.unpublishTrack(i);case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),n.e(t.t0);case 14:return t.prev=14,n.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,11,14,17]])})))}},{key:"sendMessage",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.signal.broadcast(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"trackUpdate",value:function(e){var t=Array.from(this.trackStates.values()).find((function(t){return e.type===t.type&&e.source===t.source}));if(t){var n=new Pi(nn(tn({},t),{mute:!e.enabled}));this.trackStates.set(t.track_id,n),sn.d(Yi,"Track Update",this.trackStates,e),this.signal.trackUpdate(new Map([[t.track_id,n]]))}}},{key:"changeRole",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return rn(this,null,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.signal.requestRoleChange({requested_for:e.peerId,role:t,force:n});case 2:case"end":return r.stop()}}),r,this)})))}},{key:"acceptRoleChange",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.signal.acceptRoleChangeRequest({role:e.role.name,token:e.token});case 2:case"end":return t.stop()}}),t,this)})))}},{key:"endRoom",value:function(e,t){return rn(this,null,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.signal.endRoom(e,t);case 2:case"end":return n.stop()}}),n,this)})))}},{key:"removePeer",value:function(e,t){return rn(this,null,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.signal.removePeer({requested_for:e,reason:t});case 2:case"end":return n.stop()}}),n,this)})))}},{key:"startRTMPOrRecording",value:function(e){return rn(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null==(n=e.rtmpURLs)?void 0:n.length)){t.next=5;break}return t.next=3,this.signal.startRTMPOrRecording({meeting_url:e.meetingURL,record:e.record,rtmp_urls:e.rtmpURLs});case 3:t.next=7;break;case 5:return t.next=7,this.signal.startRTMPOrRecording({meeting_url:e.meetingURL,record:e.record});case 7:case"end":return t.stop()}}),t,this)})))}},{key:"stopRTMPOrRecording",value:function(){return rn(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.signal.stopRTMPAndRecording();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"startHLSStreaming",value:function(e){return rn(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={variants:e.variants.map((function(e){var t={meeting_url:e.meetingURL};return e.metadata&&(t.metadata=e.metadata),t}))},e.recording&&(n.recording={single_file_per_layer:e.recording.singleFilePerLayer,hls_vod:e.recording.hlsVod}),t.next=4,this.signal.startHLSStreaming(n);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"stopHLSStreaming",value:function(e){return rn(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}return n={variants:null==e?void 0:e.variants.map((function(e){var t={meeting_url:e.meetingURL};return e.metadata&&(t.metadata=e.metadata),t}))},t.next=4,this.signal.stopHLSStreaming(n);case 4:return t.next=6,this.signal.stopHLSStreaming();case 6:case"end":return t.stop()}}),t,this)})))}},{key:"changeName",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.signal.updatePeer({name:e});case 2:case"end":return t.stop()}}),t,this)})))}},{key:"changeMetadata",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.signal.updatePeer({data:e});case 2:case"end":return t.stop()}}),t,this)})))}},{key:"changeTrackState",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.signal.requestTrackStateChange(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"changeMultiTrackState",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.signal.requestMultiTrackStateChange(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"publishTrack",value:function(e){return rn(this,null,p().mark((function t(){var n,r,i,a,o=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.publishedTrackId=e.nativeTrack.id,sn.d(Yi,"\u23f3 publishTrack: trackId=".concat(e.trackId,", toPublishTrackId=").concat(e.publishedTrackId),e),this.trackStates.set(e.publishedTrackId,new Pi(e)),n=new Promise((function(e,t){o.callbacks.set(On,{promise:{resolve:e,reject:t},action:cn.PUBLISH,extra:{}})})),(r=e.stream).setConnection(this.publishConnection),i=this.store.getSimulcastLayers(e.source),r.addTransceiver(e,i),sn.time("publish-".concat(e.trackId,"-").concat(e.type)),t.next=8,n;case 8:if(sn.timeEnd("publish-".concat(e.trackId,"-").concat(e.type)),this.store.addTrack(e),a=e.settings.maxBitrate,t.t0=a,!t.t0){t.next=15;break}return t.next=15,r.setMaxBitrate(a,e).then((function(){sn.d(Yi,"Setting maxBitrate for ".concat(e.source," ").concat(e.type," to ").concat(a," kpbs"))})).catch((function(e){return sn.e(Yi,"Failed setting maxBitrate",e)}));case 15:sn.d(Yi,"\u2705 publishTrack: trackId=".concat(e.trackId),e,this.callbacks);case 16:case"end":return t.stop()}}),t,this)})))}},{key:"unpublishTrack",value:function(e){return rn(this,null,p().mark((function t(){var n,r,i=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return sn.d(Yi,"\u23f3 unpublishTrack: trackId=".concat(e.trackId),e),e.publishedTrackId&&this.trackStates.has(e.publishedTrackId)?this.trackStates.delete(e.publishedTrackId):(n=Array.from(this.trackStates.values()).find((function(t){return e.type===t.type&&e.source===t.source})),n&&this.trackStates.delete(n.track_id)),r=new Promise((function(e,t){i.callbacks.set(On,{promise:{resolve:e,reject:t},action:cn.UNPUBLISH,extra:{}})})),e.stream.removeSender(e),t.next=5,r;case 5:return t.next=7,e.cleanup();case 7:this.store.removeTrack(e.trackId),sn.d(Yi,"\u2705 unpublishTrack: trackId=".concat(e.trackId),this.callbacks);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"connectionJoin",value:function(e,t,n,r,i){return rn(this,arguments,p().mark((function e(t,n,r,i,a){var o,s,c,u,l,d,h=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=h.length>5&&void 0!==h[5]?h[5]:{offerToReceiveAudio:!1,offerToReceiveVideo:!1},this.publishConnection=new Bn(this.signal,r,this.publishConnectionObserver,this),this.subscribeConnection=new ir(this.signal,r,this.subscribeConnectionObserver,a),e.prev=2,sn.d(Yi,"\u23f3 join: Negotiating over PUBLISH connection"),e.next=6,this.publishConnection.createOffer(o,new Map);case 6:return s=e.sent,e.next=9,this.publishConnection.setLocalDescription(s);case 9:return e.next=11,this.signal.join(t,n,s,!i,a);case 11:return c=e.sent,e.next=14,this.publishConnection.setRemoteDescription(c);case 14:u=f(this.publishConnection.candidates||[]),e.prev=15,u.s();case 17:if((l=u.n()).done){e.next=23;break}return d=l.value,e.next=21,this.publishConnection.addIceCandidate(d);case 21:e.next=17;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(15),u.e(e.t0);case 28:return e.prev=28,u.f(),e.finish(28);case 31:return this.publishConnection.initAfterJoin(),e.next=34,this.initRtcStatsMonitor();case 34:sn.d(Yi,"\u2705 join: Negotiated over PUBLISH connection"),e.next=40;break;case 37:throw e.prev=37,e.t1=e.catch(2),this.state=Ti.Failed,e.t1;case 40:case"end":return e.stop()}}),e,this,[[2,37],[15,25,28,31]])})))}},{key:"performPublishRenegotiation",value:function(e){return rn(this,null,p().mark((function t(){var n,r,i,a;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(sn.d(Yi,"\u23f3 [role=PUBLISH] onRenegotiationNeeded START",this.trackStates),!(n=this.callbacks.get(On))){t.next=24;break}return t.prev=3,t.next=6,this.publishConnection.createOffer(e,this.trackStates);case 6:return r=t.sent,t.next=9,this.publishConnection.setLocalDescription(r);case 9:return sn.time("renegotiation-offer-exchange"),t.next=12,this.signal.offer(r,this.trackStates);case 12:return i=t.sent,this.callbacks.delete(On),sn.timeEnd("renegotiation-offer-exchange"),t.next=17,this.publishConnection.setRemoteDescription(i);case 17:n.promise.resolve(!0),sn.d(Yi,"[role=PUBLISH] onRenegotiationNeeded DONE \u2705"),t.next=24;break;case 21:t.prev=21,t.t0=t.catch(3),a=t.t0 instanceof ln?t.t0:mn.Unknown(cn.PUBLISH,t.t0.message),n.promise.reject(a),sn.d(Yi,"[role=PUBLISH] onRenegotiationNeeded FAILED \u274c");case 24:case"end":return t.stop()}}),t,this,[[3,21]])})))}},{key:"handleIceConnectionFailure",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e===an.Publish?this.retryScheduler.schedule(Ri.PublishIceConnectionFailed,pn.ICEFailure(cn.PUBLISH),this.retryPublishIceFailedTask):this.retryScheduler.schedule(Ri.SubscribeIceConnectionFailed,pn.ICEFailure(cn.SUBSCRIBE),this.retrySubscribeIceFailedTask,1);case 1:case"end":return t.stop()}}),t,this)})))}},{key:"internalConnect",value:function(e,t,n){return rn(this,null,p().mark((function r(){var i;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return sn.d(Yi,"connect: started \u23f0"),i=new Date,r.prev=2,r.next=5,fr.fetchInitConfig(e,n,t);case 5:return this.initConfig=r.sent,r.next=8,this.openSignal(e,n);case 8:sn.d(Yi,"Adding Analytics Transport: JsonRpcSignal"),Zr.addTransport(this.analyticsSignalTransport),Zr.flush(),r.next=16;break;case 13:throw r.prev=13,r.t0=r.catch(2),r.t0 instanceof ln&&Zr.queue(gi.connect(r.t0,i,new Date,t)).flush(),sn.d(Yi,"\u274c internal connect: failed",r.t0),r.t0;case 16:case"end":return r.stop()}}),r,this,[[2,13]])})))}},{key:"openSignal",value:function(e,t){return rn(this,null,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.initConfig){n.next=2;break}throw dn.GenericConnect(cn.INIT,"Init Config not found");case 2:return sn.d(Yi,"\u23f3 internal connect: connecting to ws endpoint",this.initConfig.endpoint),(r=new URL(this.initConfig.endpoint)).searchParams.set("peer",t),r.searchParams.set("token",e),r.searchParams.set("user_agent",lr),this.endpoint=r.toString(),n.next=10,this.signal.open(this.endpoint);case 10:sn.d(Yi,"\u2705 internal connect: connected to ws endpoint");case 11:case"end":return n.stop()}}),n,this)})))}},{key:"initRtcStatsMonitor",value:function(){return rn(this,null,p().mark((function e(){var t,n,r,i,a,o=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==(r=this.webrtcInternals)||r.setPeerConnections({publish:null==(t=this.publishConnection)?void 0:t.nativeConnection,subscribe:null==(n=this.subscribeConnection)?void 0:n.nativeConnection}),this.store.getSubscribeDegradationParams()&&((null==(i=this.joinParameters)?void 0:i.serverSubDegrade)||(this.trackDegradationController=new Ui(this.store,this.eventBus),this.eventBus.statsUpdate.subscribe((function(e){var t,n,r;null==(r=o.trackDegradationController)||r.handleRtcStatsChange((null==(n=null==(t=e.getLocalPeerStats())?void 0:t.subscribe)?void 0:n.packetsLost)||0)}))),this.eventBus.trackDegraded.subscribe((function(e){Zr.queue(gi.degradationStats(e,!0)).flush(),o.observer.onTrackDegrade(e)})),this.eventBus.trackRestored.subscribe((function(e){Zr.queue(gi.degradationStats(e,!1)).flush(),o.observer.onTrackRestore(e)}))),e.next=4,null==(a=this.webrtcInternals)?void 0:a.start();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"setTransportStateForJoin",value:function(){if(this.state===Ti.Failed&&(this.state=Ti.Disconnected),this.state!==Ti.Disconnected&&this.state!==Ti.Reconnecting)throw vn.AlreadyJoined(cn.JOIN,"Cannot join a meeting in ".concat(this.state));this.state===Ti.Disconnected&&(this.state=Ti.Connecting,this.observer.onStateChange(this.state))}}]),e}();function $i(e){if(0===e.length)throw fn.InvalidTokenFormat(cn.INIT,"Token cannot be an empty string");var t=e.split(".");if(3!==t.length)throw fn.InvalidTokenFormat(cn.INIT,"Expected 3 '.' separate fields - header, payload and signature respectively");var n=atob(t[1]);try{var r=JSON.parse(n);return{roomId:r.room_id,userId:r.user_id,role:r.role}}catch(k){throw fn.InvalidTokenFormat(cn.INIT,"couldn't parse to json - ".concat(k.message))}}var Xi=function(){function e(t,n){s(this,e),this.id=t,this.store=n,this.recording={server:{running:!1},browser:{running:!1},hls:{running:!1}},this.rtmp={running:!1},this.hls={running:!1,variants:[]}}return u(e,[{key:"localPeer",get:function(){return this.store.getLocalPeer()}},{key:"peers",get:function(){return this.store.getPeers()}}]),e}(),Zi="autoplay-error",ea={autoplayFailed:void 0,initialized:!1,autoplayCheckPromise:void 0},ta=function(){function e(t,n,r,i){var a=this;s(this,e),this.store=t,this.notificationManager=n,this.deviceManager=r,this.eventBus=i,this.autoPausedTracks=new Set,this.TAG="[AudioSinkManager]:",this.volume=100,this.eventEmitter=new qt.EventEmitter2,this.state=tn({},ea),this.audioContextList=new Map,this.handleAudioPaused=function(e){var t,n=null==(t=e.target.srcObject)?void 0:t.getAudioTracks()[0];if(null==n?void 0:n.enabled){sn.d(a.TAG,"Audio Paused",e.target.id);var r=a.store.getTrackById(e.target.id);r&&("mobile"===or.getDevice().type?setTimeout((function(){return rn(a,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=r,!e.t0){e.next=4;break}return e.next=4,this.playAudioFor(r);case 4:case"end":return e.stop()}}),e,this)})))}),500):a.autoPausedTracks.add(r))}},this.handleTrackUpdate=function(e){var t;if(null==(t=window.HMS)?void 0:t.AUDIO_SINK){var n=e.detail,r=n.track;n.enabled?(r.addSink(),a.playAudioFor(r)):r.removeSink()}},this.handleTrackAdd=function(e){a.handleTrackAddAsync(e)},this.handleTrackAddAsync=function(e){return rn(a,null,p().mark((function t(){var n,r,i,a,o,s,c,u,l=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.detail,s=o.track,c=o.peer,(u=document.createElement("audio")).style.display="none",u.id=s.trackId,u.addEventListener("pause",this.handleAudioPaused),s.setAudioElement(u),s.setVolume(this.volume),this.connectAudioContext(u,s.trackId),sn.d(this.TAG,"Audio track added",s.trackId),null==(n=this.audioSink)||n.append(u),t.t0=this.outputDevice,!t.t0){t.next=13;break}return t.next=13,s.setOutputDevice(this.outputDevice);case 13:if(!(null==(r=window.HMS)?void 0:r.AUDIO_SINK)){t.next=20;break}if(s.enabled){t.next=17;break}return s.removeSink(),null==(i=this.listener)||i.onTrackUpdate(Pn.TRACK_ADDED,s,c),t.abrupt("return");case 17:s.addSink(),t.next=21;break;case 20:u.srcObject=new MediaStream([s.nativeTrack]);case 21:if(null==(a=this.listener)||a.onTrackUpdate(Pn.TRACK_ADDED,s,c),t.t1=void 0===this.state.autoplayFailed,!t.t1){t.next=27;break}return this.state.autoplayCheckPromise||(this.state.autoplayCheckPromise=new Promise((function(e){l.playAudioFor(s).then(e)}))),t.next=27,this.state.autoplayCheckPromise;case 27:if(!this.state.autoplayFailed){t.next=30;break}return this.autoPausedTracks.add(s),t.abrupt("return");case 30:return t.next=32,this.playAudioFor(s);case 32:case"end":return t.stop()}}),t,this)})))},this.handleAudioDeviceChange=function(e){e.error||!e.selection||"video"===e.type||a.unpauseAudioTracks()},this.handleTrackRemove=function(e){var t=e.detail;a.autoPausedTracks.delete(t);var n=document.getElementById(t.trackId);n&&(n.removeEventListener("pause",a.handleAudioPaused),n.srcObject=null,n.remove(),t.setAudioElement(null)),a.audioSink&&0===a.audioSink.childElementCount&&(a.state.autoplayCheckPromise=void 0,a.state.autoplayFailed=void 0),sn.d(a.TAG,"Audio track removed",t.trackId)},this.unpauseAudioTracks=function(){return rn(a,null,p().mark((function e(){var t,n=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],this.autoPausedTracks.forEach((function(e){t.push(n.playAudioFor(e))})),e.next=4,Promise.all(t);case 4:case"end":return e.stop()}}),e,this)})))},this.connectAudioContext=function(e,t){var n;if(cr&&(null==(n=window.HMS)?void 0:n.GAIN_VALUE)){var r=new AudioContext,i=r.createMediaElementSource(e),o=r.createGain();o.gain.value=window.HMS.GAIN_VALUE,i.connect(o),o.connect(r.destination),a.audioContextList.set(t,r)}},this.notificationManager.addEventListener("track-added",this.handleTrackAdd),this.notificationManager.addEventListener("track-removed",this.handleTrackRemove),this.notificationManager.addEventListener("track-updated",this.handleTrackUpdate),this.eventBus.deviceChange.subscribe(this.handleAudioDeviceChange)}return u(e,[{key:"setListener",value:function(e){this.listener=e}},{key:"addEventListener",value:function(e,t){this.eventEmitter.addListener(e,t)}},{key:"removeEventListener",value:function(e,t){this.eventEmitter.removeListener(e,t)}},{key:"outputDevice",get:function(){return this.deviceManager.outputDevice}},{key:"getVolume",value:function(){return this.volume}},{key:"setVolume",value:function(e){this.store.updateAudioOutputVolume(e),this.volume=e}},{key:"unblockAutoplay",value:function(){return rn(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.autoPausedTracks.size>0&&this.unpauseAudioTracks();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"init",value:function(e){if(!this.state.initialized){this.state.initialized=!0;var t=document.createElement("div");t.id="HMS-SDK-audio-sink-".concat(Wt()),(e&&document.getElementById(e)||document.body).append(t),this.audioSink=t}}},{key:"cleanUp",value:function(){var e;null==(e=this.audioSink)||e.remove(),this.audioSink=void 0;var t,n=f(this.audioContextList.values());try{for(n.s();!(t=n.n()).done;){t.value.close()}}catch(r){n.e(r)}finally{n.f()}this.audioContextList.clear(),this.notificationManager.removeEventListener("track-added",this.handleTrackAdd),this.notificationManager.removeEventListener("track-removed",this.handleTrackRemove),this.notificationManager.removeEventListener("track-updated",this.handleTrackUpdate),this.eventBus.deviceChange.unsubscribe(this.handleAudioDeviceChange),this.autoPausedTracks=new Set,this.state=tn({},ea)}},{key:"playAudioFor",value:function(e){return rn(this,null,p().mark((function t(){var n,r,i,a;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.getAudioElement()){t.next=4;break}return sn.w(this.TAG,"No audio element found on track",e.trackId),t.abrupt("return");case 4:return t.prev=4,"suspended"===(null==(i=this.audioContextList.get(e.trackId))?void 0:i.state)&&(null==i||i.resume()),t.next=9,r.play();case 9:this.state.autoplayFailed=!1,this.autoPausedTracks.delete(e),sn.d(this.TAG,"Played track",e.trackId),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),this.autoPausedTracks.add(e),sn.e(this.TAG,"Failed to play track",e.trackId,t.t0),this.state.autoplayFailed||(null==(n=null==t.t0?void 0:t.t0.message)?void 0:n.includes("new load request"))||(this.state.autoplayFailed=!0,a=hn.AutoplayBlocked(cn.AUTOPLAY,""),Zr.queue(gi.autoplayError()).flush(),this.eventEmitter.emit(Zi,{error:a}));case 17:case"end":return t.stop()}}),t,this,[[4,14]])})))}}]),e}(),na=function(){function e(t,n){var r=this;s(this,e),this.store=t,this.eventBus=n,this.audioInput=[],this.audioOutput=[],this.videoInput=[],this.hasWebcamPermission=!1,this.hasMicrophonePermission=!1,this.TAG="[Device Manager]:",this.initialized=!1,this.videoInputChanged=!1,this.audioInputChanged=!1,this.updateOutputDevice=function(e){var t=r.audioOutput.find((function(t){return t.deviceId===e}));return t&&(r.outputDevice=t,r.store.updateAudioOutputDevice(t),oi.updateSelection("audioOutput",{deviceId:t.deviceId,groupId:t.groupId})),t},this.getCurrentSelection=function(){var e,t,n=r.store.getLocalPeer(),i=r.createIdentifier(null==(e=null==n?void 0:n.audioTrack)?void 0:e.getMediaTrackSettings()),a=r.createIdentifier(null==(t=null==n?void 0:n.videoTrack)?void 0:t.getMediaTrackSettings()),o=r.audioInput.find((function(e){return r.createIdentifier(e)===i})),s=r.videoInput.find((function(e){return r.createIdentifier(e)===a}));return{audioInput:o,videoInput:s,audioOutput:r.outputDevice}},this.computeChange=function(e,t){return e.length!==t.length||t.some((function(t){return!e.includes(r.createIdentifier(t))}))},this.enumerateDevices=function(){return rn(r,null,p().mark((function e(){var t,n,r,i=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.enumerateDevices();case 3:t=e.sent,n=this.videoInput.map(this.createIdentifier),r=this.audioInput.map(this.createIdentifier),this.audioInput=[],this.audioOutput=[],this.videoInput=[],t.forEach((function(e){"audioinput"===e.kind&&e.label?(i.hasMicrophonePermission=!0,i.audioInput.push(e)):"audiooutput"===e.kind?i.audioOutput.push(e):"videoinput"===e.kind&&e.label&&(i.hasWebcamPermission=!0,i.videoInput.push(e))})),this.videoInputChanged=this.computeChange(n,this.videoInput),this.audioInputChanged=this.computeChange(r,this.audioInput),oi.setDevices({videoInput:g(this.videoInput),audioInput:g(this.audioInput),audioOutput:g(this.audioOutput)}),this.logDevices("Enumerate Devices"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),sn.e(this.TAG,"Failed enumerating devices",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})))},this.handleDeviceChange=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];clearTimeout(t),t=void 0;var o=this;t=setTimeout((function(){e.apply(o,i)}),n)}}((function(){return rn(r,null,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.enumerateDevices();case 2:return Zr.queue(gi.deviceChange({selection:this.getCurrentSelection(),type:"list",devices:this.getDevices()})).flush(),this.logDevices("After Device Change"),t=this.store.getLocalPeer(),this.setOutputDevice(!0),e.next=8,this.handleAudioInputDeviceChange(null==t?void 0:t.audioTrack);case 8:return e.next=10,this.handleVideoInputDeviceChange(null==t?void 0:t.videoTrack);case 10:case"end":return e.stop()}}),e,this)})))}),500).bind(this),this.handleAudioInputDeviceChange=function(e){return rn(r,null,p().mark((function t(){var n,r,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=3;break}return sn.d(this.TAG,"No Audio track on local peer"),t.abrupt("return");case 3:if(this.audioInputChanged){t.next=6;break}return sn.d(this.TAG,"No Change in AudioInput Device"),t.abrupt("return");case 6:if((n=this.getNewAudioInputDevice())&&n.deviceId){t.next=10;break}return sn.w(this.TAG,"Audio device not found"),t.abrupt("return");case 10:return r=e.settings,i=(new yr).codec(r.codec).maxBitrate(r.maxBitrate).deviceId(n.deviceId).build(),t.prev=11,t.next=14,e.setSettings(i,!0);case 14:this.eventBus.deviceChange.publish({devices:this.getDevices(),selection:n,type:"audioInput"}),this.logDevices("Audio Device Change Success"),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(11),sn.e(this.TAG,"[Audio Device Change]",t.t0),Zr.queue(gi.deviceChange({selection:{audioInput:n},devices:this.getDevices(),error:t.t0})).flush(),this.eventBus.deviceChange.publish({error:t.t0,selection:n,type:"audioInput",devices:this.getDevices()});case 21:case"end":return t.stop()}}),t,this,[[11,18]])})))},this.handleVideoInputDeviceChange=function(e){return rn(r,null,p().mark((function t(){var n,r,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=3;break}return sn.d(this.TAG,"No video track on local peer"),t.abrupt("return");case 3:if(this.videoInputChanged){t.next=6;break}return sn.d(this.TAG,"No Change in VideoInput Device"),t.abrupt("return");case 6:if((n=this.videoInput[0])&&n.deviceId){t.next=10;break}return sn.w(this.TAG,"Video device not found"),t.abrupt("return");case 10:return r=e.settings,i=(new br).codec(r.codec).maxBitrate(r.maxBitrate).maxFramerate(r.maxFramerate).setWidth(r.width).setHeight(r.height).deviceId(n.deviceId).build(),t.prev=11,t.next=14,e.setSettings(i,!0);case 14:this.eventBus.deviceChange.publish({devices:this.getDevices(),selection:n,type:"video"}),this.logDevices("Video Device Change Success"),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(11),sn.e(this.TAG,"[Video Device Change]",t.t0),Zr.queue(gi.deviceChange({selection:{videoInput:n},devices:this.getDevices(),error:t.t0})).flush(),this.eventBus.deviceChange.publish({error:t.t0,type:"video",selection:n,devices:this.getDevices()});case 21:case"end":return t.stop()}}),t,this,[[11,18]])})))}}return u(e,[{key:"init",value:function(){return rn(this,null,p().mark((function e(){var t=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.initialized,e.t0){e.next=12;break}return this.initialized=!0,navigator.mediaDevices.addEventListener("devicechange",this.handleDeviceChange),e.next=6,this.enumerateDevices();case 6:this.logDevices("Init"),this.setOutputDevice(),this.eventBus.deviceChange.publish({devices:this.getDevices()}),this.eventBus.localVideoEnabled.subscribeOnce((function(e){return rn(t,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!e,t.t0){t.next=5;break}return t.next=4,this.enumerateDevices();case 4:this.videoInputChanged&&this.eventBus.deviceChange.publish({devices:this.getDevices()});case 5:case"end":return t.stop()}}),t,this)})))})),this.eventBus.localAudioEnabled.subscribeOnce((function(e){return rn(t,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!e,t.t0){t.next=5;break}return t.next=4,this.enumerateDevices();case 4:this.audioInputChanged&&this.eventBus.deviceChange.publish({devices:this.getDevices()});case 5:case"end":return t.stop()}}),t,this)})))})),Zr.queue(gi.deviceChange({selection:this.getCurrentSelection(),type:"list",devices:this.getDevices()})).flush();case 12:case"end":return e.stop()}}),e,this)})))}},{key:"getDevices",value:function(){return{audioInput:this.audioInput,audioOutput:this.audioOutput,videoInput:this.videoInput}}},{key:"cleanUp",value:function(){this.initialized=!1,this.audioInput=[],this.audioOutput=[],this.videoInput=[],this.outputDevice=void 0,navigator.mediaDevices.removeEventListener("devicechange",this.handleDeviceChange)}},{key:"createIdentifier",value:function(e){return e?"".concat(e.deviceId).concat(e.groupId):""}},{key:"getNewAudioInputDevice",value:function(){var e=this.audioInput.find((function(e){return"default"===e.deviceId}));return e?this.audioInput.find((function(t){return t.label!==e.label&&e.label.includes(t.label)})):this.audioInput[0]}},{key:"setOutputDevice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getNewAudioInputDevice(),n=this.createIdentifier(this.outputDevice);this.outputDevice=void 0,(null==t?void 0:t.groupId)&&(this.outputDevice=this.audioOutput.find((function(e){return"default"!==t.deviceId&&e.label===t.label}))),this.outputDevice||(this.outputDevice=this.audioOutput.find((function(e){return"default"===e.deviceId}))||this.audioOutput[0]),this.store.updateAudioOutputDevice(this.outputDevice),e&&n!==this.createIdentifier(this.outputDevice)&&this.eventBus.deviceChange.publish({selection:this.outputDevice,type:"audioOutput",devices:this.getDevices()})}},{key:"logDevices",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";sn.d(this.TAG,e,JSON.stringify({videoInput:g(this.videoInput),audioInput:g(this.audioInput),audioOutput:g(this.audioOutput),selected:this.getCurrentSelection()},null,4))}}]),e}(),ra=function(){function e(t,n){s(this,e),this.deviceManager=t,this.audioSinkManager=n}return u(e,[{key:"getVolume",value:function(){return this.audioSinkManager.getVolume()}},{key:"setVolume",value:function(e){if(e<0||e>100)throw Error("Please pass a valid number between 0-100");this.audioSinkManager.setVolume(e)}},{key:"getDevice",value:function(){return this.deviceManager.outputDevice}},{key:"setDevice",value:function(e){return this.deviceManager.updateOutputDevice(e)}},{key:"unblockAutoplay",value:function(){return rn(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.audioSinkManager.unblockAutoplay();case 2:case"end":return e.stop()}}),e,this)})))}}]),e}(),ia=function(){function e(t){s(this,e),this.store=t,this.primitiveComparator=function(e,t){return e===t?0:Number(e)-Number(t)},this.stringComparator=function(e,t){return e===t?0:e<t?-1:1}}return u(e,[{key:"getPeerComparators",value:function(){var e=this;return{videoEnabled:function(t,n){var r,i;return e.primitiveComparator(Boolean(null==(r=t.videoTrack)?void 0:r.enabled),Boolean(null==(i=n.videoTrack)?void 0:i.enabled))},audioEnabled:function(t,n){var r,i;return e.primitiveComparator(Boolean(null==(r=t.audioTrack)?void 0:r.enabled),Boolean(null==(i=n.audioTrack)?void 0:i.enabled))},screenShare:function(t,n){return e.primitiveComparator(t.auxiliaryTracks.some((function(e){return"screen"===e.source})),n.auxiliaryTracks.some((function(e){return"screen"===e.source})))},audioLevel:function(t,n){var r,i;return e.primitiveComparator((null==(r=e.store.getSpeakers().find((function(e){return e.peer&&e.peer.peerId===(null==t?void 0:t.peerId)})))?void 0:r.audioLevel)||-1,(null==(i=e.store.getSpeakers().find((function(e){return e.peer&&e.peer.peerId===(null==n?void 0:n.peerId)})))?void 0:i.audioLevel)||-1)},rolePriority:function(t,n){var r,i;return e.primitiveComparator((null==(r=t.role)?void 0:r.priority)||0,(null==(i=n.role)?void 0:i.priority)||0)}}}},{key:"getTrackComparators",value:function(){var e=this;return{video:function(t,n){return e.primitiveComparator(t.type===Yn.VIDEO,n.type===Yn.VIDEO)},audio:function(t,n){return e.primitiveComparator(t.type===Yn.AUDIO,n.type===Yn.AUDIO)},enabled:function(t,n){return e.primitiveComparator(Boolean(t.enabled),Boolean(n.enabled))},peerAudioLevel:function(t,n){var r=e.store.getPeerByTrackId(t.trackId),i=e.store.getPeerByTrackId(n.trackId);return e.getPeerComparators().audioLevel(r,i)},audioLevel:function(t,n){var r,i;return e.primitiveComparator((null==(r=e.store.getSpeakers().find((function(e){return e.track.trackId===t.trackId})))?void 0:r.audioLevel)||0,(null==(i=e.store.getSpeakers().find((function(e){return e.track.trackId===n.trackId})))?void 0:i.audioLevel)||0)},screenShare:function(t,n){return e.primitiveComparator("screen"===t.source,"screen"===n.source)},rolePriority:function(t,n){var r,i,a,o;return e.primitiveComparator((null==(i=null==(r=e.store.getPeerByTrackId(t.trackId))?void 0:r.role)?void 0:i.priority)||0,(null==(o=null==(a=e.store.getPeerByTrackId(n.trackId))?void 0:a.role)?void 0:o.priority)||0)}}}}]),e}(),aa=function(){function e(){s(this,e),this.comparator=new ia(this),this.knownRoles={},this.peers={},this.tracks={},this.peerTrackStates={},this.speakers=[],this.videoLayers=null,this.screenshareLayers=null,this.roleDetailsArrived=!1}return u(e,[{key:"getConfig",value:function(){return this.config}},{key:"getPublishParams",value:function(){return this.publishParams}},{key:"getComparator",value:function(){return this.comparator}},{key:"getRoom",value:function(){return this.room}},{key:"getPolicyForRole",value:function(e){return this.knownRoles[e]}},{key:"getKnownRoles",value:function(){return this.knownRoles}},{key:"getLocalPeer",value:function(){if(this.localPeerId&&this.peers[this.localPeerId])return this.peers[this.localPeerId]}},{key:"getRemotePeers",value:function(){return Object.values(this.peers).filter((function(e){return!e.isLocal}))}},{key:"getPeers",value:function(){return Object.values(this.peers)}},{key:"getPeerById",value:function(e){if(this.peers[e])return this.peers[e]}},{key:"getTracksMap",value:function(){return this.tracks}},{key:"getTracks",value:function(){return Object.values(this.tracks)}},{key:"getVideoTracks",value:function(){return this.getTracks().filter((function(e){return e.type===Yn.VIDEO}))}},{key:"getRemoteVideoTracks",value:function(){return this.getTracks().filter((function(e){return e instanceof rr}))}},{key:"getAudioTracks",value:function(){return this.getTracks().filter((function(e){return e.type===Yn.AUDIO}))}},{key:"getPeerTracks",value:function(e){var t=e?this.peers[e]:void 0,n=[];return(null==t?void 0:t.videoTrack)&&n.push(t.videoTrack),(null==t?void 0:t.audioTrack)&&n.push(t.audioTrack),n.concat((null==t?void 0:t.auxiliaryTracks)||[])}},{key:"getLocalPeerTracks",value:function(){return this.getPeerTracks(this.localPeerId)}},{key:"getTrackById",value:function(e){var t,n,r=this.tracks[e];if(r)return r;var i=this.getLocalPeer();if(i){if(null==(t=i.audioTrack)?void 0:t.isPublishedTrackId(e))return i.audioTrack;if(null==(n=i.videoTrack)?void 0:n.isPublishedTrackId(e))return i.videoTrack}}},{key:"getPeerByTrackId",value:function(e){var t=this.tracks[e];return t.peerId?this.peers[t.peerId]:void 0}},{key:"getSpeakers",value:function(){return this.speakers}},{key:"getSpeakerPeers",value:function(){return this.speakers.map((function(e){return e.peer}))}},{key:"setRoom",value:function(e){this.room=e}},{key:"setKnownRoles",value:function(e){this.knownRoles=e,this.roleDetailsArrived=!0,this.updatePeersPolicy()}},{key:"hasRoleDetailsArrived",value:function(){return this.roleDetailsArrived}},{key:"setConfig",value:function(e){var t,n,r;if(oi.rememberDevices(Boolean(e.rememberDeviceSelection)),e.rememberDeviceSelection){var i=oi.getSelection();i&&(e.settings||(e.settings={}),(null==(t=i.audioInput)?void 0:t.deviceId)&&(e.settings.audioInputDeviceId=e.settings.audioInputDeviceId||i.audioInput.deviceId),(null==(n=i.audioOutput)?void 0:n.deviceId)&&(e.settings.audioOutputDeviceId=e.settings.audioOutputDeviceId||i.audioOutput.deviceId),(null==(r=i.videoInput)?void 0:r.deviceId)&&(e.settings.videoDeviceId=e.settings.videoDeviceId||i.videoInput.deviceId))}this.config=e}},{key:"setPublishParams",value:function(e){this.publishParams=e}},{key:"addPeer",value:function(e){this.peers[e.peerId]=e,e.isLocal&&(this.localPeerId=e.peerId)}},{key:"addTrack",value:function(e){this.tracks[e.trackId]=e}},{key:"getTrackState",value:function(e){return this.peerTrackStates[e]}},{key:"setTrackState",value:function(e){this.peerTrackStates[e.trackInfo.track_id]=e}},{key:"removePeer",value:function(e){this.localPeerId===e&&(this.localPeerId=void 0),delete this.peers[e]}},{key:"removeTrack",value:function(e){delete this.tracks[e]}},{key:"updateSpeakers",value:function(e){this.speakers=e}},{key:"updateAudioOutputVolume",value:function(e){this.getAudioTracks().forEach((function(t){return t.setVolume(e)}))}},{key:"updateAudioOutputDevice",value:function(e){this.getAudioTracks().forEach((function(t){t.setOutputDevice(e)}))}},{key:"getSubscribeDegradationParams",value:function(){var e,t,n=null==(t=null==(e=this.getLocalPeer())?void 0:e.role)?void 0:t.subscribeParams.subscribeDegradation;if(n&&Object.keys(n).length>0)return n}},{key:"getSimulcastLayers",value:function(e){var t,n;return"screen"===e?(null==(t=this.screenshareLayers)?void 0:t.layers)||[]:(null==(n=this.videoLayers)?void 0:n.layers)||[]}},{key:"getSimulcastDimensions",value:function(e){var t="screen"===e?this.screenshareLayers:this.videoLayers;return{width:null==t?void 0:t.width,height:null==t?void 0:t.height}}},{key:"convertSimulcastLayers",value:function(e){return nn(tn({},e),{layers:(e.layers||[]).map((function(e){return nn(tn({},e),{maxBitrate:1e3*e.maxBitrate})}))})}},{key:"setVideoSimulcastLayers",value:function(e){this.videoLayers=this.convertSimulcastLayers(e)}},{key:"setScreenshareSimulcastLayers",value:function(e){this.screenshareLayers=this.convertSimulcastLayers(e)}},{key:"getSimulcastDefinitionsForPeer",value:function(e,t){if(!e.role)return[];var n,r=this.getPolicyForRole(e.role.name).publishParams;if("regular"===t?n=r.videoSimulcastLayers:"screen"===t&&(n=r.screenSimulcastLayers),!n||!n.layers||0===n.layers.length)return[];var i=n.width,a=n.height;return n.layers.map((function(e){return{layer:Jn[e.rid],resolution:{width:i&&e.scaleResolutionDownBy?i/e.scaleResolutionDownBy:void 0,height:a&&e.scaleResolutionDownBy?a/e.scaleResolutionDownBy:void 0}}}))}},{key:"cleanUp",value:function(){var e,t=f(this.getTracks());try{for(t.s();!(e=t.n()).done;){e.value.cleanup()}}catch(n){t.e(n)}finally{t.f()}this.config=void 0,this.localPeerId=void 0,this.roleDetailsArrived=!1}},{key:"setErrorListener",value:function(e){this.errorListener=e}},{key:"updatePeersPolicy",value:function(){var e=this;this.getPeers().forEach((function(t){var n;t.role?t.role=e.getPolicyForRole(t.role.name):null==(n=e.errorListener)||n.onError(mn.InvalidRole(cn.VALIDATION,""))}))}}]),e}(),oa=function(){function e(t,n,r,i,a){var o=this;s(this,e),this.store=t,this.transport=n,this.publish=r,this.removeAuxillaryTrack=i,this.listener=a,this.handleLocalPeerRoleUpdate=function(e){return rn(o,null,p().mark((function t(){var n,r,i,a,o,s,c,u,l;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.store.getLocalPeer()){t.next=3;break}return t.abrupt("return");case 3:return a=e.detail.oldRole,o=e.detail.newRole,s=a.publishParams.allowed||[],c=o.publishParams.allowed||[],u={removeVideo:!1,removeAudio:!1,removeScreen:!1},s.length>0&&(0===c.length?(u.removeVideo=!0,u.removeAudio=!0,u.removeScreen=!0):(s.includes("video")&&!c.includes("video")&&(u.removeVideo=!0),s.includes("audio")&&!c.includes("audio")&&(u.removeAudio=!0),s.includes("screen")&&!c.includes("screen")&&(u.removeScreen=!0))),t.next=7,this.removeLocalTracks(u);case 7:return this.store.setPublishParams(o.publishParams),l=(null==(n=this.store.getConfig())?void 0:n.settings)||{isAudioMuted:!0,isVideoMuted:!0,audioInputDeviceId:"default",videoDeviceId:"default",audioOutputDeviceId:"default"},t.next=11,this.publish(nn(tn({},l),{isAudioMuted:!0,isVideoMuted:!0}));case 11:null==(r=this.listener)||r.onPeerUpdate(Cn.ROLE_UPDATED,i);case 12:case"end":return t.stop()}}),t,this)})))}}return u(e,[{key:"removeLocalTracks",value:function(e){return rn(this,arguments,p().mark((function e(t){var n,r,i,a,o,s,c,u,l,d,h,v,m;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.removeVideo,r=t.removeAudio,i=t.removeScreen,o=this.store.getLocalPeer()){e.next=4;break}return e.abrupt("return");case 4:return s=[],(null==o?void 0:o.videoTrack)&&n&&(s.push(o.videoTrack),o.videoTrack=void 0),(null==o?void 0:o.audioTrack)&&r&&(s.push(o.audioTrack),o.audioTrack=void 0),e.next=9,this.transport.unpublish(s);case 9:for(c=0,u=s;c<u.length;c++)l=u[c],null==(a=this.listener)||a.onTrackUpdate(Pn.TRACK_REMOVED,l,o);if(!o.auxiliaryTracks||!i){e.next=31;break}d=g(o.auxiliaryTracks),h=f(d),e.prev=13,h.s();case 15:if((v=h.n()).done){e.next=23;break}if(m=v.value,e.t0="screen"===m.source,!e.t0){e.next=21;break}return e.next=21,this.removeAuxillaryTrack(m.trackId);case 21:e.next=15;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(13),h.e(e.t1);case 28:return e.prev=28,h.f(),e.finish(28);case 31:case"end":return e.stop()}}),e,this,[[13,25,28,31]])})))}}]),e}(),sa=function(e){Ee(n,e);var t=Re(n);function n(){return s(this,n),t.apply(this,arguments)}return u(n,[{key:"on",value:function(e,t){return we(ke(n.prototype),"on",this).call(this,e,t)}},{key:"off",value:function(e,t){return we(ke(n.prototype),"off",this).call(this,e,t)}},{key:"emit",value:function(e,t){return we(ke(n.prototype),"emit",this).call(this,e,t)}},{key:"listeners",value:function(e){return we(ke(n.prototype),"listeners",this).call(this,e)}}]),n}(qt.EventEmitter2),ca=function(){function e(t){s(this,e),this.audioContext=new AudioContext,this.source=this.audioContext.createMediaElementSource(t),this.source.connect(this.audioContext.destination)}return u(e,[{key:"resumeContext",value:function(){"suspended"===this.audioContext.state&&(sn.d(this.TAG,"AudioContext is resumed"),this.audioContext.resume())}},{key:"getAudioTrack",value:function(){return this.destinationNode&&this.source.disconnect(this.destinationNode),this.destinationNode=this.audioContext.createMediaStreamDestination(),this.source.connect(this.destinationNode),this.destinationNode.stream.getAudioTracks()[0]}},{key:"cleanup",value:function(){"closed"!==this.audioContext.state&&this.audioContext.close()}},{key:"TAG",get:function(){return"AudioContextManager"}}]),e}(),ua=function(e){Ee(n,e);var t=Re(n);function n(){var e;return s(this,n),(e=t.call(this)).seeked=!1,e.audioElement=e.getAudioElement(),e}return u(n,[{key:"play",value:function(e){return rn(this,null,p().mark((function t(){var n=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){n.audioElement=n.getAudioElement(),n.audioElement.src=e,n.seeked=!1,n.audioElement.onerror=function(){var t="Error loading ".concat(e);sn.e(n.TAG,t),n.stop(),r(t)},n.audioElement.oncanplaythrough=function(){return rn(n,null,p().mark((function n(){var i;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,this.audioElement){n.next=3;break}return n.abrupt("return");case 3:if(this.audioContextManager.resumeContext(),!this.track){n.next=13;break}if(!this.seeked){n.next=8;break}this.seeked=!1,n.next=11;break;case 8:return n.next=10,this.audioElement.play();case 10:t([this.track]);case 11:n.next=17;break;case 13:return n.next=15,this.audioElement.play();case 15:i=this.audioContextManager.getAudioTrack(),this.track=i,t([i]);case 17:n.next=22;break;case 19:n.prev=19,n.t0=n.catch(0),sn.e(this.TAG,"Error playing audio",e,n.t0.message),r(n.t0);case 22:case"end":return n.stop()}}),n,this,[[0,19]])})))},n.audioElement.onseeked=function(){n.seeked=!0}})));case 1:case"end":return t.stop()}}),t)})))}},{key:"getTracks",value:function(){return this.track?[this.track.id]:[]}},{key:"getElement",value:function(){return this.audioElement}},{key:"stop",value:function(){var e,t;null==(e=this.audioElement)||e.pause(),null==(t=this.audioElement)||t.removeAttribute("src"),this.audioElement=null,this.audioContextManager.cleanup(),this.track=void 0}},{key:"getAudioElement",value:function(){var e=this;if(this.audioElement)return this.audioElement;var t=document.createElement("audio");return t.crossOrigin="anonymous",t.addEventListener("timeupdate",(function(t){return e.emit("progress",t)})),t.addEventListener("ended",(function(){e.emit("ended",null)})),this.audioContextManager=new ca(t),t}},{key:"TAG",get:function(){return"PlaylistAudioManager"}}]),n}(sa),la=function(e){Ee(n,e);var t=Re(n);function n(){var e;return s(this,n),(e=t.call(this)).tracks=[],e.DEFAUL_FPS=24,e.seeked=!1,e.drawImage=function(){var t,n,r;e.videoElement&&!e.videoElement.paused&&!e.videoElement.ended&&(null==(r=e.canvasContext)||r.drawImage(e.videoElement,0,0,null==(t=e.canvas)?void 0:t.width,null==(n=e.canvas)?void 0:n.height),e.timer=setTimeout((function(){e.drawImage()}),1e3/e.DEFAUL_FPS))},e.videoElement=e.getVideoElement(),e.canvas=document.createElement("canvas"),e.canvasContext=e.canvas.getContext("2d"),e}return u(n,[{key:"play",value:function(e){var t=this;return new Promise((function(n,r){t.videoElement=t.getVideoElement(),t.videoElement.src=e,t.seeked=!1,t.videoElement.onerror=function(){var n="Error loading ".concat(e);sn.e(t.TAG,n),t.stop(),r(n)},t.videoElement.oncanplaythrough=function(){return rn(t,null,p().mark((function t(){var i,a,o,s,c,u=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.videoElement){t.next=3;break}return t.abrupt("return");case 3:if(this.canvas.width=this.videoElement.videoWidth,this.canvas.height=this.videoElement.videoHeight,0!==this.tracks.length){t.next=17;break}if(this.clearCanvasAndTracks(),s=this.canvas.captureStream()){t.next=9;break}return sn.e(this.TAG,"Browser does not support captureStream"),t.abrupt("return");case 9:return this.videoElement.onplay=this.drawImage,this.audioContextManager.resumeContext(),t.next=13,this.videoElement.play();case 13:c=this.audioContextManager.getAudioTrack(),s.addTrack(c),s.getTracks().forEach((function(e){u.tracks.push(e)})),n(this.tracks),t.next=24;break;case 17:if(!this.seeked){t.next=21;break}this.seeked=!1,null==(o=this.canvasContext)||o.drawImage(this.videoElement,0,0,null==(i=this.canvas)?void 0:i.width,null==(a=this.canvas)?void 0:a.height),t.next=24;break;case 21:return t.next=23,this.videoElement.play();case 23:n(this.tracks);case 24:t.next=29;break;case 26:t.prev=26,t.t0=t.catch(0),sn.e(this.TAG,"Error playing video",e,t.t0.message),r(t.t0);case 29:case"end":return t.stop()}}),t,this,[[0,26]])})))},t.videoElement.onseeked=function(){t.seeked=!0}}))}},{key:"getTracks",value:function(){return this.tracks.map((function(e){return e.id}))}},{key:"getElement",value:function(){return this.videoElement}},{key:"stop",value:function(){var e,t;null==(e=this.videoElement)||e.pause(),null==(t=this.videoElement)||t.removeAttribute("src"),this.videoElement=null,this.clearCanvasAndTracks()}},{key:"clearCanvasAndTracks",value:function(){var e;this.tracks=[],null==(e=this.canvasContext)||e.clearRect(0,0,this.canvas.width,this.canvas.height),clearTimeout(this.timer)}},{key:"getVideoElement",value:function(){var e=this;if(this.videoElement)return this.videoElement;var t=document.createElement("video");return t.crossOrigin="anonymous",t.addEventListener("timeupdate",(function(t){return e.emit("progress",t)})),t.addEventListener("ended",(function(){e.emit("ended",null)})),this.audioContextManager=new ca(t),t}},{key:"TAG",get:function(){return"PlaylistVideoManager"}}]),n}(sa),da={list:[],currentIndex:-1,isAutoplayOn:!0},fa={list:[],currentIndex:-1,isAutoplayOn:!0},ha=function(e){Ee(n,e);var t=Re(n);function n(e){var r;return s(this,n),(r=t.call(this)).sdk=e,r.state={audio:tn({},da),video:tn({},fa)},r.addTrack=function(e,t){return rn(Se(r),null,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.sdk.addTrack(e,t);case 2:sn.d(this.TAG,"Playlist track added",e);case 3:case"end":return n.stop()}}),n,this)})))},r.removeTrack=function(e){return rn(Se(r),null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sdk.removeTrack(e);case 2:sn.d(this.TAG,"Playlist track removed",e);case 3:case"end":return t.stop()}}),t,this)})))},r.audioManager=new ua,r.videoManager=new la,r.addListeners(),r}return u(n,[{key:"getList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn.audio;return this.state[e].list}},{key:"setList",value:function(e){var t=this;e&&0!==e.length?e.forEach((function(e){t.state[e.type].list.push(e)})):sn.w(this.TAG,"Please pass in a list of HMSPlaylistItem's")}},{key:"removeItem",value:function(e){var t=this.state[e.type].list,n=t.findIndex((function(t){return e.id===t.id}));n>-1&&t.splice(n,1)}},{key:"seek",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qn.audio,n=this.state[t].currentIndex;if(-1===n)throw yn.NoEntryToPlay(cn.PLAYLIST,"No item is currently playing");var r=this.getElement(t);if(r){var i=Math.max(r.currentTime+e,0);r.currentTime=Math.min(i,r.duration)}}},{key:"seekTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qn.audio,n=this.state[t].currentIndex;if(-1===n)throw yn.NoEntryToPlay(cn.PLAYLIST,"No item is currently playing");if(e<0)throw Error("value cannot be negative");var r=this.getElement(t);r&&(r.currentTime=Math.min(e,r.duration))}},{key:"setVolume",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qn.audio;if(e<0||e>100)throw Error("Please pass a valid number between 0-100");var n=this.getElement(t);n&&(n.volume=.01*e)}},{key:"getVolume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn.audio,t=this.getElement(e);return t?100*t.volume:0}},{key:"getCurrentTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn.audio,t=this.getElement(e);return(null==t?void 0:t.currentTime)||0}},{key:"getCurrentIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn.audio;return this.state[e].currentIndex}},{key:"getCurrentProgress",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn.audio,n=this.state[t],r=n.list,i=n.currentIndex,a=null==(e=r[i])?void 0:e.url,o=this.getElement(t);return a&&o?Math.floor(o.currentTime/o.duration*100):0}},{key:"getCurrentSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn.audio,t=this.state[e],n=t.list,r=t.currentIndex;if(-1!==r)return n[r]}},{key:"isPlaying",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn.audio,t=this.getElement(e);return!!t&&!t.paused}},{key:"setIsAutoplayOn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn.audio,t=arguments.length>1?arguments[1]:void 0;this.state[e].isAutoplayOn=t}},{key:"getPlaybackRate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn.audio,t=this.getElement(e);return t?t.playbackRate:1}},{key:"setPlaybackRate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn.audio,t=arguments.length>1?arguments[1]:void 0;if(t<.25||t>2)throw Error("Please pass a value between 0.25 and 2.0");var n=this.getElement(e);n&&(n.playbackRate=t)}},{key:"setEnabled",value:function(e,t){return rn(this,arguments,p().mark((function e(t,n){var r,i,a,o,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.id,i=n.type,a=void 0===i?qn.audio:i,o=this.state[a].list.findIndex((function(e){return e.id===r})),r&&-1!==o){e.next=5;break}return sn.w(this.TAG,"Pass a valid id"),e.abrupt("return");case 5:if(s=this.state[a].list[o].url,!t){e.next=11;break}return e.next=9,this.play(s,a);case 9:e.next=13;break;case 11:return e.next=13,this.pause(s,a);case 13:this.state[a].currentIndex=o,this.setDuration(a);case 15:case"end":return e.stop()}}),e,this)})))}},{key:"playNext",value:function(){return rn(this,arguments,p().mark((function e(){var t,n,r,i,a=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:qn.audio,n=this.state[t],r=n.list,!((i=n.currentIndex)>=r.length-1)){e.next=4;break}throw yn.NoEntryToPlay(cn.PLAYLIST,"Reached end of playlist");case 4:return e.next=6,this.play(r[i+1].url,t);case 6:this.state[t].currentIndex=i+1,this.setDuration(t);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"playPrevious",value:function(){return rn(this,arguments,p().mark((function e(){var t,n,r,i,a=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:qn.audio,n=this.state[t],r=n.list,!((i=n.currentIndex)<=0)){e.next=4;break}throw yn.NoEntryToPlay(cn.PLAYLIST,"Reached start of playlist");case 4:return e.next=6,this.play(r[i-1].url,t);case 6:this.state[t].currentIndex=i-1,this.setDuration(t);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"stop",value:function(){return rn(this,arguments,p().mark((function e(){var t,n,r,i=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:qn.audio,r=t===qn.audio?this.audioManager:this.videoManager,null==(n=r.getElement())||n.pause(),e.next=5,this.removeTracks(t);case 5:r.stop(),this.state[t].currentIndex=-1;case 7:case"end":return e.stop()}}),e,this)})))}},{key:"cleanup",value:function(){this.state={audio:tn({},da),video:tn({},fa)},this.audioManager.stop(),this.videoManager.stop()}},{key:"onProgress",value:function(e){var t=this;this.videoManager.on("progress",(function(){try{e({type:qn.video,progress:t.getCurrentProgress(qn.video)})}catch(b){sn.e(t.TAG,"Error in onProgress callback")}})),this.audioManager.on("progress",(function(){try{e({type:qn.audio,progress:t.getCurrentProgress(qn.audio)})}catch(b){sn.e(t.TAG,"Error in onProgress callback")}}))}},{key:"onNewTrackStart",value:function(e){this.on("newTrackStart",e)}},{key:"onPlaylistEnded",value:function(e){this.on("playlistEnded",e)}},{key:"onCurrentTrackEnded",value:function(e){this.on("currentTrackEnded",e)}},{key:"getElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn.audio;return e===qn.audio?this.audioManager.getElement():this.videoManager.getElement()}},{key:"removeTracks",value:function(){return rn(this,arguments,p().mark((function e(){var t,n,r,i,a,o=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o.length>0&&void 0!==o[0]?o[0]:qn.audio,n=(t===qn.audio?this.audioManager:this.videoManager).getTracks(),r=f(n),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=11;break}return a=i.value,e.next=9,this.removeTrack(a);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[3,13,16,19]])})))}},{key:"play",value:function(e){return rn(this,arguments,p().mark((function e(t){var n,r,i,a,o,s,c,u=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>1&&void 0!==u[1]?u[1]:qn.audio,r=n===qn.audio?this.audioManager:this.videoManager,i=r.getElement(),!this.isItemCurrentlyPlaying(t,n)){e.next=5;break}return sn.w(this.TAG,"The ".concat(n," is currently playing")),e.abrupt("return");case 5:if(!(null==i?void 0:i.src.includes(t))){e.next=10;break}return e.next=8,i.play();case 8:e.next=31;break;case 10:return null==i||i.pause(),e.next=13,r.play(t);case 13:a=e.sent,o=f(a),e.prev=15,o.s();case 17:if((s=o.n()).done){e.next=23;break}return c=s.value,e.next=21,this.addTrack(c,n===qn.audio?"audioplaylist":"videoplaylist");case 21:e.next=17;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(15),o.e(e.t0);case 28:return e.prev=28,o.f(),e.finish(28);case 31:case"end":return e.stop()}}),e,this,[[15,25,28,31]])})))}},{key:"isItemCurrentlyPlaying",value:function(e,t){var n=this.getElement(t);return!(!n||n.paused||!n.src.includes(e))}},{key:"setDuration",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn.audio,t=this.getElement(e),n=this.state[e],r=n.list,i=n.currentIndex;r[i]&&(r[i].duration=(null==t?void 0:t.duration)||0),this.emit("newTrackStart",r[i])}},{key:"pause",value:function(e){return rn(this,arguments,p().mark((function e(t){var n,r,i=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i.length>1&&void 0!==i[1]?i[1]:qn.audio,(r=this.getElement(n))&&!r.paused&&r.src.includes(t)?(r.pause(),sn.d(this.TAG,"paused url",t)):sn.w(this.TAG,"The passed in url is not currently playing");case 3:case"end":return e.stop()}}),e,this)})))}},{key:"addListeners",value:function(){var e=this;this.audioManager.on("ended",(function(){return e.handleEnded(qn.audio)})),this.videoManager.on("ended",(function(){return e.handleEnded(qn.video)}))}},{key:"handleEnded",value:function(){return rn(this,arguments,p().mark((function e(){var t,n,r,i,a,o=arguments;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:qn.audio,n=this.state[t],r=n.list,i=n.currentIndex,a=n.isAutoplayOn,i!==r.length-1){e.next=8;break}return e.next=5,this.stop(t);case 5:this.emit("playlistEnded",t),e.next=14;break;case 8:if(!a){e.next=12;break}this.playNext(t),e.next=14;break;case 12:return e.next=14,this.pause(r[i].url,t);case 14:this.emit("currentTrackEnded",r[i]);case 15:case"end":return e.stop()}}),e,this)})))}},{key:"TAG",get:function(){return"PlaylistManager"}}]),n}(sa),pa=u((function e(t,n){var r=this;s(this,e),this.eventName=t,this.eventEmitter=n,this.publish=function(e){r.eventEmitter.emit(r.eventName,e)},this.subscribe=function(e){r.eventEmitter.on(r.eventName,e)},this.subscribeOnce=function(e){r.eventEmitter.once(r.eventName,e)},this.unsubscribe=function(e){r.eventEmitter.off(r.eventName,e)},this.removeAllListeners=function(){r.eventEmitter.removeAllListeners(r.eventName)}})),va=u((function e(){s(this,e),this.eventEmitter=new qt.EventEmitter2,this.deviceChange=new pa(Ln,this.eventEmitter),this.localAudioEnabled=new pa(Mn,this.eventEmitter),this.localVideoEnabled=new pa(Un,this.eventEmitter),this.statsUpdate=new pa(jn,this.eventEmitter),this.trackDegraded=new pa(Fn,this.eventEmitter),this.trackRestored=new pa(Vn,this.eventEmitter),this.trackAudioLevelUpdate=new pa(zn,this.eventEmitter),this.localAudioSilence=new pa(Gn,this.eventEmitter)})),ma={isAudioMuted:!1,isVideoMuted:!1,audioInputDeviceId:"default",audioOutputDeviceId:"default",videoDeviceId:"default"},ga={published:!1,isInitialised:!1,isReconnecting:!1,isPreviewInProgress:!1,deviceManagersInitialised:!1},ya=function(){function e(){var t=this;s(this,e),this.TAG="[HMSSdk]:",this.transportState=Ti.Disconnected,this.sdkState=tn({},ga),this.handleAutoplayError=function(e){var n,r;null==(r=null==(n=t.errorListener)?void 0:n.onError)||r.call(n,e.error)},this.observer={onNotification:function(e){e.method!==mr.PEER_LEAVE_REQUEST?t.notificationManager.handleNotification(e,t.sdkState.isReconnecting):t.handlePeerLeaveRequest(e.params)},onTrackAdd:function(e){t.notificationManager.handleTrackAdd(e)},onTrackRemove:function(e){t.notificationManager.handleTrackRemove(e)},onTrackDegrade:function(e){var n,r;sn.d(t.TAG,"Sending Track Update Track Degraded",e),null==(r=t.listener)||r.onTrackUpdate(Pn.TRACK_DEGRADED,e,null==(n=t.store)?void 0:n.getPeerByTrackId(e.trackId))},onTrackRestore:function(e){var n,r;sn.d(t.TAG,"Sending Track Update Track Restored",e),null==(r=t.listener)||r.onTrackUpdate(Pn.TRACK_RESTORED,e,null==(n=t.store)?void 0:n.getPeerByTrackId(e.trackId))},onFailure:function(e){var n;null==(n=t.errorListener)||n.onError(e)},onStateChange:function(e,n){return rn(t,null,p().mark((function t(){var r,i,a,o;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e,t.next=t.t0===Ti.Joined?3:t.t0===Ti.Failed?5:t.t0===Ti.Reconnecting?10:12;break;case 3:return this.transportState===Ti.Reconnecting&&(null==(r=this.listener)||r.onReconnected()),t.abrupt("break",12);case 5:return t.next=7,this.leave();case 7:return null==(a=null==(i=this.errorListener)?void 0:i.onError)||a.call(i,n),this.sdkState.isReconnecting=!1,t.abrupt("break",12);case 10:return this.sdkState.isReconnecting=!0,null==(o=this.listener)||o.onReconnecting(n),t.abrupt("break",12);case 12:this.transportState=e;case 13:case"end":return t.stop()}}),t,this)})))}},this.handlePeerLeaveRequest=function(e){var n,r=t.store.getPeerById(e.requested_by),i={roomEnded:e.room_end,reason:e.reason,requestedBy:r};null==(n=t.listener)||n.onRemovedFromRoom(i),t.leave()},this.handleDeviceChange=function(e){var n,r,i,a,o,s;if(sn.d(t.TAG,"Device Change event",e),null==(r=null==(n=t.deviceChangeListener)?void 0:n.onDeviceChange)||r.call(n,e),e.error&&e.type){var c=e.type.includes("audio")?null==(i=t.localPeer)?void 0:i.audioTrack:null==(a=t.localPeer)?void 0:a.videoTrack;null==(o=t.errorListener)||o.onError(e.error),[un.TracksErrors.CANT_ACCESS_CAPTURE_DEVICE,un.TracksErrors.DEVICE_IN_USE,un.TracksErrors.DEVICE_NOT_AVAILABLE].includes(e.error.code)&&c&&(c.setEnabled(!1),null==(s=t.listener)||s.onTrackUpdate(Pn.TRACK_MUTED,c,t.localPeer))}},this.sendAudioPresenceFailed=function(){var e=hn.NoAudioDetected(cn.PREVIEW);Zr.queue(gi.audioDetectionFail(e,t.deviceManager.getCurrentSelection().audioInput)).flush()}}return u(e,[{key:"initStoreAndManagers",value:function(){if(this.sdkState.isInitialised)return this.notificationManager.setListener(this.listener),void this.audioSinkManager.setListener(this.listener);this.sdkState.isInitialised=!0,this.store=new aa,this.eventBus=new va,this.playlistManager=new ha(this),this.notificationManager=new Ci(this.store,this.listener,this.audioListener),this.deviceManager=new na(this.store,this.eventBus),this.audioSinkManager=new ta(this.store,this.notificationManager,this.deviceManager,this.eventBus),this.audioOutput=new ra(this.deviceManager,this.audioSinkManager),this.audioSinkManager.setListener(this.listener),this.audioSinkManager.addEventListener(Zi,this.handleAutoplayError),this.localTrackManager=new wi(this.store,this.observer,this.deviceManager,this.eventBus),this.transport=new Qi(this.observer,this.deviceManager,this.store,this.localTrackManager,this.eventBus)}},{key:"validateJoined",value:function(e){if(!this.localPeer)throw mn.NotConnected(cn.VALIDATION,"Not connected - ".concat(e))}},{key:"getWebrtcInternals",value:function(){var e;return null==(e=this.transport)?void 0:e.getWebrtcInternals()}},{key:"getPlaylistManager",value:function(){return this.playlistManager}},{key:"getRecordingState",value:function(){var e;return null==(e=this.store.getRoom())?void 0:e.recording}},{key:"getRTMPState",value:function(){var e;return null==(e=this.store.getRoom())?void 0:e.rtmp}},{key:"getHLSState",value:function(){var e;return null==(e=this.store.getRoom())?void 0:e.hls}},{key:"localPeer",get:function(){var e;return null==(e=this.store)?void 0:e.getLocalPeer()}},{key:"preview",value:function(e,t){return rn(this,null,p().mark((function n(){var r=this;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(Sn(),wn(),this.sdkState.isPreviewInProgress?Promise.reject(mn.PreviewAlreadyInProgress(cn.PREVIEW,"Preview already called")):(this.setUpPreview(e,t),e.alwaysRequestPermissions&&this.localTrackManager.requestPermissions().then((function(){return rn(r,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initDeviceManagers();case 2:case"end":return e.stop()}}),e,this)})))})),new Promise((function(n,i){r.notificationManager.addEventListener("policy-change",(function i(){return rn(r,null,p().mark((function r(){var a,o,s=this;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.notificationManager.removeEventListener("policy-change",i),r.next=3,this.localTrackManager.getTracksToPublish(e.settings||ma);case 3:return(o=r.sent).forEach((function(e){return s.setLocalPeerTrack(e)})),(null==(a=this.localPeer)?void 0:a.audioTrack)&&this.initPreviewTrackAudioLevelMonitor(),r.next=8,this.initDeviceManagers();case 8:t.onPreview(this.store.getRoom(),o),this.sdkState.isPreviewInProgress=!1,n();case 11:case"end":return r.stop()}}),r,this)})))})),r.transport.connect(e.authToken,e.initEndpoint||"https://prod-init.100ms.live/init",r.localPeer.peerId).catch((function(e){var t;null==(t=r.errorListener)||t.onError(e),r.sdkState.isPreviewInProgress=!1,i(e)}))})))));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"join",value:function(e,t){var n,r,i,a=this;if(Sn(),wn(),this.sdkState.isPreviewInProgress)throw mn.NotReady(cn.JOIN,"Preview is in progress, can't join");var o=$i(e.authToken),s=o.roomId,c=o.userId,u=o.role;null==(r=null==(n=this.localPeer)?void 0:n.audioTrack)||r.destroyAudioLevelMonitor(),this.listener=t,this.commonSetup(e,s,t),this.removeDevicesFromConfig(e),this.store.setConfig(e),this.localPeer?(this.localPeer.name=e.userName,this.localPeer.role=this.store.getPolicyForRole(u),this.localPeer.customerUserId=c,this.localPeer.metadata=e.metaData||""):(this.notificationManager.addEventListener("role-change",(function(e){a.store.setPublishParams(e.detail.params.role.publishParams)})),this.createAndAddLocalPeerToStore(e,u,c)),this.roleChangeManager=new oa(this.store,this.transport,this.publish.bind(this),this.removeTrack.bind(this),this.listener),this.notificationManager.addEventListener("local-peer-role-update",this.roleChangeManager.handleLocalPeerRoleUpdate),sn.d(this.TAG,"SDK Store",this.store),sn.d(this.TAG,"\u23f3 Joining room ".concat(s)),sn.time("join-room-".concat(s)),this.transport.join(e.authToken,this.localPeer.peerId,{name:e.userName,metaData:e.metaData||""},e.initEndpoint,e.autoVideoSubscribe,(null==(i=window.HMS)?void 0:i.SERVER_SUB_DEGRADE)||!1).then((function(){return rn(a,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(sn.d(this.TAG,"\u2705 Joined room ".concat(s)),this.notifyJoin(),t.t0=this.publishParams&&!this.sdkState.published&&!sr,!t.t0){t.next=6;break}return t.next=6,this.publish(e.settings||ma);case 6:case"end":return t.stop()}}),t,this)})))})).catch((function(e){var t;null==(t=a.listener)||t.onError(e),sn.e(a.TAG,"Unable to join room",e)})).then((function(){sn.timeEnd("join-room-".concat(s))}))}},{key:"stringifyMetadata",value:function(e){e.metaData&&"string"!=typeof e.metaData&&JSON.stringify(e.metaData)}},{key:"cleanUp",value:function(){var e,t;this.store.cleanUp(),this.cleanDeviceManagers(),oi.cleanup(),this.playlistManager.cleanup(),sn.cleanUp(),this.sdkState=tn({},ga),this.localPeer&&(null==(e=this.localPeer.audioTrack)||e.cleanup(),this.localPeer.audioTrack=void 0,null==(t=this.localPeer.videoTrack)||t.cleanup(),this.localPeer.videoTrack=void 0),this.listener=void 0,this.roleChangeManager&&this.notificationManager.removeEventListener("local-peer-role-update",this.roleChangeManager.handleLocalPeerRoleUpdate)}},{key:"leave",value:function(){return rn(this,null,p().mark((function e(){var t,n,r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.store.getRoom())){e.next=8;break}return r=n.id,sn.d(this.TAG,"\u23f3 Leaving room ".concat(r)),e.next=6,null==(t=this.transport)?void 0:t.leave();case 6:this.cleanUp(),sn.d(this.TAG,"\u2705 Left room ".concat(r));case 8:case"end":return e.stop()}}),e,this)})))}},{key:"getLocalPeer",value:function(){return this.store.getLocalPeer()}},{key:"getPeers",value:function(){var e=this.store.getPeers();return sn.d(this.TAG,"Got peers",e),e}},{key:"getAudioOutput",value:function(){return this.audioOutput}},{key:"sendMessage",value:function(e,t){this.sendMessageInternal({message:t,type:e})}},{key:"sendBroadcastMessage",value:function(e,t){return rn(this,null,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.sendMessageInternal({message:e,type:t});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n,this)})))}},{key:"sendGroupMessage",value:function(e,t,n){return rn(this,null,p().mark((function r(){var i;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.store.getKnownRoles(),0!==(t.filter((function(e){return i[e.name]}))||[]).length){r.next=3;break}throw mn.ValidationFailed("No valid role is present",t);case 3:return r.next=5,this.sendMessageInternal({message:e,recipientRoles:t,type:n});case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r,this)})))}},{key:"sendDirectMessage",value:function(e,t,n){return rn(this,null,p().mark((function r(){var i;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.store.getPeerById(t.peerId)){r.next=2;break}throw mn.ValidationFailed("Invalid peer - peer not present in the room",t);case 2:if((null==(i=this.localPeer)?void 0:i.peerId)!==t.peerId){r.next=4;break}throw mn.ValidationFailed("Cannot send message to self");case 4:return r.next=6,this.sendMessageInternal({message:e,recipientPeer:t,type:n});case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}}),r,this)})))}},{key:"sendMessageInternal",value:function(e){return rn(this,arguments,p().mark((function e(t){var n,r,i,a,o,s;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.recipientRoles,r=t.recipientPeer,i=t.type,a=void 0===i?"chat":i,""!==(o=t.message).replace(/\u200b/g," ").trim()){e.next=3;break}throw sn.w(this.TAG,"sendMessage","Ignoring empty message send"),mn.ValidationFailed("Empty message not allowed");case 3:return s=new xr({sender:this.localPeer,type:a,message:o,recipientPeer:r,recipientRoles:n,time:new Date}),sn.d(this.TAG,"Sending Message:: ",s),e.next=7,this.transport.sendMessage(s);case 7:return e.abrupt("return",s);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"startScreenShare",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return rn(this,null,p().mark((function n(){var r,i,a,o,s,c,u=this;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=this.publishParams){n.next=3;break}return n.abrupt("return");case 3:if((s=o.allowed)&&s.includes("screen")){n.next=7;break}return sn.e(this.TAG,"Role ".concat(null==(r=this.localPeer)?void 0:r.role," cannot share screen")),n.abrupt("return");case 7:if(!(null==(a=null==(i=this.localPeer)?void 0:i.auxiliaryTracks)?void 0:a.find((function(e){return"screen"===e.source})))){n.next=9;break}throw Error("Cannot share multiple screens");case 9:return n.next=11,this.getScreenshareTracks(o,e,t);case 11:if(c=n.sent,this.localPeer){n.next=15;break}return sn.d(this.TAG,"Screenshared when not connected"),c.forEach((function(e){e.cleanup()})),n.abrupt("return");case 15:return n.next=17,this.transport.publish(c);case 17:c.forEach((function(e){var t,n,r;e.peerId=null==(t=u.localPeer)?void 0:t.peerId,null==(n=u.localPeer)||n.auxiliaryTracks.push(e),null==(r=u.listener)||r.onTrackUpdate(Pn.TRACK_ADDED,e,u.localPeer)}));case 18:case"end":return n.stop()}}),n,this)})))}},{key:"stopEndedScreenshare",value:function(e){return rn(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return sn.d(this.TAG,"\u2705 Screenshare ended natively"),t.next=3,this.stopScreenShare();case 3:e();case 4:case"end":return t.stop()}}),t,this)})))}},{key:"stopScreenShare",value:function(){return rn(this,null,p().mark((function e(){var t,n,r,i,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sn.d(this.TAG,"\u2705 Screenshare ended from app"),n=null==(t=this.localPeer)?void 0:t.auxiliaryTracks.filter((function(e){return"screen"===e.source})),!n){e.next=20;break}r=f(n),e.prev=4,r.s();case 6:if((i=r.n()).done){e.next=12;break}return a=i.value,e.next=10,this.removeTrack(a.trackId);case 10:e.next=6;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),r.e(e.t0);case 17:return e.prev=17,r.f(),e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[4,14,17,20]])})))}},{key:"addTrack",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"regular";return rn(this,null,p().mark((function n(){var r,i,a,o,s,c,u,l;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=3;break}return sn.w(this.TAG,"Please pass a valid MediaStreamTrack"),n.abrupt("return");case 3:if(this.localPeer){n.next=5;break}throw mn.NotConnected(cn.VALIDATION,"No local peer present, cannot addTrack");case 5:if(!this.localPeer.auxiliaryTracks.find((function(t){return t.trackId===e.id}))){n.next=7;break}return n.abrupt("return");case 7:return s=e.kind,c=new MediaStream([e]),u=new mi(c),l=new("audio"===s?ui:Ei)(u,e,t,this.eventBus),this.setPlaylistSettings({track:e,hmsTrack:l,source:t}),n.next=11,null==(r=this.transport)?void 0:r.publish([l]);case 11:l.peerId=null==(i=this.localPeer)?void 0:i.peerId,null==(a=this.localPeer)||a.auxiliaryTracks.push(l),null==(o=this.listener)||o.onTrackUpdate(Pn.TRACK_ADDED,l,this.localPeer);case 14:case"end":return n.stop()}}),n,this)})))}},{key:"removeTrack",value:function(e){return rn(this,null,p().mark((function t(){var n,r,i;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.localPeer){t.next=2;break}throw mn.NotConnected(cn.VALIDATION,"No local peer present, cannot removeTrack");case 2:if(r=this.localPeer.auxiliaryTracks.findIndex((function(t){return t.trackId===e})),!(r>-1)){t.next=11;break}return i=this.localPeer.auxiliaryTracks[r],t.next=7,this.transport.unpublish([i]);case 7:this.localPeer.auxiliaryTracks.splice(r,1),null==(n=this.listener)||n.onTrackUpdate(Pn.TRACK_REMOVED,i,this.localPeer),t.next=12;break;case 11:sn.w(this.TAG,"No track found for ".concat(e));case 12:case"end":return t.stop()}}),t,this)})))}},{key:"setAnalyticsLevel",value:function(e){Zr.level=e}},{key:"setLogLevel",value:function(e){sn.level=e}},{key:"addAudioListener",value:function(e){this.audioListener=e,this.notificationManager.setAudioListener(e)}},{key:"changeRole",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return rn(this,null,p().mark((function r(){var i;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=!e.role||e.role.name===t,r.t0){r.next=4;break}return r.next=4,null==(i=this.transport)?void 0:i.changeRole(e,t,n);case 4:case"end":return r.stop()}}),r,this)})))}},{key:"acceptChangeRole",value:function(e){return rn(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null==(n=this.transport)?void 0:n.acceptRoleChange(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"endRoom",value:function(e,t){return rn(this,null,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.localPeer){n.next=2;break}throw mn.NotConnected(cn.VALIDATION,"No local peer present, cannot end room");case 2:return n.next=4,null==(r=this.transport)?void 0:r.endRoom(e,t);case 4:return n.next=6,this.leave();case 6:case"end":return n.stop()}}),n,this)})))}},{key:"removePeer",value:function(e,t){return rn(this,null,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.localPeer){n.next=2;break}throw mn.NotConnected(cn.VALIDATION,"No local peer present, cannot remove peer");case 2:if(this.store.getPeerById(e.peerId)){n.next=4;break}throw mn.ValidationFailed("Invalid peer, given peer not present in room",e);case 4:return n.next=6,null==(r=this.transport)?void 0:r.removePeer(e.peerId,t);case 6:case"end":return n.stop()}}),n,this)})))}},{key:"startRTMPOrRecording",value:function(e){return rn(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.localPeer){t.next=2;break}throw mn.NotConnected(cn.VALIDATION,"No local peer present, cannot start streaming or recording");case 2:return t.next=4,null==(n=this.transport)?void 0:n.startRTMPOrRecording(e);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"stopRTMPAndRecording",value:function(){return rn(this,null,p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.localPeer){e.next=2;break}throw mn.NotConnected(cn.VALIDATION,"No local peer present, cannot stop streaming or recording");case 2:return e.next=4,null==(t=this.transport)?void 0:t.stopRTMPOrRecording();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"startHLSStreaming",value:function(e){return rn(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.localPeer){t.next=2;break}throw mn.NotConnected(cn.VALIDATION,"No local peer present, cannot start HLS streaming");case 2:return t.next=4,null==(n=this.transport)?void 0:n.startHLSStreaming(e);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"stopHLSStreaming",value:function(e){return rn(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.localPeer){t.next=2;break}throw mn.NotConnected(cn.VALIDATION,"No local peer present, cannot stop HLS streaming");case 2:return t.next=4,null==(n=this.transport)?void 0:n.stopHLSStreaming(e);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"changeName",value:function(e){return rn(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.validateJoined("changeName"),t.next=3,null==(n=this.transport)?void 0:n.changeName(e);case 3:this.notificationManager.updateLocalPeer({name:e});case 4:case"end":return t.stop()}}),t,this)})))}},{key:"changeMetadata",value:function(e){return rn(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.validateJoined("changeMetadata"),t.next=3,null==(n=this.transport)?void 0:n.changeMetadata(e);case 3:this.notificationManager.updateLocalPeer({metadata:e});case 4:case"end":return t.stop()}}),t,this)})))}},{key:"getRoles",value:function(){return Object.values(this.store.getKnownRoles())}},{key:"changeTrackState",value:function(e,t){return rn(this,null,p().mark((function n(){var r,i;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.type!==Yn.VIDEO||"regular"===e.source){n.next=3;break}return sn.w(this.TAG,"Muting non-regular video tracks is currently not supported"),n.abrupt("return");case 3:if(e.enabled!==t){n.next=6;break}return sn.w(this.TAG,"Aborting change track state, track already has enabled - ".concat(t),e),n.abrupt("return");case 6:if(this.store.getTrackById(e.trackId)){n.next=8;break}throw mn.ValidationFailed("No track found for change track state",e);case 8:if(i=this.store.getPeerByTrackId(e.trackId)){n.next=11;break}throw mn.ValidationFailed("No peer found for change track state",e);case 11:return n.next=13,null==(r=this.transport)?void 0:r.changeTrackState({requested_for:i.peerId,track_id:e.trackId,stream_id:e.stream.id,mute:!t});case 13:case"end":return n.stop()}}),n,this)})))}},{key:"changeMultiTrackState",value:function(e){return rn(this,null,p().mark((function t(){var n,r,i,a,o;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("boolean"==typeof e.enabled){t.next=2;break}throw mn.ValidationFailed("Pass a boolean for enabled");case 2:return r=e.enabled,i=e.roles,a=e.type,o=e.source,t.next=5,null==(n=this.transport)?void 0:n.changeMultiTrackState({value:!r,type:a,source:o,roles:null==i?void 0:i.map((function(e){return null==e?void 0:e.name}))});case 5:case"end":return t.stop()}}),t,this)})))}},{key:"publish",value:function(e){return rn(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.localTrackManager.getTracksToPublish(e);case 2:return n=t.sent,t.next=5,this.setAndPublishTracks(n);case 5:this.sdkState.published=!0;case 6:case"end":return t.stop()}}),t,this)})))}},{key:"setAndPublishTracks",value:function(e){return rn(this,null,p().mark((function t(){var n,r,i,a;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=f(e),t.prev=1,r.s();case 3:if((i=r.n()).done){t.next=11;break}return a=i.value,t.next=7,this.transport.publish([a]);case 7:this.setLocalPeerTrack(a),null==(n=this.listener)||n.onTrackUpdate(Pn.TRACK_ADDED,a,this.localPeer);case 9:t.next=3;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),r.e(t.t0);case 16:return t.prev=16,r.f(),t.finish(16);case 19:return t.next=21,this.initDeviceManagers();case 21:case"end":return t.stop()}}),t,this,[[1,13,16,19]])})))}},{key:"setLocalPeerTrack",value:function(e){var t;switch(e.peerId=null==(t=this.localPeer)?void 0:t.peerId,e.type){case Yn.AUDIO:this.localPeer.audioTrack=e;break;case Yn.VIDEO:this.localPeer.videoTrack=e}}},{key:"initDeviceManagers",value:function(){return rn(this,null,p().mark((function e(){var t,n,r;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.sdkState.deviceManagersInitialised,e.t0){e.next=8;break}return this.sdkState.deviceManagersInitialised=!0,this.eventBus.deviceChange.subscribe(this.handleDeviceChange),e.next=6,this.deviceManager.init();case 6:this.deviceManager.updateOutputDevice(null==(n=null==(t=oi.getSelection())?void 0:t.audioOutput)?void 0:n.deviceId),this.audioSinkManager.init(null==(r=this.store.getConfig())?void 0:r.audioSinkElementId);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"cleanDeviceManagers",value:function(){this.eventBus.deviceChange.subscribe(this.handleDeviceChange),this.deviceManager.cleanUp(),this.audioSinkManager.removeEventListener(Zi,this.handleAutoplayError),this.audioSinkManager.cleanUp()}},{key:"initPreviewTrackAudioLevelMonitor",value:function(){var e,t=this,n=null==(e=this.localPeer)?void 0:e.audioTrack;null==n||n.initAudioLevelMonitor(),this.eventBus.trackAudioLevelUpdate.subscribe((function(e){var r,i=e&&e.track.trackId===(null==n?void 0:n.trackId)?[{audioLevel:e.audioLevel,peer:t.localPeer,track:n}]:[];t.store.updateSpeakers(i),null==(r=t.audioListener)||r.onAudioLevelUpdate(i)})),this.eventBus.localAudioSilence.subscribe(this.sendAudioPresenceFailed)}},{key:"publishParams",get:function(){var e;return null==(e=this.store)?void 0:e.getPublishParams()}},{key:"notifyJoin",value:function(){var e,t=this,n=this.store.getLocalPeer(),r=this.store.getRoom();r.joinedAt=new Date,(null==n?void 0:n.role)?null==(e=this.listener)||e.onJoin(r):this.notificationManager.once("policy-change",(function(){var e;null==(e=t.listener)||e.onJoin(r)}))}},{key:"setUpPreview",value:function(e,t){this.listener=t,this.sdkState.isPreviewInProgress=!0;var n=$i(e.authToken),r=n.roomId,i=n.userId,a=n.role;this.commonSetup(e,r,t),this.store.setConfig(e),this.createAndAddLocalPeerToStore(e,a,i),sn.d(this.TAG,"SDK Store",this.store)}},{key:"setPlaylistSettings",value:function(e){return rn(this,arguments,p().mark((function e(t){var n,r,i,a,o,s,c;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.track,r=t.hmsTrack,"videoplaylist"!==(i=t.source)){e.next=8;break}return a={},"audio"===n.kind?a.maxBitrate=64:(a.maxBitrate=1e3,o=n.getSettings(),s=o.width,c=o.height,a.width=s,a.height=c),e.next=6,r.setSettings(a);case 6:e.next=12;break;case 8:if(e.t0="audioplaylist"===i,!e.t0){e.next=12;break}return e.next=12,r.setSettings({maxBitrate:64});case 12:case"end":return e.stop()}}),e)})))}},{key:"createAndAddLocalPeerToStore",value:function(e,t,n){var r=this.store.getPolicyForRole(t),i=new _r({name:e.userName||"",customerUserId:n,metadata:e.metaData||"",role:r});this.store.addPeer(i)}},{key:"commonSetup",value:function(e,t,n){this.stringifyMetadata(e),this.errorListener=n,this.deviceChangeListener=n,this.initStoreAndManagers(),this.store.setErrorListener(this.errorListener),this.store.getRoom()||this.store.setRoom(new Xi(t,this.store))}},{key:"removeDevicesFromConfig",value:function(e){this.store.getConfig()&&e.settings&&(delete e.settings.audioOutputDeviceId,delete e.settings.videoDeviceId,delete e.settings.audioInputDeviceId)}},{key:"getScreenshareTracks",value:function(e,t,n){return rn(this,null,p().mark((function r(){var i,a,o,s,c,u,l,d,f=this;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=e.screen,a=this.store.getSimulcastDimensions("screen"),r.next=4,this.transport.getLocalScreen((new br).maxBitrate(i.bitRate,!1).codec(i.codec).maxFramerate(i.frameRate).setWidth((null==a?void 0:a.width)||i.width).setHeight((null==a?void 0:a.height)||i.height).build(),(new yr).build());case 4:if(o=r.sent,s=v(o,2),c=s[0],u=s[1],l=function(){f.stopEndedScreenshare(t)},d=[],!n){r.next=16;break}if(c.nativeTrack.stop(),u){r.next=13;break}throw Error("Select share audio when sharing screen");case 13:d.push(u),u.nativeTrack.onended=l,r.next=17;break;case 16:d.push(c),c.nativeTrack.onended=l,u&&d.push(u);case 17:return r.abrupt("return",d);case 18:case"end":return r.stop()}}),r,this)})))}}]),e}();function ka(e,t){return e===t}function ba(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}function wa(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}sn.i("adapter","".concat(Nt.browserDetails.browser," v").concat(Nt.browserDetails.version));var Sa,Ta,Ea,xa=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=0,o=r.pop(),s=wa(r),c=e.apply(void 0,[function(){return a++,o.apply(null,arguments)}].concat(n)),u=e((function(){for(var e=[],t=s.length,n=0;n<t;n++)e.push(s[n].apply(null,arguments));return c.apply(null,e)}));return u.resultFunc=o,u.dependencies=s,u.recomputations=function(){return a},u.resetRecomputations=function(){return a=0},u}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ka,n=null,r=null;return function(){return ba(t,n,arguments)||(r=e.apply(null,arguments)),n=arguments,r}}));var Ca,Pa=Object.defineProperty,Ra=Object.defineProperties,_a=Object.getOwnPropertyDescriptors,Aa=Object.getOwnPropertySymbols,Ia=Object.prototype.hasOwnProperty,Oa=Object.prototype.propertyIsEnumerable,Da=function(e,t,n){return t in e?Pa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Na=function(e,t){for(var n in t||(t={}))Ia.call(t,n)&&Da(e,n,t[n]);if(Aa){var r,i=f(Aa(t));try{for(i.s();!(r=i.n()).done;){n=r.value;Oa.call(t,n)&&Da(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e},La=function(e,t){return Ra(e,_a(t))},Ma=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(z){i(z)}},o=function(e){try{s(n.throw(e))}catch(z){i(z)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))};!function(e){e.Disconnected="Disconnected",e.Preview="Preview",e.Connecting="Connecting",e.Connected="Connected",e.Reconnecting="Reconnecting",e.Disconnecting="Disconnecting",e.Failed="Failed"}(Ca||(Ca={}));var Ua,ja,Fa,Va,za=function(){return{room:{id:"",isConnected:!1,name:"",peers:[],shareableLink:"",localPeer:"",hasWaitingRoom:!1,roomState:Ca.Disconnected,recording:{browser:{running:!1},server:{running:!1},hls:{running:!1}},rtmp:{running:!1},hls:{running:!1,variants:[]},sessionId:""},peers:{},tracks:{},playlist:{audio:{list:{},selection:{id:"",hasPrevious:!1,hasNext:!1},progress:0,volume:0,currentTime:0,playbackRate:1},video:{list:{},selection:{id:"",hasPrevious:!1,hasNext:!1},progress:0,volume:0,currentTime:0,playbackRate:1}},messages:{byID:{},allIDs:[]},speakers:{},settings:{audioInputDeviceId:"",audioOutputDeviceId:"",videoInputDeviceId:""},devices:{audioInput:[],audioOutput:[],videoInput:[]},roles:{},roleChangeRequests:[],errors:[]}},Ga=function(){return{peerStats:{},trackStats:{},localPeer:{id:""}}};!function(e){e.CHAT="chat"}(Ua||(Ua={})),function(e){e.INFO="info",e.ERROR="error",e.CRITICAL="critical"}(ja||(ja={})),function(e){e.PEER_JOINED="PEER_JOINED",e.PEER_LEFT="PEER_LEFT",e.PEER_LIST="PEER_LIST",e.NEW_MESSAGE="NEW_MESSAGE",e.ERROR="ERROR",e.RECONNECTING="RECONNECTING",e.RECONNECTED="RECONNECTED",e.TRACK_ADDED="TRACK_ADDED",e.TRACK_REMOVED="TRACK_REMOVED",e.TRACK_MUTED="TRACK_MUTED",e.TRACK_UNMUTED="TRACK_UNMUTED",e.TRACK_DEGRADED="TRACK_DEGRADED",e.TRACK_RESTORED="TRACK_RESTORED",e.ROLE_CHANGE_REQUEST="ROLE_CHANGE_REQUEST",e.ROLE_UPDATED="ROLE_UPDATED",e.CHANGE_TRACK_STATE_REQUEST="CHANGE_TRACK_STATE_REQUEST",e.CHANGE_MULTI_TRACK_STATE_REQUEST="CHANGE_MULTI_TRACK_STATE_REQUEST",e.ROOM_ENDED="ROOM_ENDED",e.REMOVED_FROM_ROOM="REMOVED_FROM_ROOM",e.DEVICE_CHANGE_UPDATE="DEVICE_CHANGE_UPDATE",e.PLAYLIST_TRACK_ENDED="PLAYLIST_TRACK_ENDED",e.NAME_UPDATED="NAME_UPDATED",e.METADATA_UPDATED="METADATA_UPDATED"}(Fa||(Fa={})),function(e){e.audio="audio",e.video="video"}(Va||(Va={}));var Ba=function(e,t){var n,r=f(Ya(Object.keys(e),Object.keys(t)));try{for(r.s();!(n=r.n()).done;){var i=n.value,a=e[i],o=t[i];Ka(a,o)?Object.assign(a,o):Wa(a,o)?delete e[i]:qa(a,o)&&(e[i]=o)}}catch(s){r.e(s)}finally{r.f()}},Ha=function(e,t){e.plugins&&Ja(e.plugins,t.plugins)&&(t.plugins=e.plugins),e.layerDefinitions&&Ja(e.layerDefinitions,t.layerDefinitions)&&(t.layerDefinitions=e.layerDefinitions)},Ka=function(e,t){return e&&t},Wa=function(e,t){return e&&!t},qa=function(e,t){return!e&&t},Ja=function(e,t){if(e===t||0===e.length&&0===(null==t?void 0:t.length))return!0;if(!e||!t||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},Ya=function(e,t){var n,r=new Set,i=f(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;r.add(a)}}catch(u){i.e(u)}finally{i.f()}var o,s=f(t);try{for(s.s();!(o=s.n()).done;){var c=o.value;r.add(c)}}catch(u){s.e(u)}finally{s.f()}return Array.from(r)},Qa=function(){function e(){s(this,e)}return u(e,null,[{key:"convertPeer",value:function(e){var t,n,r;return{id:e.peerId,name:e.name,roleName:null==(t=e.role)?void 0:t.name,isLocal:e.isLocal,videoTrack:null==(n=e.videoTrack)?void 0:n.trackId,audioTrack:null==(r=e.audioTrack)?void 0:r.trackId,auxiliaryTracks:e.auxiliaryTracks.map((function(e){return e.trackId})),customerUserId:e.customerUserId,customerDescription:e.metadata,metadata:e.metadata}}},{key:"convertTrack",value:function(e,t){var n={id:e.trackId,source:e.source,type:e.type,enabled:e.enabled,displayEnabled:e.enabled,peerId:e.peerId||t};return this.enrichTrack(n,e),n}},{key:"enrichTrack",value:function(t,n){var r=n.getMediaTrackSettings();"screen"===t.source&&"video"===t.type&&(t.displaySurface=r.displaySurface),t.height=r.height,t.width=r.width,n instanceof tr&&(t.volume=n.getVolume()||0),e.updateDeviceID(t,n),e.enrichVideoTrack(t,n),e.enrichPluginsDetails(t,n)}},{key:"updateDeviceID",value:function(e,t){var n;e.deviceID=t instanceof Ei||t instanceof ui?t.settings.deviceId:null==(n=t.getMediaTrackSettings())?void 0:n.deviceId}},{key:"enrichVideoTrack",value:function(e,t){t instanceof rr&&(e.layer=t.getSimulcastLayer(),e.degraded=t.degraded,Ja(t.getSimulcastDefinitions(),e.layerDefinitions)||(e.layerDefinitions=t.getSimulcastDefinitions()))}},{key:"enrichPluginsDetails",value:function(e,t){(t instanceof Ei||t instanceof ui)&&(Ja(t.getPlugins(),e.plugins)||(e.plugins=t.getPlugins()))}},{key:"convertRoom",value:function(t){var n,r,i=e.convertRecordingStreamingState(null==t?void 0:t.recording,null==t?void 0:t.rtmp,null==t?void 0:t.hls),a=i.recording,o=i.rtmp,s=i.hls;return{id:t.id,name:t.name,localPeer:null!=(r=null==(n=t.localPeer)?void 0:n.peerId)?r:"",hasWaitingRoom:t.hasWaitingRoom,shareableLink:t.shareableLink,recording:a,rtmp:o,hls:s,sessionId:t.sessionId,startedAt:t.startedAt,joinedAt:t.joinedAt,peerCount:t.peerCount}}},{key:"convertMessage",value:function(e){var t,n,r;return{sender:e.sender.peerId,senderName:e.sender.name,senderRole:null==(t=e.sender.role)?void 0:t.name,senderUserId:e.sender.customerUserId,recipientPeer:null==(n=e.recipientPeer)?void 0:n.peerId,recipientRoles:null==(r=e.recipientRoles)?void 0:r.map((function(e){return e.name})),time:e.time,type:e.type,message:e.message}}},{key:"convertRoles",value:function(e){var t={};return e&&e.forEach((function(e){t[e.name]=e})),t}},{key:"convertRoleChangeRequest",value:function(e){var t;return{requestedBy:null==(t=e.requestedBy)?void 0:t.peerId,roleName:e.role.name,token:e.token}}},{key:"convertException",value:function(e){return{code:e.code,action:e.action,name:e.name,message:e.message,description:e.description,isTerminal:e.isTerminal,nativeError:e.nativeError,timestamp:new Date}}},{key:"convertDeviceChangeUpdate",value:function(e){var t={devices:e.devices,selection:e.selection,type:e.type};return e.error&&(t.error=this.convertException(e.error)),t}},{key:"convertPlaylist",value:function(e){return{audio:this.getConvertedPlaylistType(e,Va.audio),video:this.getConvertedPlaylistType(e,Va.video)}}},{key:"convertPlaylistItem",value:function(e,t){var n=t.type,r=e.getCurrentSelection(n),i=e.isPlaying(n),a=t.url===(null==r?void 0:r.url);return La(Na({},t),{type:t.type,selected:a,playing:a&&i})}},{key:"getConvertedPlaylistType",value:function(t,n){var r={},i=t.getCurrentSelection(n),a=t.getCurrentProgress(n),o=t.getVolume(n),s=t.getList(n),c=t.getCurrentIndex(n);return t.getList(n).forEach((function(n){r[n.id]=e.convertPlaylistItem(t,n)})),{list:r,selection:{id:null==i?void 0:i.id,hasPrevious:c>0,hasNext:c<s.length-1},progress:a,volume:o,currentTime:t.getCurrentTime(n),playbackRate:t.getPlaybackRate(n)}}},{key:"convertRecordingStreamingState",value:function(e,t,n){var r;return{recording:{browser:Na({running:!1},null==e?void 0:e.browser),server:Na({running:!1},null==e?void 0:e.server),hls:Na({running:!1},null==e?void 0:e.hls)},rtmp:Na({running:!1},t),hls:{variants:(null==(r=null==n?void 0:n.variants)?void 0:r.map((function(e){return e})))||[],running:!!(null==n?void 0:n.running),error:null==n?void 0:n.error}}}}]),e}();function $a(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:eo;if(t){var a,o=f(t.auxiliaryTracks);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=e[s];i(c)&&(r=Xa(c)?c:r,n=Za(c)?c:n)}}catch(u){o.e(u)}finally{o.f()}}return{video:n,audio:r}}function Xa(e){return e&&"audio"===e.type}function Za(e){return e&&"video"===e.type}function eo(e){return e&&"screen"===e.source}function to(e){return e&&"audioplaylist"===e.source}function no(e){return e&&"videoplaylist"===e.source}function ro(e){return Boolean(null==e?void 0:e.degraded)}function io(e,t){return!(!t||!e.tracks[t])&&e.tracks[t].enabled}var ao=function(e){return e.room},oo=(xa(ao,(function(e){return e.id})),function(e){return e.peers}),so=function(e){return e.messages.byID},co=function(e){return e.messages.allIDs},uo=function(e){return e.tracks},lo=function(e){return e.settings},fo=xa([ao],(function(e){return e&&e.isConnected})),ho=(xa([fo,ao],(function(e,t){return e?t.peerCount||t.peers.length:Math.max(t.peerCount||t.peers.length-1,0)})),xa([ao,oo],(function(e,t){return e.peers.map((function(e){return t[e]}))}))),po=xa(uo,(function(e){return Object.values(e)})),vo=xa(ao,oo,(function(e,t){return t[e.localPeer]})),mo=xa(ao,(function(e){return e.localPeer})),go=xa(vo,(function(e){return null==e?void 0:e.audioTrack})),yo=xa(vo,(function(e){return null==e?void 0:e.videoTrack})),ko=xa(vo,(function(e){return null==e?void 0:e.auxiliaryTracks})),bo=xa([go,yo,ko],(function(e,t,n){var r=g(n);return e&&r.unshift(e),t&&r.unshift(t),r})),wo=(xa(ho,(function(e){return e.filter((function(e){return!e.isLocal}))})),xa(oo,(function(e){return e.speakers}),(function(e,t){var n=Object.entries(t).sort((function(e,t){var n,r,i=(null==(n=e[1])?void 0:n.audioLevel)||0;return((null==(r=t[1])?void 0:r.audioLevel)||0)>i?1:-1}));if(n.length>0&&n[0][1].audioLevel&&n[0][1].audioLevel>0){var r=n[0][1].peerID;if(r in e)return e[r]}return null})),function(e){var t=vo(e);return io(e,null==t?void 0:t.audioTrack)}),So=function(e){var t=vo(e);return io(e,null==t?void 0:t.videoTrack)},To=function(e){var t=vo(e);return function(e,t){return!(!t||!e.tracks[t])&&e.tracks[t].displayEnabled}(e,null==t?void 0:t.videoTrack)},Eo=xa(vo,uo,(function(e,t){var n=$a(t,e),r=n.video,i=n.audio;return!(!r&&!i)})),xo=xa(oo,uo,(function(e,t){var n;for(var r in e){var i=e[r],a=$a(t,i),o=a.video,s=a.audio;if(o)return i;s&&!n&&(n=i)}return n})),Co=(xa(xo,(function(e){return!!e})),xa(oo,uo,(function(e,t){for(var n in e){var r=e[n],i=$a(t,r),a=i.audio;if(!i.video&&a)return r}})),xa(oo,uo,(function(e,t){var n=[],r=[];for(var i in e){var a=e[i],o=$a(t,a),s=o.video,c=o.audio;s?n.push(a):c&&r.push(a)}return n.concat(r)})),xa(oo,uo,(function(e,t){for(var n in t){var r=t[n];if(no(r)&&Za(r)&&r.peerId)return e[r.peerId]}})),xa(oo,uo,(function(e,t){for(var n in t){var r=t[n];if(to(r)&&r.peerId)return e[r.peerId]}})),xa(po,(function(e){return e.filter(ro)})),xa(co,(function(e){return e.length}))),Po=(xa(so,(function(e){return Object.values(e).filter((function(e){return!e.read})).length})),xa(co,so,(function(e,t){var n=[];return e.forEach((function(e){n.push(t[e])})),n}))),Ro=xa([ao],(function(e){return e&&e.roomState})),_o=(xa(Ro,(function(e){return e===Ca.Preview})),xa(ao,(function(e){return e.roomState!==Ca.Disconnected}))),Ao=function(e){return e.roles},Io=(xa([Ao],(function(e){return Object.keys(e)})),xa([vo,Ao],(function(e,t){return(null==e?void 0:e.roleName)?t[e.roleName]:null}))),Oo=(xa([Io],(function(e){var t;return!!(null==(t=null==e?void 0:e.subscribeParams)?void 0:t.subscribeToRoles)&&e.subscribeParams.subscribeToRoles.length>0})),xa(Io,(function(e){return null==e?void 0:e.permissions}))),Do=(xa(ao,(function(e){return e.recording})),xa(ao,(function(e){return e.rtmp})),xa(ao,(function(e){return e.hls})),xa(ao,(function(e){return e.sessionId})),xa(ao,(function(e){return e.startedAt})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va.audio;return function(t){return t.playlist[e].list}}),No=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va.audio;return function(t){return t.playlist[e].selection}},Lo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va.audio;return function(t){return t.playlist[e].progress}},Mo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va.audio;return function(t){return t.playlist[e].currentTime}},Uo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va.audio;return function(t){return t.playlist[e].playbackRate}},jo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va.audio;return function(t){return t.playlist[e].volume}},Fo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va.audio;return xa(Do(e),(function(e){return Object.values(e)}))},Vo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Va.audio;return xa(Do(e),No(e),(function(e,t){if(t.id)return e[t.id]}))},zo={selection:No(Va.audio),progress:Lo(Va.audio),currentTime:Mo(Va.audio),playbackRate:Uo(Va.audio),volume:jo(Va.audio),list:Fo(Va.audio),selectedItem:Vo(Va.audio)},Go={selection:No(Va.video),progress:Lo(Va.video),currentTime:Mo(Va.video),playbackRate:Uo(Va.video),volume:jo(Va.video),list:Fo(Va.video),selectedItem:Vo(Va.video)};function Bo(e){return function(t){return function(n){return e(n,t)}}}var Ho="HMS-Store:",Ko=function(){function e(){s(this,e)}return u(e,null,[{key:"v",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log.apply(this,[Kt.VERBOSE,e].concat(n))}},{key:"d",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.log.apply(this,[Kt.DEBUG].concat(t))}},{key:"i",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.log.apply(this,[Kt.INFO].concat(t))}},{key:"w",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.log.apply(this,[Kt.WARN].concat(t))}},{key:"e",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.log.apply(this,[Kt.ERROR].concat(t))}},{key:"time",value:function(e){this.log(Kt.TIME,"[HMSPerformanceTiming]",e)}},{key:"timeEnd",value:function(e){this.log(Kt.TIMEEND,"[HMSPerformanceTiming]",e,e)}},{key:"cleanUp",value:function(){performance.clearMarks(),performance.clearMeasures()}},{key:"log",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!(this.level.valueOf()>e.valueOf()))switch(e){case Kt.VERBOSE:var i;(i=console).log.apply(i,[Ho].concat(n));break;case Kt.DEBUG:var a;(a=console).debug.apply(a,[Ho].concat(n));break;case Kt.INFO:var o;(o=console).info.apply(o,[Ho].concat(n));break;case Kt.WARN:var s;(s=console).warn.apply(s,[Ho].concat(n));break;case Kt.ERROR:var c;(c=console).error.apply(c,[Ho].concat(n));break;case Kt.TIME:performance.mark(n[1]);break;case Kt.TIMEEND:var u=n[0],l=n[1];try{var d=performance.measure(l,l);this.log(Kt.DEBUG,u,l,null==d?void 0:d.duration),performance.clearMarks(l),performance.clearMeasures(l)}catch(d){this.log(Kt.DEBUG,u,l,d)}}}}]),e}();Ko.level=Kt.VERBOSE;var Wo=function(e,t){return t},qo=function(e,t){return t},Jo=xa([oo,Wo],(function(e,t){return t?e[t]:null})),Yo=xa([uo,function(e,t){return t}],(function(e,t){return t?e[t]:null})),Qo=Bo(Jo),$o=(Bo(xa(Jo,(function(e){return null==e?void 0:e.name}))),Bo(Yo)),Xo=(Bo((function(e,t){var n=Jo(e,t);if(n&&n.videoTrack&&""!==n.videoTrack)return e.tracks[n.videoTrack]})),Bo((function(e,t){var n=Jo(e,t);if(n&&n.audioTrack&&""!==n.audioTrack)return e.tracks[n.audioTrack]}))),Zo=(Bo((function(e,t){var n=Jo(e,t);return(null==n?void 0:n.auxiliaryTracks.map((function(t){return e.tracks[t]})))||[]})),function(e,t){return t?e.speakers[t]:null}),es=(Bo(xa(Zo,(function(e){return(null==e?void 0:e.audioLevel)||0}))),Bo(xa((function(e,t){var n=Xo(t)(e);return Zo(e,null==n?void 0:n.id)}),(function(e){return(null==e?void 0:e.audioLevel)||0}))),Bo((function(e,t){var n=Jo(e,t);if(n){var r=null==n?void 0:n.auxiliaryTracks.find((function(t){return Xa(e.tracks[t])}));return r?e.tracks[r]:void 0}})),Bo(xa(uo,Jo,(function(e,t){var n=null==t?void 0:t.auxiliaryTracks.find((function(t){var n=e[t];return no(n)&&Za(n)}));return n?e[n]:void 0}))),Bo(xa(uo,Jo,(function(e,t){var n=null==t?void 0:t.auxiliaryTracks.find((function(t){var n=e[t];return no(n)&&Xa(n)}));return n?e[n]:void 0}))),Bo(xa(uo,Jo,(function(e,t){var n=null==t?void 0:t.auxiliaryTracks.find((function(t){var n=e[t];return to(n)&&Xa(n)}));return n?e[n]:void 0}))),Bo(xa(uo,Jo,(function(e,t){return $a(e,t)})))),ts=function(e){return xa(es(e),(function(e){return e.audio}))},ns=(Bo((function(e,t){var n=Jo(e,t);return io(e,null==n?void 0:n.audioTrack)})),Bo((function(e,t){var n=Jo(e,t);return io(e,null==n?void 0:n.videoTrack)})),Bo((function(e,t){if(t&&e.tracks[t])return 0===e.tracks[t].volume}))),rs=(Bo((function(e,t){var n=Jo(e,t);return ns(null==n?void 0:n.audioTrack)(e)})),Bo((function(e,t){var n=ts(t)(e);return ns(null==n?void 0:n.id)(e)})),Bo((function(e,t){var n=Yo(e,t);if(n)return"audio"!==n.type?void Ko.w("Please pass audio track here"):n.volume}))),is=(Bo((function(e,t){var n=Jo(e,t);return rs(null==n?void 0:n.audioTrack)(e)})),Bo((function(e,t){var n=ts(t)(e);return rs(null==n?void 0:n.id)(e)})),Bo((function(e,t){var n=Yo(e,t);if(n)return"video"!==n.type?void Ko.w("Please pass video track here"):n.layer})),xa([Po,mo,Wo],(function(e,t,n){if(n)return e.filter((function(e){var r;return!(!e.recipientPeer&&!(null==(r=e.recipientRoles)?void 0:r.length)||![t,n].includes(e.sender))&&[t,n].includes(e.recipientPeer)}))}))),as=xa([Po,qo],(function(e,t){if(t)return e.filter((function(e){var n,r;return!!(null==(n=e.recipientRoles)?void 0:n.length)&&(null==(r=e.recipientRoles)?void 0:r.includes(t))}))})),os=xa(Po,(function(e){return e.filter((function(e){var t;return!e.recipientPeer&&!(null==(t=e.recipientRoles)?void 0:t.length)}))})),ss=xa([as,qo],(function(e){return e?e.filter((function(e){return!e.read})).length:0})),cs=xa([is,Wo],(function(e){return e?e.filter((function(e){return!e.read})).length:0})),us=(xa(os,(function(e){return e.filter((function(e){return!e.read})).length})),Bo(is),Bo(as),Bo(ss),Bo(cs),xa([oo,uo],(function(e,t){return Object.values(e).map((function(e){var n;return{peer:e,isAudioEnabled:!!e.audioTrack&&(null==(n=t[e.audioTrack])?void 0:n.enabled)}}))})),xa([function(e){return e.roleChangeRequests[0]||null},oo,Ao],(function(e,t,n){return e?{requestedBy:e.requestedBy?t[e.requestedBy]:void 0,role:n[e.roleName],token:e.token}:null})),xa([Io],(function(e){var t,n=!1,r=!1,i=!1;return(null==(t=null==e?void 0:e.publishParams)?void 0:t.allowed)&&(n=e.publishParams.allowed.includes("video"),r=e.publishParams.allowed.includes("audio"),i=e.publishParams.allowed.includes("screen")),{video:n,audio:r,screen:i}})));xa([yo,uo],(function(e,t){var n=null;return e&&(n=t[e]),(null==n?void 0:n.plugins)||[]})),xa([go,uo],(function(e,t){var n=null;return e&&(n=t[e]),(null==n?void 0:n.plugins)||[]}));function ls(e){return e instanceof tr||e instanceof rr}var ds=function(){function e(t,n,r,i){s(this,e),this.playlistManager=t,this.syncPlaylistState=r,this.store=i,this.type=n}return u(e,[{key:"play",value:function(e){return Ma(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=3;break}return Ko.w("Please pass id to play"),t.abrupt("return");case 3:return t.next=5,this.playlistManager.setEnabled(!0,{id:e,type:this.type});case 5:case"end":return t.stop()}}),t,this)})))}},{key:"pause",value:function(){return Ma(this,null,p().mark((function e(){var t,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.type===Va.audio?zo:Go,(n=this.store.getState(t.selection)).id){e.next=4;break}return Ko.w("No item is currently playing to pause"),e.abrupt("return");case 4:return e.next=6,this.playlistManager.setEnabled(!1,{id:n.id,type:this.type});case 6:case"end":return e.stop()}}),e,this)})))}},{key:"playNext",value:function(){return Ma(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.playlistManager.playNext(this.type);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"playPrevious",value:function(){return Ma(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.playlistManager.playPrevious(this.type);case 2:case"end":return e.stop()}}),e,this)})))}},{key:"seek",value:function(e){this.playlistManager.seek(e,this.type),this.syncPlaylistState("seekOn".concat(this.type,"Playlist"))}},{key:"seekTo",value:function(e){this.playlistManager.seekTo(e,this.type),this.syncPlaylistState("seekToOn".concat(this.type,"Playlist"))}},{key:"setVolume",value:function(e){this.playlistManager.setVolume(e,this.type),this.syncPlaylistState("setVolumeOn".concat(this.type,"Playlist"))}},{key:"setList",value:function(e){this.playlistManager.setList(e),this.syncPlaylistState("setListOn".concat(this.type,"Playlist"))}},{key:"stop",value:function(){return Ma(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.playlistManager.stop(this.type);case 2:this.syncPlaylistState("stop".concat(this.type,"Playlist"));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"setIsAutoplayOn",value:function(e){this.playlistManager.setIsAutoplayOn(this.type,e)}},{key:"setPlaybackRate",value:function(e){this.playlistManager.setPlaybackRate(this.type,e),this.syncPlaylistState("set".concat(this.type,"PlaybackRate"))}}]),e}(),fs=(m(Sa={},Cn.PEER_JOINED,Fa.PEER_JOINED),m(Sa,Cn.PEER_LEFT,Fa.PEER_LEFT),m(Sa,Cn.ROLE_UPDATED,Fa.ROLE_UPDATED),m(Sa,Cn.AUDIO_TOGGLED,"PEER_AUDIO_UPDATED"),m(Sa,Cn.VIDEO_TOGGLED,"PEER_VIDEO_UPDATED"),m(Sa,Cn.NAME_UPDATED,Fa.NAME_UPDATED),m(Sa,Cn.METADATA_UPDATED,Fa.METADATA_UPDATED),Sa),hs=(m(Ta={},Pn.TRACK_ADDED,Fa.TRACK_ADDED),m(Ta,Pn.TRACK_REMOVED,Fa.TRACK_REMOVED),m(Ta,Pn.TRACK_MUTED,Fa.TRACK_MUTED),m(Ta,Pn.TRACK_UNMUTED,Fa.TRACK_UNMUTED),m(Ta,Pn.TRACK_DEGRADED,Fa.TRACK_DEGRADED),m(Ta,Pn.TRACK_RESTORED,Fa.TRACK_RESTORED),Ta),ps=(m(Ea={},Cn.PEER_JOINED,"peerJoined"),m(Ea,Cn.PEER_LEFT,"peerLeft"),m(Ea,Cn.NAME_UPDATED,"peerNameUpdated"),m(Ea,Cn.METADATA_UPDATED,"peerMetadataUpdated"),Ea),vs=function(){function e(t,n,r){var i=this;s(this,e),this.hmsSDKTracks={},this.hmsSDKPeers={},this.isRoomJoinCalled=!1,this.setProgress=function(e){var t=e.type,n=e.progress;i.setState((function(e){e.playlist[t].progress=n,e.playlist[t].currentTime=i.sdk.getPlaylistManager().getCurrentTime(t)}),"playlistProgress")},this.syncPlaylistState=function(e){i.setState((function(e){Object.assign(e.playlist,Qa.convertPlaylist(i.sdk.getPlaylistManager()))}),e)},this.sendPeerUpdateNotification=function(e,t){var n,r=i.store.getState(Qo(t.peerId));n=ps[e],i.syncRoomState(n),r||(r=i.store.getState(Qo(t.peerId))),i.hmsNotifications.sendPeerUpdate(e,r)},this.setState=function(e,t){return i.store.namedSetState(e,t)},this.store=t,this.sdk=n,this.hmsNotifications=r}return u(e,[{key:"unblockAudio",value:function(){return Ma(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sdk.getAudioOutput().unblockAutoplay();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"setVolume",value:function(e,t){t?this.setTrackVolume(e,t):(this.sdk.getAudioOutput().setVolume(e),this.syncRoomState("setOutputVolume"))}},{key:"setAudioOutputDevice",value:function(e){this.sdk.getAudioOutput().setDevice(e)&&this.setState((function(t){t.settings.audioOutputDeviceId=e}),"setAudioOutputDevice")}},{key:"setPreferredLayer",value:function(e,t){var n=this.hmsSDKTracks[e];n?n instanceof rr?(n.preferLayer(t),this.updateVideoLayer(e,"setPreferredLayer")):Ko.w("track ".concat(e," is not an video track")):this.logPossibleInconsistency("track ".concat(e," not present, unable to set preffer layer"))}},{key:"preview",value:function(e){return Ma(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isRoomJoinCalled){t.next=3;break}return this.logPossibleInconsistency("attempting to call preview after join was called"),t.abrupt("return");case 3:if((n=this.store.getState(Ro))!==Ca.Preview&&n!==Ca.Connecting){t.next=7;break}return this.logPossibleInconsistency("attempting to call preview while room is in preview/connecting"),t.abrupt("return");case 7:return t.prev=7,this.setState((function(e){e.room.roomState=Ca.Connecting}),"connecting"),t.next=11,this.sdkPreviewWithListeners(e);case 11:t.next=16;break;case 13:throw t.prev=13,t.t0=t.catch(7),Ko.e("Cannot show preview. Failed to connect to room - ",t.t0),t.t0;case 16:case"end":return t.stop()}}),t,this,[[7,13]])})))}},{key:"join",value:function(e){if(this.isRoomJoinCalled)this.logPossibleInconsistency("room join is called again");else try{this.sdkJoinWithListeners(e),this.isRoomJoinCalled=!0,this.setState((function(e){e.room.roomState=Ca.Connecting}),"join")}catch(b){throw this.isRoomJoinCalled=!1,Ko.e("Failed to connect to room - ",b),b}}},{key:"leave",value:function(){return Ma(this,null,p().mark((function e(){var t,n=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.getState(_o)){e.next=3;break}return this.logPossibleInconsistency("room leave is called when no room is connected"),e.abrupt("return");case 3:return t=this.store.getState(Ro),e.abrupt("return",(this.setState((function(e){e.room.roomState=Ca.Disconnecting}),"leaving"),this.sdk.leave().then((function(){n.resetState("leave"),Ko.i("left room")})).catch((function(e){Ko.e("error in leaving room - ",e),n.setState((function(e){e.room.roomState=t}),"revertLeave")}))));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"setScreenShareEnabled",value:function(e,t){return Ma(this,null,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=5;break}return n.next=3,this.startScreenShare(t);case 3:n.next=7;break;case 5:return n.next=7,this.stopScreenShare();case 7:case"end":return n.stop()}}),n,this)})))}},{key:"addTrack",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"regular";return Ma(this,null,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.sdk.addTrack(e,t);case 2:this.syncRoomState("addTrack");case 3:case"end":return n.stop()}}),n,this)})))}},{key:"removeTrack",value:function(e){return Ma(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sdk.removeTrack(e);case 2:this.syncRoomState("removeTrack");case 3:case"end":return t.stop()}}),t,this)})))}},{key:"setLocalAudioEnabled",value:function(e){return Ma(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.store.getState(go),t.t0=n,!t.t0){t.next=5;break}return t.next=5,this.setEnabledTrack(n,e);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"setLocalVideoEnabled",value:function(e){return Ma(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.store.getState(yo),t.t0=n,!t.t0){t.next=5;break}return t.next=5,this.setEnabledTrack(n,e);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"setEnabledTrack",value:function(e,t){return Ma(this,null,p().mark((function n(){var r,i,a=this;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((null==(r=this.store.getState().tracks[e])?void 0:r.enabled)!==t){n.next=3;break}return this.logPossibleInconsistency("local track[".concat(e,"] enabled state - ").concat(t)),n.abrupt("return");case 3:return this.setState((function(n){n.tracks[e]?n.tracks[e].displayEnabled=t:a.logPossibleInconsistency("track id not found for setEnabled")}),"displayEnabled"),n.prev=4,n.next=7,this.setEnabledSDKTrack(e,t);case 7:this.syncRoomState("setEnabled"),n.next=13;break;case 10:throw n.prev=10,n.t0=n.catch(4),this.setState((function(n){n.tracks[e].displayEnabled=!t}),"rollbackDisplayEnabled"),this.hmsNotifications.sendError(Qa.convertException(n.t0)),n.t0;case 13:i=t?Pn.TRACK_UNMUTED:Pn.TRACK_MUTED,this.hmsNotifications.sendTrackUpdate(i,e);case 15:case"end":return n.stop()}}),n,this,[[4,10]])})))}},{key:"setAudioSettings",value:function(e){return Ma(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.store.getState(go),t.t0=n,!t.t0){t.next=6;break}return t.next=5,this.setSDKLocalAudioTrackSettings(n,e);case 5:this.syncRoomState("setAudioSettings");case 6:case"end":return t.stop()}}),t,this)})))}},{key:"setVideoSettings",value:function(e){return Ma(this,null,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.store.getState(yo),t.t0=n,!t.t0){t.next=6;break}return t.next=5,this.setSDKLocalVideoTrackSettings(n,e);case 5:this.syncRoomState("setVideoSettings");case 6:case"end":return t.stop()}}),t,this)})))}},{key:"sendMessage",value:function(e){this.sendBroadcastMessage(e)}},{key:"sendBroadcastMessage",value:function(e,t){return Ma(this,null,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.sdk.sendBroadcastMessage(e,t);case 2:r=n.sent,this.updateMessageInStore(r,{message:e,type:t});case 4:case"end":return n.stop()}}),n,this)})))}},{key:"sendGroupMessage",value:function(e,t,n){return Ma(this,null,p().mark((function r(){var i,a,o;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=this.store.getState(Ao),a=t.map((function(e){return i[e]})),r.next=4,this.sdk.sendGroupMessage(e,a,n);case 4:o=r.sent,this.updateMessageInStore(o,{message:e,recipientRoles:t,type:n});case 6:case"end":return r.stop()}}),r,this)})))}},{key:"sendDirectMessage",value:function(e,t,n){return Ma(this,null,p().mark((function r(){var i,a;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=this.hmsSDKPeers[t],r.next=3,this.sdk.sendDirectMessage(e,i,n);case 3:a=r.sent,this.updateMessageInStore(a,{message:e,recipientPeer:i.peerId,type:n});case 5:case"end":return r.stop()}}),r,this)})))}},{key:"updateMessageInStore",value:function(e,t){if(!e)throw Ko.w("sendMessage","Failed to send message",t),Error("sendMessage Failed - ".concat(JSON.stringify(t)));var n=Qa.convertMessage(e);return n.read=!0,n.senderName="You",this.onHMSMessage(n),n}},{key:"setMessageRead",value:function(e,t){var n=this;this.setState((function(r){t?r.messages.byID[t]?r.messages.byID[t].read=e:n.logPossibleInconsistency("no message with id is found"):r.messages.allIDs.forEach((function(t){r.messages.byID[t].read=e}))}),"setMessageRead")}},{key:"attachVideo",value:function(e,t){return Ma(this,null,p().mark((function n(){var r=this;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!this.localAndVideoUnmuting(e)){n.next=2;break}return n.abrupt("return",new Promise((function(n){var i=r.store.subscribe((function(a){return Ma(r,null,p().mark((function r(){return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.t0=a,!r.t0){r.next=6;break}return r.next=4,this.attachVideoInternal(e,t);case 4:i(),n();case 6:case"end":return r.stop()}}),r,this)})))}),So)})));case 2:return n.next=4,this.attachVideoInternal(e,t);case 4:case"end":return n.stop()}}),n,this)})))}},{key:"detachVideo",value:function(e,t){return Ma(this,null,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=this.hmsSDKTracks[e])||"video"!==r.type){n.next=7;break}return n.next=4,r.removeSink(t);case 4:this.updateVideoLayer(e,"detachVideo"),n.next=8;break;case 7:this.logPossibleInconsistency("no video track found to remove sink");case 8:case"end":return n.stop()}}),n,this)})))}},{key:"addPluginToVideoTrack",value:function(e,t){return Ma(this,null,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.addRemoveVideoPlugin(e,"add",t));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"addPluginToAudioTrack",value:function(e){return Ma(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.addRemoveAudioPlugin(e,"add"));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"removePluginFromVideoTrack",value:function(e){return Ma(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.addRemoveVideoPlugin(e,"remove"));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"removePluginFromAudioTrack",value:function(e){return Ma(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.addRemoveAudioPlugin(e,"remove"));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"changeRole",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ma(this,null,p().mark((function r(){var i;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this.hmsSDKPeers[e]){r.next=4;break}return this.logPossibleInconsistency("Unknown peer ID given ".concat(e," for changerole")),r.abrupt("return");case 4:return r.next=6,this.sdk.changeRole(i,t,n);case 6:case"end":return r.stop()}}),r,this)})))}},{key:"acceptChangeRole",value:function(e){return Ma(this,null,p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=e.requestedBy?this.hmsSDKPeers[e.requestedBy.id]:void 0)||Ko.w("peer for which role change is requested no longer available - ".concat(e.requestedBy)),r={requestedBy:n,role:e.role,token:e.token},t.next=5,this.sdk.acceptChangeRole(r);case 5:this.removeRoleChangeRequest(e);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"rejectChangeRole",value:function(e){this.removeRoleChangeRequest(e)}},{key:"endRoom",value:function(e,t){return Ma(this,null,p().mark((function n(){var r,i;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null==(r=this.store.getState(Oo))?void 0:r.endRoom){n.next=4;break}return Ko.w("You are not allowed to perform this action - endRoom"),n.abrupt("return");case 4:return i=this.store.getState(Ro),this.setState((function(e){e.room.roomState=Ca.Disconnecting}),"endingRoom"),n.prev=6,n.next=9,this.sdk.endRoom(e,t);case 9:this.resetState("endRoom"),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(6),Ko.e("error in ending room - ",n.t0),this.setState((function(e){e.room.roomState=i}),"revertEndRoom");case 15:case"end":return n.stop()}}),n,this,[[6,12]])})))}},{key:"removePeer",value:function(e,t){return Ma(this,null,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=this.hmsSDKPeers[e])||r.isLocal){n.next=6;break}return n.next=4,this.sdk.removePeer(r,t);case 4:n.next=8;break;case 6:return this.logPossibleInconsistency("No remote peer found for peerID - ".concat(e)),n.abrupt("return");case 8:case"end":return n.stop()}}),n,this)})))}},{key:"startRTMPOrRecording",value:function(e){return Ma(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sdk.startRTMPOrRecording(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"stopRTMPAndRecording",value:function(){return Ma(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sdk.stopRTMPAndRecording();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"startHLSStreaming",value:function(e){return Ma(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sdk.startHLSStreaming(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"stopHLSStreaming",value:function(e){return Ma(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sdk.stopHLSStreaming(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"changeName",value:function(e){return Ma(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sdk.changeName(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"changeMetadata",value:function(e){return Ma(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"!=typeof e&&(e=JSON.stringify(e)),t.next=3,this.sdk.changeMetadata(e);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"setRemoteTrackEnabled",value:function(e,t){return Ma(this,null,p().mark((function n(){var r,i=this;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("string"!=typeof e){n.next=10;break}if(!(r=this.hmsSDKTracks[e])||!ls(r)){n.next=7;break}return n.next=5,this.sdk.changeTrackState(r,t);case 5:n.next=8;break;case 7:this.logPossibleInconsistency("No remote track with ID ".concat(e," found for change track state"));case 8:n.next=11;break;case 10:Array.isArray(e)&&e.forEach((function(e){return i.setRemoteTrackEnabled(e,t)}));case 11:case"end":return n.stop()}}),n,this)})))}},{key:"setRemoteTracksEnabled",value:function(e){return Ma(this,null,p().mark((function t(){var n,r;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={enabled:e.enabled,type:e.type,source:e.source},e.roles&&(r=this.store.getState(Ao),n.roles=e.roles.map((function(e){return r[e]}))),t.next=4,this.sdk.changeMultiTrackState(n);case 4:case"end":return t.stop()}}),t,this)})))}},{key:"setLogLevel",value:function(e){Ko.level=e,this.sdk.setLogLevel(e)}},{key:"resetState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"resetState";this.setState((function(e){Object.assign(e,za())}),e),this.isRoomJoinCalled=!1,this.hmsSDKTracks={},Ko.cleanUp()}},{key:"sdkJoinWithListeners",value:function(e){this.sdk.join(e,{onJoin:this.onJoin.bind(this),onRoomUpdate:this.onRoomUpdate.bind(this),onPeerUpdate:this.onPeerUpdate.bind(this),onTrackUpdate:this.onTrackUpdate.bind(this),onMessageReceived:this.onMessageReceived.bind(this),onError:this.onError.bind(this),onReconnected:this.onReconnected.bind(this),onReconnecting:this.onReconnecting.bind(this),onRoleChangeRequest:this.onRoleChangeRequest.bind(this),onRoleUpdate:this.onRoleUpdate.bind(this),onDeviceChange:this.onDeviceChange.bind(this),onChangeTrackStateRequest:this.onChangeTrackStateRequest.bind(this),onChangeMultiTrackStateRequest:this.onChangeMultiTrackStateRequest.bind(this),onRemovedFromRoom:this.onRemovedFromRoom.bind(this)}),this.sdk.addAudioListener({onAudioLevelUpdate:this.onAudioLevelUpdate.bind(this)})}},{key:"onRemovedFromRoom",value:function(e){var t,n=this.store.getState(Qo(null==(t=e.requestedBy)?void 0:t.peerId));this.hmsNotifications.sendLeaveRoom(La(Na({},e),{requestedBy:n||void 0}));var r=e.roomEnded||!n?"roomEnded":"removedFromRoom";Ko.i("resetting state after peer removed ".concat(r),e),this.resetState(r)}},{key:"onDeviceChange",value:function(e){var t=this,n=e.devices;if(n){var r=this.store.getState(vo);if(this.setState((function(e){Ja(e.devices.audioInput,n.audioInput)||(e.devices.audioInput=n.audioInput),Ja(e.devices.videoInput,n.videoInput)||(e.devices.videoInput=n.videoInput),Ja(e.devices.audioOutput,n.audioOutput)||(e.devices.audioOutput=n.audioOutput),t.hmsSDKPeers[null==r?void 0:r.id]&&Object.assign(e.settings,t.getMediaSettings(t.hmsSDKPeers[null==r?void 0:r.id]))}),"deviceChange"),e.selection){var i=Qa.convertDeviceChangeUpdate(e);this.hmsNotifications.sendDeviceChange(i)}}}},{key:"sdkPreviewWithListeners",value:function(e){return Ma(this,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sdk.preview(e,{onPreview:this.onPreview.bind(this),onError:this.onError.bind(this),onDeviceChange:this.onDeviceChange.bind(this),onRoomUpdate:this.onRoomUpdate.bind(this),onPeerUpdate:this.onPeerUpdate.bind(this)});case 2:this.sdk.addAudioListener({onAudioLevelUpdate:this.onAudioLevelUpdate.bind(this)});case 3:case"end":return t.stop()}}),t,this)})))}},{key:"startScreenShare",value:function(e){return Ma(this,null,p().mark((function t(){var n=this;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.store.getState(Eo)){t.next=4;break}this.logPossibleInconsistency("start screenshare is called while it's on"),t.next=7;break;case 4:return t.next=6,this.sdk.startScreenShare((function(){return n.syncRoomState("screenshareStopped")}),e);case 6:this.syncRoomState("startScreenShare");case 7:case"end":return t.stop()}}),t,this)})))}},{key:"stopScreenShare",value:function(){return Ma(this,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.getState(Eo)){e.next=6;break}return e.next=3,this.sdk.stopScreenShare();case 3:this.syncRoomState("stopScreenShare"),e.next=7;break;case 6:this.logPossibleInconsistency("stop screenshare is called while it's not on");case 7:case"end":return e.stop()}}),e,this)})))}},{key:"attachVideoInternal",value:function(e,t){return Ma(this,null,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=this.hmsSDKTracks[e])||"video"!==r.type){n.next=7;break}return n.next=4,r.addSink(t);case 4:this.updateVideoLayer(e,"attachVideo"),n.next=8;break;case 7:this.logPossibleInconsistency("no video track found to add sink");case 8:case"end":return n.stop()}}),n,this)})))}},{key:"syncRoomState",value:function(e){var t=this;Ko.time("store-sync-".concat(e));var n,r={},i=[],a={},o={},s={},c=f(this.sdk.getPeers());try{for(c.s();!(n=c.n()).done;){var u=n.value,l=Qa.convertPeer(u);r[l.id]=l,i.push(l.id),this.hmsSDKPeers[l.id]=u;var d,h=f([u.audioTrack,u.videoTrack].concat(g(u.auxiliaryTracks)));try{for(h.s();!(d=h.n()).done;){var p=d.value;if(p){var v=Qa.convertTrack(p);a[v.id]=v,o[p.trackId]=p}}}catch(b){h.e(b)}finally{h.f()}l.isLocal&&Object.assign(s,this.getMediaSettings(u))}}catch(b){c.e(b)}finally{c.f()}var m=this.sdk.getRecordingState(),y=this.sdk.getRTMPState(),k=this.sdk.getHLSState();this.setState((function(e){e.room.peers=i;var n=e.peers,c=e.tracks;(function(e,t){var n,r=f(Ya(Object.keys(e),Object.keys(t)));try{for(r.s();!(n=r.n()).done;){var i=n.value,a=e[i],o=t[i];Ka(a,o)?(Ja(a.auxiliaryTracks,o.auxiliaryTracks)&&(o.auxiliaryTracks=a.auxiliaryTracks),Object.assign(a,o)):Wa(a,o)?delete e[i]:qa(a,o)&&(e[i]=o)}}catch(b){r.e(b)}finally{r.f()}})(n,r),function(e,t){var n,r=f(Ya(Object.keys(e),Object.keys(t)));try{for(r.s();!(n=r.n()).done;){var i=n.value,a=e[i],o=t[i];Ka(a,o)?(Ha(a,o),Object.assign(a,o)):Wa(a,o)?delete e[i]:qa(a,o)&&(e[i]=o)}}catch(b){r.e(b)}finally{r.f()}}(c,a),Object.assign(e.settings,s),t.hmsSDKTracks=o,Object.assign(e.roles,Qa.convertRoles(t.sdk.getRoles())),Object.assign(e.playlist,Qa.convertPlaylist(t.sdk.getPlaylistManager())),Object.assign(e.room,Qa.convertRecordingStreamingState(m,y,k))}),e),Ko.timeEnd("store-sync-".concat(e))}},{key:"onPreview",value:function(e){this.setState((function(t){Object.assign(t.room,Qa.convertRoom(e)),t.room.roomState=Ca.Preview}),"previewStart"),this.syncRoomState("previewSync")}},{key:"onJoin",value:function(e){var t=this,n=this.sdk.getPlaylistManager();this.audioPlaylist=new ds(n,Va.audio,this.syncPlaylistState.bind(this),this.store),this.videoPlaylist=new ds(n,Va.video,this.syncRoomState.bind(this),this.store),this.syncRoomState("joinSync"),this.setState((function(t){Object.assign(t.room,Qa.convertRoom(e)),t.room.isConnected=!0,t.room.roomState=Ca.Connected}),"joined"),n.onProgress(this.setProgress),n.onNewTrackStart((function(e){t.syncPlaylistState("".concat(e.type,"PlaylistUpdate"))})),n.onPlaylistEnded((function(e){t.syncPlaylistState("".concat(e,"PlaylistEnded"))})),n.onCurrentTrackEnded((function(e){t.hmsNotifications.sendPlaylistTrackEnded(Qa.convertPlaylistItem(n,e)),t.syncPlaylistState("".concat(e.type,"PlaylistItemEnded"))}))}},{key:"onRoomUpdate",value:function(e,t){this.setState((function(e){Object.assign(e.room,Qa.convertRoom(t))}),"RoomUpdate")}},{key:"onPeerUpdate",value:function(e,t){if(![Cn.BECAME_DOMINANT_SPEAKER,Cn.RESIGNED_DOMINANT_SPEAKER].includes(e)){if(Array.isArray(t)){this.syncRoomState("peersJoined");var n,r=[],i=f(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=this.store.getState(Qo(a.peerId));o&&r.push(o)}}catch(s){i.e(s)}finally{i.f()}return void this.hmsNotifications.sendPeerList(r)}this.sendPeerUpdateNotification(e,t)}}},{key:"onTrackUpdate",value:function(e,t,n){if(e===Pn.TRACK_REMOVED)this.hmsNotifications.sendTrackUpdate(e,t.trackId),this.handleTrackRemove(t,n);else{var r=e===Pn.TRACK_ADDED?"trackAdded":"trackUpdate";this.syncRoomState(r),this.hmsNotifications.sendTrackUpdate(e,t.trackId)}}},{key:"onMessageReceived",value:function(e){var t=Qa.convertMessage(e);t.read=!1,this.onHMSMessage(t),this.hmsNotifications.sendMessageReceived(t)}},{key:"onHMSMessage",value:function(e){var t=this;this.setState((function(n){e.id=String(t.store.getState(Co)+1),n.messages.byID[e.id]=e,n.messages.allIDs.push(e.id)}),"newMessage")}},{key:"onAudioLevelUpdate",value:function(e){this.setState((function(t){var n={};e.forEach((function(e){if(e.track&&e.peer){var r=e.track.trackId;n[r]=e.audioLevel,t.speakers[r]||(t.speakers[r]={audioLevel:e.audioLevel,peerID:e.peer.peerId,trackID:r})}}));for(var r=0,i=Object.entries(t.speakers);r<i.length;r++){var a=v(i[r],2),o=a[0],s=a[1];s.audioLevel=n[o]||0,0===s.audioLevel&&delete t.speakers[o]}}),"audioLevel")}},{key:"onChangeTrackStateRequest",value:function(e){var t,n=this.store.getState(Qo(null==(t=e.requestedBy)?void 0:t.peerId)),r=this.getStoreLocalTrackIDfromSDKTrack(e.track),i=this.store.getState($o(r));if(!i)return this.logPossibleInconsistency("Not found track for which track state change was requested, ".concat(e.track));e.enabled||this.syncRoomState("changeTrackStateRequest"),this.hmsNotifications.sendChangeTrackStateRequest({requestedBy:n||void 0,track:i,enabled:e.enabled})}},{key:"onChangeMultiTrackStateRequest",value:function(e){var t,n=this.store.getState(Qo(null==(t=e.requestedBy)?void 0:t.peerId));e.enabled||this.syncRoomState("changeMultiTrackStateRequest");var r,i=[],a=this.store.getState(uo),o=f(e.tracks);try{for(o.s();!(r=o.n()).done;){var s=r.value,c=this.getStoreLocalTrackIDfromSDKTrack(s);c&&a[c]&&i.push(a[c])}}catch(u){o.e(u)}finally{o.f()}this.hmsNotifications.sendChangeMultiTrackStateRequest({requestedBy:n||void 0,tracks:i,enabled:e.enabled,type:e.type,source:e.source})}},{key:"onReconnected",value:function(){this.syncRoomState("reconnectedSync"),this.hmsNotifications.sendReconnected(),this.setState((function(e){e.room.roomState=Ca.Connected}),"reconnected")}},{key:"onReconnecting",value:function(e){var t=Qa.convertException(e);Ko.e("Reconnection: received error from sdk",t),this.hmsNotifications.sendReconnecting(t),this.setState((function(e){e.room.roomState=Ca.Reconnecting,e.errors.push(t)}),"reconnecting")}},{key:"onError",value:function(e){var t=Qa.convertException(e);t.isTerminal?(this.leave().then((function(){return Ko.e("error from SDK, left room.")})),this.setState((function(e){e.room.roomState=Ca.Failed,e.errors.push(t)}),"errorTerminal")):this.store.getState().errors.length<50&&this.setState((function(e){e.errors.push(t)}),"error"),this.hmsNotifications.sendError(t),Ko.e("received error from sdk",t)}},{key:"updateVideoLayer",value:function(e,t){var n=this.hmsSDKTracks[e];n&&n instanceof rr&&this.setState((function(t){t.tracks[e].layer=n.getSimulcastLayer()}),t)}},{key:"handleTrackRemove",value:function(e,t){var n=this;this.setState((function(r){var i=r.peers[t.peerId],a=r.tracks,o=e.trackId;if(n.isSameStoreSDKTrack(o,null==i?void 0:i.audioTrack))null==i||delete i.audioTrack;else if(n.isSameStoreSDKTrack(o,null==i?void 0:i.videoTrack))null==i||delete i.videoTrack;else{var s=null==i?void 0:i.auxiliaryTracks.indexOf(o);s>-1&&n.isSameStoreSDKTrack(o,null==i?void 0:i.auxiliaryTracks[s])&&(null==i||i.auxiliaryTracks.splice(s,1))}delete a[o],delete n.hmsSDKTracks[o]}),"trackRemoved")}},{key:"setEnabledSDKTrack",value:function(e,t){return Ma(this,null,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=this.hmsSDKTracks[e])){n.next=6;break}return n.next=4,r.setEnabled(t);case 4:n.next=7;break;case 6:this.logPossibleInconsistency("track ".concat(e," not present, unable to enabled/disable"));case 7:case"end":return n.stop()}}),n,this)})))}},{key:"setSDKLocalVideoTrackSettings",value:function(e,t){return Ma(this,null,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=this.hmsSDKTracks[e])){n.next=6;break}return n.next=4,r.setSettings(t);case 4:n.next=7;break;case 6:this.logPossibleInconsistency("local track ".concat(e," not present, unable to set settings"));case 7:case"end":return n.stop()}}),n,this)})))}},{key:"setSDKLocalAudioTrackSettings",value:function(e,t){return Ma(this,null,p().mark((function n(){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=this.hmsSDKTracks[e])){n.next=6;break}return n.next=4,r.setSettings(t);case 4:n.next=7;break;case 6:this.logPossibleInconsistency("local track ".concat(e," not present, unable to set settings"));case 7:case"end":return n.stop()}}),n,this)})))}},{key:"getMediaSettings",value:function(e){var t,n=this.store.getState(lo),r=e.audioTrack,i=e.videoTrack;return{audioInputDeviceId:(null==r?void 0:r.settings.deviceId)||n.audioInputDeviceId,videoInputDeviceId:(null==i?void 0:i.settings.deviceId)||n.videoInputDeviceId,audioOutputDeviceId:null==(t=this.sdk.getAudioOutput().getDevice())?void 0:t.deviceId}}},{key:"setTrackVolume",value:function(e,t){var n=this.hmsSDKTracks[t];n?n instanceof er?(n.setVolume(e),this.setState((function(n){var r=n.tracks[t];r&&(r.volume=e)}),"trackVolume")):Ko.w("track ".concat(t," is not an audio track")):this.logPossibleInconsistency("track ".concat(t," not present, unable to set volume"))}},{key:"localAndVideoUnmuting",value:function(e){if(this.store.getState(vo).videoTrack!==e)return!1;var t=this.store.getState(To),n=this.store.getState(So);return t&&!n}},{key:"logPossibleInconsistency",value:function(e){Ko.w("possible inconsistency detected - ",e)}},{key:"addRemoveVideoPlugin",value:function(e,t,n){return Ma(this,null,p().mark((function r(){var i,a;return p().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=3;break}return Ko.w("Invalid plugin received in store"),r.abrupt("return");case 3:if(!(i=this.store.getState(yo))){r.next=20;break}if(!(a=this.hmsSDKTracks[i])){r.next=19;break}if("add"!==t){r.next=12;break}return r.next=10,a.addPlugin(e,n);case 10:r.next=16;break;case 12:if(r.t0="remove"===t,!r.t0){r.next=16;break}return r.next=16,a.removePlugin(e);case 16:this.syncRoomState("".concat(t,"VideoPlugin")),r.next=20;break;case 19:this.logPossibleInconsistency("track ".concat(i," not present, unable to remove plugin"));case 20:case"end":return r.stop()}}),r,this)})))}},{key:"addRemoveAudioPlugin",value:function(e,t){return Ma(this,null,p().mark((function n(){var r,i;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=3;break}return Ko.w("Invalid plugin received in store"),n.abrupt("return");case 3:if(!(r=this.store.getState(go))){n.next=20;break}if(!(i=this.hmsSDKTracks[r])){n.next=19;break}if("add"!==t){n.next=12;break}return n.next=10,i.addPlugin(e);case 10:n.next=16;break;case 12:if(n.t0="remove"===t,!n.t0){n.next=16;break}return n.next=16,i.removePlugin(e);case 16:this.syncRoomState("".concat(t,"AudioPlugin")),n.next=20;break;case 19:this.logPossibleInconsistency("track ".concat(r," not present, unable to remove plugin"));case 20:case"end":return n.stop()}}),n,this)})))}},{key:"isSameStoreSDKTrack",value:function(e,t){var n;return!!t&&(null==(n=this.hmsSDKTracks[t])?void 0:n.trackId)===e}},{key:"onRoleChangeRequest",value:function(e){this.setState((function(t){0===t.roleChangeRequests.length&&t.roleChangeRequests.push(Qa.convertRoleChangeRequest(e))}),"roleChangeRequest")}},{key:"removeRoleChangeRequest",value:function(e){this.setState((function(t){var n=t.roleChangeRequests.findIndex((function(t){return t.token===e.token}));-1!==n&&t.roleChangeRequests.splice(n,1)}),"removeRoleChangeRequest")}},{key:"onRoleUpdate",value:function(){this.syncRoomState("roleUpdate")}},{key:"getStoreLocalTrackIDfromSDKTrack",value:function(e){var t=this;return this.store.getState(bo).find((function(n){return t.hmsSDKTracks[n].trackId===e.trackId}))}}]),e}(),ms="hmsNotification",gs=function(){function e(t){var n=this;s(this,e),this.id=0,this.onNotification=function(e){return n.eventEmitter.addListener(ms,e),function(){n.eventEmitter.removeListener(ms,e)}},this.store=t,this.eventEmitter=new qt.EventEmitter2}return u(e,[{key:"sendPlaylistTrackEnded",value:function(e){var t=this.createNotification(Fa.PLAYLIST_TRACK_ENDED,e,ja.INFO);this.emitEvent(t)}},{key:"sendDeviceChange",value:function(e){var t,n=this.createNotification(Fa.DEVICE_CHANGE_UPDATE,e,e.error?ja.ERROR:ja.INFO,"Selected ".concat(e.type," device - ").concat(null==(t=e.selection)?void 0:t.label));this.emitEvent(n)}},{key:"sendLeaveRoom",value:function(e){var t,n=null==(t=e.requestedBy)?void 0:t.name,r=this.createNotification(e.roomEnded||!n?Fa.ROOM_ENDED:Fa.REMOVED_FROM_ROOM,e,ja.INFO,"".concat(e.roomEnded?"Room ended":"Removed from room"," ").concat(n?"by ".concat(n):""));this.emitEvent(r)}},{key:"sendPeerList",value:function(e){var t=this.createNotification(Fa.PEER_LIST,e,ja.INFO);this.emitEvent(t)}},{key:"sendPeerUpdate",value:function(e,t){var n=this.store.getState(Qo(null==t?void 0:t.id))||t,r=fs[e];if(r){var i=this.createNotification(r,n,ja.INFO);this.emitEvent(i)}}},{key:"sendTrackUpdate",value:function(e,t){var n=this.store.getState($o(t)),r=hs[e];if(r){var i=this.createNotification(r,n,ja.INFO);this.emitEvent(i)}}},{key:"sendMessageReceived",value:function(e){var t=this.createNotification(Fa.NEW_MESSAGE,e,ja.INFO);this.emitEvent(t)}},{key:"sendError",value:function(e){var t=this.createNotification(Fa.ERROR,e,ja.ERROR);this.emitEvent(t)}},{key:"sendReconnecting",value:function(e){var t=this.createNotification(Fa.RECONNECTING,e,ja.ERROR);this.emitEvent(t)}},{key:"sendReconnected",value:function(){var e=this.createNotification(Fa.RECONNECTED,null,ja.INFO);this.emitEvent(e)}},{key:"sendChangeTrackStateRequest",value:function(e){var t=this.createNotification(Fa.CHANGE_TRACK_STATE_REQUEST,e,ja.INFO);this.emitEvent(t)}},{key:"sendChangeMultiTrackStateRequest",value:function(e){var t=this.createNotification(Fa.CHANGE_MULTI_TRACK_STATE_REQUEST,e,ja.INFO);this.emitEvent(t)}},{key:"emitEvent",value:function(e){this.eventEmitter.emit(ms,e)}},{key:"createNotification",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return this.id++,{id:this.id,type:e,message:r,data:t,severity:n}}}]),e}(),ys=function(e){return cr?"".concat(e," ").concat(document.title):e},ks=function(e,t,n){var r,i=bs(n,t),a=null==(r=e.getWebrtcInternals())?void 0:r.onStatsChange((function(e){return ws(t,e,n)}));return function(){i(),a&&a()}},bs=function(e,t){var n,r,i;return e.getState(mo)?t.namedSetState((function(t){t.localPeer.id=e.getState(mo)}),"localpeer-id"):n=e.subscribe((function(e){e&&t.namedSetState((function(t){t.localPeer.id=e}),"localpeer-id")}),mo),e.getState(yo)?t.namedSetState((function(t){t.localPeer.videoTrack=e.getState(yo)}),"localpeer-videotrack-id"):r=e.subscribe((function(e){e&&t.namedSetState((function(t){t.localPeer.videoTrack=e}),"localpeer-videotrack-id")}),yo),e.getState(go)?t.namedSetState((function(t){t.localPeer.videoTrack=e.getState(go)}),"localpeer-audiotrack-id"):i=e.subscribe((function(e){e&&t.namedSetState((function(t){t.localPeer.videoTrack=e}),"localpeer-audiotrack-id")}),go),function(){null==n||n(),null==r||r(),null==i||i()}},ws=function(e,t,n){var r=n.getState(uo);e.namedSetState((function(e){for(var i={},a=0,o=Object.keys(r);a<o.length;a++){var s=o[a],c=t.getTrackStats(s);c&&(i[s]=c)}Ba(e.trackStats,i);var u=m({},n.getState(mo),t.getLocalPeerStats());Ba(e.peerStats,u)}),"webrtc-stats")},Ss=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"resetState";e.namedSetState((function(e){Object.assign(e,{peerStats:{},trackStats:{},localPeer:{id:""}})}),t)},Ts=u((function e(t,n){var r=this;s(this,e),this.hmsStore=t,this.sdk=n,this.store=Is.createNewHMSStore(ys("HMSStatsStore"),Ga),this.getState=this.store.getState,this.subscribe=this.store.subscribe,this.getPublishPeerConnection=function(){return new Promise((function(e){var t,n;"Connected"===r.hmsStore.getState(Ro)?e(null==(n=null==(t=r.sdk)?void 0:t.getWebrtcInternals())?void 0:n.getPublishPeerConnection()):r.hmsStore.subscribe((function(t){var n,i;"Connected"===t&&e(null==(i=null==(n=r.sdk)?void 0:n.getWebrtcInternals())?void 0:i.getPublishPeerConnection())}),Ro)}))},this.getSubscribePeerConnection=function(){return new Promise((function(e){var t,n;"Connected"===r.hmsStore.getState(Ro)?e(null==(n=null==(t=r.sdk)?void 0:t.getWebrtcInternals())?void 0:n.getSubscribePeerConnection()):r.hmsStore.subscribe((function(t){var n,i;"Connected"===t&&e(null==(i=null==(n=r.sdk)?void 0:n.getWebrtcInternals())?void 0:i.getSubscribePeerConnection())}),Ro)}))},this.sdk&&function(e,t,n){var r;n.getState(Ro)===Ca.Connected&&(r=ks(e,t,n)),n.subscribe((function(i){[Ca.Connected,Ca.Reconnecting].includes(i)?r||(r=ks(e,t,n)):r&&(Ss(t),r())}),Ro)}(this.sdk,this.store,this.hmsStore)})),Es=function(e){return e.trackStats},xs=function(e){return e.peerStats},Cs=xa([xs,function(e){return e.localPeer.id}],(function(e,t){return e[t]})),Ps=(xa(Cs,(function(e){var t;return null==(t=null==e?void 0:e.subscribe)?void 0:t.packetsLost})),xa(Cs,(function(e){var t;return null==(t=null==e?void 0:e.subscribe)?void 0:t.jitter})),xa(Cs,(function(e){var t;return null==(t=null==e?void 0:e.publish)?void 0:t.bitrate})),xa(Cs,(function(e){var t;return null==(t=null==e?void 0:e.subscribe)?void 0:t.bitrate})),xa(Cs,(function(e){var t;return null==(t=null==e?void 0:e.publish)?void 0:t.availableOutgoingBitrate})),xa(Cs,(function(e){var t;return null==(t=null==e?void 0:e.subscribe)?void 0:t.availableIncomingBitrate})),xa(Cs,(function(e){var t;return null==(t=null==e?void 0:e.publish)?void 0:t.bytesSent})),xa(Cs,(function(e){var t;return null==(t=null==e?void 0:e.subscribe)?void 0:t.bytesReceived})),xa([xs,function(e,t){return t}],(function(e,t){return t?e[t]:void 0}))),Rs=xa([Es,function(e,t){return t}],(function(e,t){return t?e[t]:void 0})),_s=(Bo(Ps),Bo(Rs),Bo(xa(Rs,(function(e){return null==e?void 0:e.bitrate}))),Bo(xa(Rs,(function(e){return null==e?void 0:e.bytesReceived}))),Bo(xa(Rs,(function(e){return null==e?void 0:e.framesPerSecond}))),Bo(xa(Rs,(function(e){return null==e?void 0:e.jitter}))),Bo(xa(Rs,(function(e){return null==e?void 0:e.packetsLost}))),xa([Es,function(e){return e.localPeer.audioTrack}],(function(e,t){return t?e[t]:void 0}))),As=xa([Es,function(e){return e.localPeer.videoTrack}],(function(e,t){return t?e[t]:void 0})),Is=(xa(_s,(function(e){return null==e?void 0:e.bitrate})),xa(As,(function(e){return null==e?void 0:e.bitrate})),xa(_s,(function(e){return null==e?void 0:e.bytesSent})),xa(As,(function(e){return null==e?void 0:e.bytesSent})),xa(As,(function(e){return null==e?void 0:e.framesPerSecond})),xa(As,(function(e){return null==e?void 0:e.qualityLimitationReason})),function(){function e(t,n,r){var i=this;s(this,e),this.getStats=function(){return i.stats||(i.stats=new Ts(i.store,i.sdk)),i.stats},this.store=t||e.createNewHMSStore(ys("HMSStore"),za),this.notifications=r||new gs(this.store),n?this.actions=n:(this.sdk=new ya,this.actions=new vs(this.store,this.sdk,this.notifications)),this.initialTriggerOnSubscribe=!1,cr&&(window.__hms=this)}return u(e,[{key:"triggerOnSubscribe",value:function(){this.initialTriggerOnSubscribe||(e.makeStoreTriggerOnSubscribe(this.store),this.initialTriggerOnSubscribe=!0)}},{key:"getStore",value:function(){return this.store}},{key:"getHMSActions",value:function(){return this.actions}},{key:"getActions",value:function(){return this.actions}},{key:"getNotifications",value:function(){return{onNotification:this.notifications.onNotification}}}],[{key:"createNewHMSStore",value:function(t,n){var r=ge((function(){return n()})),i=r.setState;r.setState=function(e){var t="function"==typeof e?me(e):e;i(t)};var a=r.getState;r.getState=function(e){if(e){var t=e.name||"byIDSelector";window.selectorsCount||(window.selectorsCount={}),window.selectorsCount[t]=(window.selectorsCount[t]||0)+1;var n=performance.now(),r=e(a()),i=performance.now()-n;return i>1&&(window.expensiveSelectors=window.expensiveSelectors||new Map,window.expensiveSelectors.set(t,i)),r}return a()},e.compareWithShallowCheckInSubscribe(r);var o=e.setUpDevtools(r,t);return La(Na({},r),{namedSetState:o})}},{key:"makeStoreTriggerOnSubscribe",value:function(e){var t=e.subscribe;e.subscribe=function(n,r,i){return n(e.getState(r),void 0),t(n,r,i)}}},{key:"compareWithShallowCheckInSubscribe",value:function(e){var t=e.subscribe;e.subscribe=function(e,n,r){return n||(n=function(e){return e}),t(e,n,r=r||ye)}}},{key:"setUpDevtools",value:function(t,n){var r;try{r=window.__REDUX_DEVTOOLS_EXTENSION__||window.top.__REDUX_DEVTOOLS_EXTENSION__}catch(E){}if(!r)return function(e){t.setState(e)};var i=r.connect(e.devtoolsOptions(n));i.prefix=n?"".concat(n," > "):"";var a=t.setState;return t.setState=function(e){a(e),i.send("".concat(i.prefix,"setState"),t.getState())},i.subscribe(e.devtoolsSubscribe(i,t,a)),i.send("setUpStore",t.getState()),function(e,n){a(e);var r=n||"".concat(i.prefix,"action");i.send(r,t.getState())}}},{key:"devtoolsOptions",value:function(e){return{name:e,actionsBlacklist:["audioLevel","playlistProgress"]}}},{key:"devtoolsSubscribe",value:function(e,t,n){return function(r){var i,a,o,s;if("DISPATCH"===r.type&&r.state)["JUMP_TO_ACTION","JUMP_TO_STATE"].includes(r.payload.type)?n(JSON.parse(r.state)):t.setState(JSON.parse(r.state));else if("DISPATCH"===r.type&&"COMMIT"===(null==(i=r.payload)?void 0:i.type))e.init(t.getState());else if("DISPATCH"===r.type&&"IMPORT_STATE"===(null==(a=r.payload)?void 0:a.type)){var c=null==(o=r.payload.nextLiftedState)?void 0:o.actionsById;((null==(s=r.payload.nextLiftedState)?void 0:s.computedStates)||[]).forEach((function(r,i){var a=r.state,o=c[i]||"".concat(e.prefix,"setState");0===i?e.init(a):(n(a),e.send(o,t.getState()))}))}}}}]),e}());function Os(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var o=r(t);function s(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(s),function(){return n.delete(s)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}var Ds="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?a.useEffect:a.useLayoutEffect;function Ns(e){var t="function"===typeof e?Os(e):e,n=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,i=(0,a.useReducer)((function(e){return e+1}),0),o=v(i,2),s=o[1],c=t.getState(),u=(0,a.useRef)(c),l=(0,a.useRef)(n),d=(0,a.useRef)(r),f=(0,a.useRef)(!1),h=(0,a.useRef)();void 0===h.current&&(h.current=n(c));var p=!1;(u.current!==c||l.current!==n||d.current!==r||f.current)&&(e=n(c),p=!r(h.current,e)),Ds((function(){p&&(h.current=e),u.current=c,l.current=n,d.current=r,f.current=!1}));var m=(0,a.useRef)(c);Ds((function(){var e=function(){try{var e=t.getState(),n=l.current(e);d.current(h.current,n)||(u.current=e,h.current=n,s())}catch(r){f.current=!0,s()}},n=t.subscribe(e);return t.getState()!==m.current&&e(),n}),[]);var g=p?e:h.current;return(0,a.useDebugValue)(g),g};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[n,t];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},n}function Ls(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function Ms(){return Ms=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ms.apply(this,arguments)}function Us(e,t){return Us=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Us(e,t)}var js=new Map,Fs=new WeakMap,Vs=0,zs=void 0;function Gs(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return t+"_"+("root"===t?(n=e.root)?(Fs.has(n)||(Vs+=1,Fs.set(n,Vs.toString())),Fs.get(n)):"0":e[t]);var n})).toString()}function Bs(e,t,n,r){if(void 0===n&&(n={}),void 0===r&&(r=zs),"undefined"===typeof window.IntersectionObserver&&void 0!==r){var i=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof n.threshold?n.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var a=function(e){var t=Gs(e),n=js.get(t);if(!n){var r,i=new Map,a=new IntersectionObserver((function(t){t.forEach((function(t){var n,a=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=a),null==(n=i.get(t.target))||n.forEach((function(e){e(a,t)}))}))}),e);r=a.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:a,elements:i},js.set(t,n)}return n}(n),o=a.id,s=a.observer,c=a.elements,u=c.get(e)||[];return c.has(e)||c.set(e,u),u.push(t),s.observe(e),function(){u.splice(u.indexOf(t),1),0===u.length&&(c.delete(e),s.unobserve(e)),0===c.size&&(s.disconnect(),js.delete(o))}}var Hs=["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function Ks(e){return"function"!==typeof e.children}var Ws=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){n.node&&(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),Ks(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Us(t,n);var i=r.prototype;return i.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},i.componentWillUnmount=function(){this.unobserve(),this.node=null},i.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin,i=e.trackVisibility,a=e.delay,o=e.fallbackInView;this._unobserveCb=Bs(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r,trackVisibility:i,delay:a},o)}},i.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},i.render=function(){if(!Ks(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var r=this.props,i=r.children,o=r.as,s=r.tag,c=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(r,Hs);return a.createElement(o||s||"div",Ms({ref:this.handleNode},c),i)},r}(a.Component);Ws.displayName="InView",Ws.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};var qs,Js=Object.defineProperty,Ys=Object.defineProperties,Qs=Object.getOwnPropertyDescriptors,$s=Object.getOwnPropertySymbols,Xs=Object.prototype.hasOwnProperty,Zs=Object.prototype.propertyIsEnumerable,ec=function(e,t,n){return t in e?Js(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},tc=function(e,t){for(var n in t||(t={}))Xs.call(t,n)&&ec(e,n,t[n]);if($s){var r,i=f($s(t));try{for(i.s();!(r=i.n()).done;){n=r.value;Zs.call(t,n)&&ec(e,n,t[n])}}catch(a){i.e(a)}finally{i.f()}}return e},nc=function(e,t){return Ys(e,Qs(t))},rc=function(e,t,n){return new Promise((function(r,i){var a=function(e){try{s(n.next(e))}catch(T){i(T)}},o=function(e){try{s(n.throw(e))}catch(T){i(T)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(a,o)};s((n=n.apply(e,t)).next())}))};!function(e){e[e.VERBOSE=0]="VERBOSE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.NONE=5]="NONE"}(qs||(qs={}));var ic=function(){function e(){s(this,e)}return u(e,null,[{key:"v",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log.apply(this,[0,e].concat(n))}},{key:"d",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log.apply(this,[1,e].concat(n))}},{key:"i",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log.apply(this,[2,e].concat(n))}},{key:"w",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log.apply(this,[3,e].concat(n))}},{key:"e",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.log.apply(this,[4,e].concat(n))}},{key:"log",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!(this.level.valueOf()>e.valueOf()))switch(e){case 0:var a;(a=console).log.apply(a,["HMSui-components: ",t].concat(r));break;case 1:var o;(o=console).debug.apply(o,["HMSui-components: ",t].concat(r));break;case 2:var s;(s=console).info.apply(s,["HMSui-components: ",t].concat(r));break;case 3:var c;(c=console).warn.apply(c,["HMSui-components: ",t].concat(r));break;case 4:var u;(u=console).error.apply(u,["HMSui-components: ",t].concat(r))}}}]),e}();ic.level=0;var ac="It seems like you forgot to add your component within a top level HMSRoomProvider, please refer to 100ms react docs(https://docs.100ms.live/javascript/v2/features/integration#react-hooks) to check on the required steps for using this hook.";var oc,sc="undefined"!=typeof window,cc=(0,a.createContext)(null),uc=function(e){var t=e.children,n=e.actions,r=e.store,i=e.notifications,o=e.stats,s=e.isHMSStatsOn,c=void 0!==s&&s;if(!oc){var u=function(){throw new Error("modifying store is not allowed")};if(n&&r)oc={actions:n,store:Ns(nc(tc({},r),{setState:u,destroy:u}))},i&&(oc.notifications=i),o&&(oc.statsStore=Ns({getState:o.getState,subscribe:o.subscribe,setState:u,destroy:u}));else{var l=new Is;if(oc={actions:l.getActions(),store:Ns(nc(tc({},l.getStore()),{setState:u,destroy:u})),notifications:l.getNotifications()},c){var d=l.getStats();oc.statsStore=Ns({getState:d.getState,subscribe:d.subscribe,setState:u,destroy:u})}}}return(0,a.useEffect)((function(){sc&&(window.addEventListener("beforeunload",(function(){return oc.actions.leave()})),window.addEventListener("onunload",(function(){return oc.actions.leave()})))}),[]),a.createElement(cc.Provider,{value:oc},t)},lc=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ls;t||ic.w("fetching full store without passing any selector may have a heavy performance impact on your website.");var r=(0,a.useContext)(e);if(!r)throw new Error(ac);return r.store(t,n)}}(cc),dc=(function(e){}(cc),function(){var e=(0,a.useContext)(cc);if(!e)throw new Error(ac);return e.actions}),fc=function(e,t){return ic.e("react-sdk",t,e)},hc=function(e){var t=e.trackId,n=e.attach,r=dc(),i=(0,a.useRef)(null),o=lc($o(t)),s=function(e){var t=void 0===e?{}:e,n=t.threshold,r=t.delay,i=t.trackVisibility,o=t.rootMargin,s=t.root,c=t.triggerOnce,u=t.skip,l=t.initialInView,d=t.fallbackInView,f=a.useRef(),h=a.useState({inView:!!l}),p=h[0],v=h[1],m=a.useCallback((function(e){void 0!==f.current&&(f.current(),f.current=void 0),u||e&&(f.current=Bs(e,(function(e,t){v({inView:e,entry:t}),t.isIntersecting&&c&&f.current&&(f.current(),f.current=void 0)}),{root:s,rootMargin:o,threshold:n,trackVisibility:i,delay:r},d))}),[Array.isArray(n)?n.toString():n,s,o,c,u,i,d,r]);(0,a.useEffect)((function(){f.current||!p.entry||c||u||v({inView:!!l})}));var g=[m,p.inView,p.entry];return g.ref=g[0],g.inView=g[1],g.entry=g[2],g}({threshold:.5}),c=s.ref,u=s.inView,l=(0,a.useCallback)((function(e){i.current=e,c(e)}),[c]);return(0,a.useEffect)((function(){rc(void 0,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.current&&(null==o?void 0:o.id),!e.t0){e.next=9;break}if(!u||!o.enabled||!1===n){e.next=7;break}return e.next=5,r.attachVideo(o.id,i.current);case 5:e.next=9;break;case 7:return e.next=9,r.detachVideo(o.id,i.current);case 9:case"end":return e.stop()}}),e)})))}),[r,u,i,null==o?void 0:o.id,null==o?void 0:o.enabled,null==o?void 0:o.deviceID,null==o?void 0:o.plugins,n]),(0,a.useEffect)((function(){return function(){rc(void 0,null,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.current||!o){e.next=9;break}return e.prev=1,e.next=4,r.detachVideo(o.id,i.current);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),ic.w("detach video error for track",o.id,e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))}}),[]),{videoRef:l}};var pc;!function(e){e.videoInput="videoInput",e.audioInput="audioInput",e.audioOutput="audioOutput"}(pc||(pc={}));function vc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vc(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gc=n(184);var yc=function(){var e=dc(),t=v((0,a.useState)({name:"",token:""}),2),n=t[0],r=t[1],i=function(e){r((function(t){return mc(mc({},t),{},m({},e.target.name,e.target.value))}))};return(0,gc.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.join({userName:n.name,authToken:n.token})},children:[(0,gc.jsx)("h2",{className:"meeting-title",children:"Join Meeting"}),(0,gc.jsx)("div",{className:"input-container",children:(0,gc.jsx)("input",{required:!0,value:n.name,onChange:i,id:"name",type:"text",name:"name",placeholder:"Your name"})}),(0,gc.jsx)("div",{className:"input-container",children:(0,gc.jsx)("input",{required:!0,value:n.token,onChange:i,id:"token",type:"text",name:"token",placeholder:"Auth token"})}),(0,gc.jsx)("button",{className:"btn-signin",children:"Join"})]})};var kc=function(e){var t=e.peer,n=hc({trackId:t.videoTrack}).videoRef;return(0,gc.jsxs)("div",{className:"peer-container",children:[(0,gc.jsx)("video",{ref:n,className:"peer-video ".concat(t.isLocal?"local":""),autoPlay:!0,muted:!0,playsInline:!0}),(0,gc.jsxs)("div",{className:"peer-name",children:[t.name," ",t.isLocal?"(You)":""]})]})};var bc=function(){var e=lc(ho);return(0,gc.jsx)("div",{className:"room-section",children:(0,gc.jsx)("div",{className:"conference-section",children:(0,gc.jsx)("div",{className:"peers-container",children:e.map((function(e){return(0,gc.jsx)(kc,{peer:e},e.id)}))})})})};function wc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wc(Object(n),!0).forEach((function(t){xc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tc(e){return Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(e)}function Ec(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(c){s=!0,i=c}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(e,t)||Rc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pc(e){return function(e){if(Array.isArray(e))return _c(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Rc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rc(e,t){if(e){if("string"===typeof e)return _c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_c(e,t):void 0}}function _c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ac=function(){},Ic={},Oc={},Dc=null,Nc={mark:Ac,measure:Ac};try{"undefined"!==typeof window&&(Ic=window),"undefined"!==typeof document&&(Oc=document),"undefined"!==typeof MutationObserver&&(Dc=MutationObserver),"undefined"!==typeof performance&&(Nc=performance)}catch(Qd){}var Lc=(Ic.navigator||{}).userAgent,Mc=void 0===Lc?"":Lc,Uc=Ic,jc=Oc,Fc=Dc,Vc=Nc,zc=(Uc.document,!!jc.documentElement&&!!jc.head&&"function"===typeof jc.addEventListener&&"function"===typeof jc.createElement),Gc=~Mc.indexOf("MSIE")||~Mc.indexOf("Trident/"),Bc="svg-inline--fa",Hc="data-fa-i2svg",Kc="data-fa-pseudo-element",Wc="data-prefix",qc="data-icon",Jc="fontawesome-i2svg",Yc=["HTML","HEAD","STYLE","SCRIPT"],Qc=function(){try{return!0}catch(Qd){return!1}}(),$c={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},Xc={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},Zc={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},eu={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},tu=/fa[srltdbk\-\ ]/,nu="fa-layers-text",ru=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,iu={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},au=[1,2,3,4,5,6,7,8,9,10],ou=au.concat([11,12,13,14,15,16,17,18,19,20]),su=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],cu="duotone-group",uu="swap-opacity",lu="primary",du="secondary",fu=[].concat(Pc(Object.keys(Xc)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",cu,uu,lu,du]).concat(au.map((function(e){return"".concat(e,"x")}))).concat(ou.map((function(e){return"w-".concat(e)}))),hu=Uc.FontAwesomeConfig||{};if(jc&&"function"===typeof jc.querySelector){[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(e){var t=Cc(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=jc.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(hu[r]=i)}))}var pu=Sc(Sc({},{familyPrefix:"fa",styleDefault:"solid",replacementClass:Bc,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0}),hu);pu.autoReplaceSvg||(pu.observeMutations=!1);var vu={};Object.keys(pu).forEach((function(e){Object.defineProperty(vu,e,{enumerable:!0,set:function(t){pu[e]=t,mu.forEach((function(e){return e(vu)}))},get:function(){return pu[e]}})})),Uc.FontAwesomeConfig=vu;var mu=[];var gu=16,yu={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function ku(){for(var e=12,t="";e-- >0;)t+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return t}function bu(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function wu(e){return e.classList?bu(e.classList):(e.getAttribute("class")||"").split(" ").filter((function(e){return e}))}function Su(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Tu(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")}),"")}function Eu(e){return e.size!==yu.size||e.x!==yu.x||e.y!==yu.y||e.rotate!==yu.rotate||e.flipX||e.flipY}function xu(){var e="fa",t=Bc,n=vu.familyPrefix,r=vu.replacementClass,i=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';if(n!==e||r!==t){var a=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");i=i.replace(a,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var Cu=!1;function Pu(){vu.autoAddCss&&!Cu&&(!function(e){if(e&&zc){var t=jc.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=jc.head.childNodes,r=null,i=n.length-1;i>-1;i--){var a=n[i],o=(a.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=a)}jc.head.insertBefore(t,r)}}(xu()),Cu=!0)}var Ru={mixout:function(){return{dom:{css:xu,insertCss:Pu}}},hooks:function(){return{beforeDOMElementCreation:function(){Pu()},beforeI2svg:function(){Pu()}}}},_u=Uc||{};_u.___FONT_AWESOME___||(_u.___FONT_AWESOME___={}),_u.___FONT_AWESOME___.styles||(_u.___FONT_AWESOME___.styles={}),_u.___FONT_AWESOME___.hooks||(_u.___FONT_AWESOME___.hooks={}),_u.___FONT_AWESOME___.shims||(_u.___FONT_AWESOME___.shims=[]);var Au=_u.___FONT_AWESOME___,Iu=[],Ou=!1;function Du(e){zc&&(Ou?setTimeout(e,0):Iu.push(e))}function Nu(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,a=void 0===i?[]:i;return"string"===typeof e?Su(e):"<".concat(t," ").concat(function(e){return Object.keys(e||{}).reduce((function(t,n){return t+"".concat(n,'="').concat(Su(e[n]),'" ')}),"").trim()}(r),">").concat(a.map(Nu).join(""),"</").concat(t,">")}function Lu(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}zc&&((Ou=(jc.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(jc.readyState))||jc.addEventListener("DOMContentLoaded",(function e(){jc.removeEventListener("DOMContentLoaded",e),Ou=1,Iu.map((function(e){return e()}))})));var Mu=function(e,t,n,r){var i,a,o,s=Object.keys(e),c=s.length,u=void 0!==r?function(e,t){return function(n,r,i,a){return e.call(t,n,r,i,a)}}(t,r):t;for(void 0===n?(i=1,o=e[s[0]]):(i=0,o=n);i<c;i++)o=u(o,e[a=s[i]],a,e);return o};function Uu(e){var t=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e);return 1===t.length?t[0].toString(16):null}function ju(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{})}function Fu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,a=ju(t);"function"!==typeof Au.hooks.addPack||i?Au.styles[e]=Sc(Sc({},Au.styles[e]||{}),a):Au.hooks.addPack(e,ju(t)),"fas"===e&&Fu("fa",t)}var Vu=Au.styles,zu=Au.shims,Gu=Object.values(Zc),Bu=null,Hu={},Ku={},Wu={},qu={},Ju={},Yu=Object.keys($c);function Qu(e,t){var n,r=t.split("-"),i=r[0],a=r.slice(1).join("-");return i!==e||""===a||(n=a,~fu.indexOf(n))?null:a}var $u,Xu=function(){var e=function(e){return Mu(Vu,(function(t,n,r){return t[r]=Mu(n,e,{}),t}),{})};Hu=e((function(e,t,n){if(t[3]&&(e[t[3]]=n),t[2]){var r=t[2].filter((function(e){return"number"===typeof e}));r.forEach((function(t){e[t.toString(16)]=n}))}return e})),Ku=e((function(e,t,n){if(e[n]=n,t[2]){var r=t[2].filter((function(e){return"string"===typeof e}));r.forEach((function(t){e[t]=n}))}return e})),Ju=e((function(e,t,n){var r=t[2];return e[n]=n,r.forEach((function(t){e[t]=n})),e}));var t="far"in Vu||vu.autoFetchSvg,n=Mu(zu,(function(e,n){var r=n[0],i=n[1],a=n[2];return"far"!==i||t||(i="fas"),"string"===typeof r&&(e.names[r]={prefix:i,iconName:a}),"number"===typeof r&&(e.unicodes[r.toString(16)]={prefix:i,iconName:a}),e}),{names:{},unicodes:{}});Wu=n.names,qu=n.unicodes,Bu=rl(vu.styleDefault)};function Zu(e,t){return(Hu[e]||{})[t]}function el(e,t){return(Ju[e]||{})[t]}function tl(e){return Wu[e]||{prefix:null,iconName:null}}function nl(){return Bu}$u=function(e){Bu=rl(e.styleDefault)},mu.push($u),Xu();function rl(e){var t=Xc[e]||Xc[$c[e]],n=e in Au.styles?e:null;return t||n||null}function il(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skipLookups,r=void 0!==n&&n,i=null,a=e.reduce((function(e,t){var n=Qu(vu.familyPrefix,t);if(Vu[t]?(t=Gu.includes(t)?eu[t]:t,i=t,e.prefix=t):Yu.indexOf(t)>-1?(i=t,e.prefix=rl(t)):n?e.iconName=n:t!==vu.replacementClass&&e.rest.push(t),!r&&e.prefix&&e.iconName){var a="fa"===i?tl(e.iconName):{},o=el(e.prefix,e.iconName);a.prefix&&(i=null),e.iconName=a.iconName||o||e.iconName,e.prefix=a.prefix||e.prefix,"far"!==e.prefix||Vu.far||!Vu.fas||vu.autoFetchSvg||(e.prefix="fas")}return e}),{prefix:null,iconName:null,rest:[]});return"fa"!==a.prefix&&"fa"!==i||(a.prefix=nl()||"fas"),a}var al=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.definitions={}}var t,n,r;return t=e,n=[{key:"add",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(t){e.definitions[t]=Sc(Sc({},e.definitions[t]||{}),i[t]),Fu(t,i[t]);var n=Zc[t];n&&Fu(n,i[t]),Xu()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map((function(t){var r=n[t],i=r.prefix,a=r.iconName,o=r.icon,s=o[2];e[i]||(e[i]={}),s.length>0&&s.forEach((function(t){"string"===typeof t&&(e[i][t]=o)})),e[i][a]=o})),e}}],n&&Ec(t.prototype,n),r&&Ec(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ol=[],sl={},cl={},ul=Object.keys(cl);function ll(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=sl[e]||[];return a.forEach((function(e){t=e.apply(null,[t].concat(r))})),t}function dl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=sl[e]||[];i.forEach((function(e){e.apply(null,n)}))}function fl(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return cl[e]?cl[e].apply(null,t):void 0}function hl(e){"fa"===e.prefix&&(e.prefix="fas");var t=e.iconName,n=e.prefix||nl();if(t)return t=el(n,t)||t,Lu(pl.definitions,n,t)||Lu(Au.styles,n,t)}var pl=new al,vl={i2svg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return zc?(dl("beforeI2svg",e),fl("pseudoElements2svg",e),fl("i2svg",e)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot;!1===vu.autoReplaceSvg&&(vu.autoReplaceSvg=!0),vu.observeMutations=!0,Du((function(){yl({autoReplaceSvgRoot:t}),dl("watch",e)}))}},ml={icon:function(e){if(null===e)return null;if("object"===Tc(e)&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:el(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&2===e.length){var t=0===e[1].indexOf("fa-")?e[1].slice(3):e[1],n=rl(e[0]);return{prefix:n,iconName:el(n,t)||t}}if("string"===typeof e&&(e.indexOf("".concat(vu.familyPrefix,"-"))>-1||e.match(tu))){var r=il(e.split(" "),{skipLookups:!0});return{prefix:r.prefix||nl(),iconName:el(r.prefix,r.iconName)||r.iconName}}if("string"===typeof e){var i=nl();return{prefix:i,iconName:el(i,e)||e}}}},gl={noAuto:function(){vu.autoReplaceSvg=!1,vu.observeMutations=!1,dl("noAuto")},config:vu,dom:vl,parse:ml,library:pl,findIconDefinition:hl,toHtml:Nu},yl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoReplaceSvgRoot,n=void 0===t?jc:t;(Object.keys(Au.styles).length>0||vu.autoFetchSvg)&&zc&&vu.autoReplaceSvg&&gl.dom.i2svg({node:n})};function kl(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map((function(e){return Nu(e)}))}}),Object.defineProperty(e,"node",{get:function(){if(zc){var t=jc.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function bl(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,a=e.iconName,o=e.transform,s=e.symbol,c=e.title,u=e.maskId,l=e.titleId,d=e.extra,f=e.watchable,h=void 0!==f&&f,p=r.found?r:n,v=p.width,m=p.height,g="fak"===i,y=[vu.replacementClass,a?"".concat(vu.familyPrefix,"-").concat(a):""].filter((function(e){return-1===d.classes.indexOf(e)})).filter((function(e){return""!==e||!!e})).concat(d.classes).join(" "),k={children:[],attributes:Sc(Sc({},d.attributes),{},{"data-prefix":i,"data-icon":a,class:y,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(m)})},b=g&&!~d.classes.indexOf("fa-fw")?{width:"".concat(v/m*16*.0625,"em")}:{};h&&(k.attributes[Hc]=""),c&&(k.children.push({tag:"title",attributes:{id:k.attributes["aria-labelledby"]||"title-".concat(l||ku())},children:[c]}),delete k.attributes.title);var w=Sc(Sc({},k),{},{prefix:i,iconName:a,main:n,mask:r,maskId:u,transform:o,symbol:s,styles:Sc(Sc({},b),d.styles)}),S=r.found&&n.found?fl("generateAbstractMask",w)||{children:[],attributes:{}}:fl("generateAbstractIcon",w)||{children:[],attributes:{}},T=S.children,E=S.attributes;return w.children=T,w.attributes=E,s?function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,a=e.symbol,o=!0===a?"".concat(t,"-").concat(vu.familyPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Sc(Sc({},i),{},{id:o}),children:r}]}]}(w):function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,a=e.styles,o=e.transform;if(Eu(o)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=Tu(Sc(Sc({},a),{},{"transform-origin":"".concat(s.x+o.x/16,"em ").concat(s.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:t}]}(w)}function wl(e){var t=e.content,n=e.width,r=e.height,i=e.transform,a=e.title,o=e.extra,s=e.watchable,c=void 0!==s&&s,u=Sc(Sc(Sc({},o.attributes),a?{title:a}:{}),{},{class:o.classes.join(" ")});c&&(u[Hc]="");var l=Sc({},o.styles);Eu(i)&&(l.transform=function(e){var t=e.transform,n=e.width,r=void 0===n?16:n,i=e.height,a=void 0===i?16:i,o=e.startCentered,s=void 0!==o&&o,c="";return c+=s&&Gc?"translate(".concat(t.x/gu-r/2,"em, ").concat(t.y/gu-a/2,"em) "):s?"translate(calc(-50% + ".concat(t.x/gu,"em), calc(-50% + ").concat(t.y/gu,"em)) "):"translate(".concat(t.x/gu,"em, ").concat(t.y/gu,"em) "),c+="scale(".concat(t.size/gu*(t.flipX?-1:1),", ").concat(t.size/gu*(t.flipY?-1:1),") "),c+"rotate(".concat(t.rotate,"deg) ")}({transform:i,startCentered:!0,width:n,height:r}),l["-webkit-transform"]=l.transform);var d=Tu(l);d.length>0&&(u.style=d);var f=[];return f.push({tag:"span",attributes:u,children:[t]}),a&&f.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),f}function Sl(e){var t=e.content,n=e.title,r=e.extra,i=Sc(Sc(Sc({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=Tu(r.styles);a.length>0&&(i.style=a);var o=[];return o.push({tag:"span",attributes:i,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var Tl=Au.styles;function El(e){var t=e[0],n=e[1],r=Cc(e.slice(4),1)[0];return{found:!0,width:t,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(vu.familyPrefix,"-").concat(cu)},children:[{tag:"path",attributes:{class:"".concat(vu.familyPrefix,"-").concat(du),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(vu.familyPrefix,"-").concat(lu),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}var xl={found:!1,width:512,height:512};function Cl(e,t){var n=t;return"fa"===t&&null!==vu.styleDefault&&(t=nl()),new Promise((function(r,i){fl("missingIconAbstract");if("fa"===n){var a=tl(e)||{};e=a.iconName||e,t=a.prefix||t}if(e&&t&&Tl[t]&&Tl[t][e])return r(El(Tl[t][e]));!function(e,t){Qc||vu.showMissingIcons||!e||console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}(e,t),r(Sc(Sc({},xl),{},{icon:vu.showMissingIcons&&e&&fl("missingIconAbstract")||{}}))}))}var Pl=function(){},Rl=vu.measurePerformance&&Vc&&Vc.mark&&Vc.measure?Vc:{mark:Pl,measure:Pl},_l='FA "6.0.0"',Al=function(e){Rl.mark("".concat(_l," ").concat(e," ends")),Rl.measure("".concat(_l," ").concat(e),"".concat(_l," ").concat(e," begins"),"".concat(_l," ").concat(e," ends"))},Il=function(e){return Rl.mark("".concat(_l," ").concat(e," begins")),function(){return Al(e)}},Ol=function(){};function Dl(e){return"string"===typeof(e.getAttribute?e.getAttribute(Hc):null)}function Nl(e){return jc.createElementNS("http://www.w3.org/2000/svg",e)}function Ll(e){return jc.createElement(e)}function Ml(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ceFn,r=void 0===n?"svg"===e.tag?Nl:Ll:n;if("string"===typeof e)return jc.createTextNode(e);var i=r(e.tag);Object.keys(e.attributes||[]).forEach((function(t){i.setAttribute(t,e.attributes[t])}));var a=e.children||[];return a.forEach((function(e){i.appendChild(Ml(e,{ceFn:r}))})),i}var Ul={replace:function(e){var t=e[0];if(t.parentNode)if(e[1].forEach((function(e){t.parentNode.insertBefore(Ml(e),t)})),null===t.getAttribute(Hc)&&vu.keepOriginalSource){var n=jc.createComment(function(e){var t=" ".concat(e.outerHTML," ");return"".concat(t,"Font Awesome fontawesome.com ")}(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){var t=e[0],n=e[1];if(~wu(t).indexOf(vu.replacementClass))return Ul.replace(e);var r=new RegExp("".concat(vu.familyPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(e,t){return t===vu.replacementClass||t.match(r)?e.toSvg.push(t):e.toNode.push(t),e}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}var a=n.map((function(e){return Nu(e)})).join("\n");t.setAttribute(Hc,""),t.innerHTML=a}};function jl(e){e()}function Fl(e,t){var n="function"===typeof t?t:Ol;if(0===e.length)n();else{var r=jl;"async"===vu.mutateApproach&&(r=Uc.requestAnimationFrame||jl),r((function(){var t=!0===vu.autoReplaceSvg?Ul.replace:Ul[vu.autoReplaceSvg]||Ul.replace,r=Il("mutate");e.map(t),r(),n()}))}}var Vl=!1;function zl(){Vl=!0}function Gl(){Vl=!1}var Bl=null;function Hl(e){if(Fc&&vu.observeMutations){var t=e.treeCallback,n=void 0===t?Ol:t,r=e.nodeCallback,i=void 0===r?Ol:r,a=e.pseudoElementsCallback,o=void 0===a?Ol:a,s=e.observeMutationsRoot,c=void 0===s?jc:s;Bl=new Fc((function(e){if(!Vl){var t=nl();bu(e).forEach((function(e){if("childList"===e.type&&e.addedNodes.length>0&&!Dl(e.addedNodes[0])&&(vu.searchPseudoElements&&o(e.target),n(e.target)),"attributes"===e.type&&e.target.parentNode&&vu.searchPseudoElements&&o(e.target.parentNode),"attributes"===e.type&&Dl(e.target)&&~su.indexOf(e.attributeName))if("class"===e.attributeName&&function(e){var t=e.getAttribute?e.getAttribute(Wc):null,n=e.getAttribute?e.getAttribute(qc):null;return t&&n}(e.target)){var r=il(wu(e.target)),a=r.prefix,s=r.iconName;e.target.setAttribute(Wc,a||t),s&&e.target.setAttribute(qc,s)}else(c=e.target)&&c.classList&&c.classList.contains&&c.classList.contains(vu.replacementClass)&&i(e.target);var c}))}})),zc&&Bl.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Kl(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce((function(e,t){var n=t.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(e[r]=i.join(":").trim()),e}),{})),n}function Wl(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=void 0!==e.innerText?e.innerText.trim():"",i=il(wu(e));return i.prefix||(i.prefix=nl()),t&&n&&(i.prefix=t,i.iconName=n),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=function(e,t){return(Ku[e]||{})[t]}(i.prefix,e.innerText)||Zu(i.prefix,Uu(e.innerText))),i}function ql(e){var t=bu(e.attributes).reduce((function(e,t){return"class"!==e.name&&"style"!==e.name&&(e[t.name]=t.value),e}),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return vu.autoA11y&&(n?t["aria-labelledby"]="".concat(vu.replacementClass,"-title-").concat(r||ku()):(t["aria-hidden"]="true",t.focusable="false")),t}function Jl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=Wl(e),r=n.iconName,i=n.prefix,a=n.rest,o=ql(e),s=ll("parseNodeAttributes",{},e),c=t.styleParser?Kl(e):[];return Sc({iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:i,transform:yu,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:c,attributes:o}},s)}var Yl=Au.styles;function Ql(e){var t="nest"===vu.autoReplaceSvg?Jl(e,{styleParser:!1}):Jl(e);return~t.extra.classes.indexOf(nu)?fl("generateLayersText",e,t):fl("generateSvgReplacementMutation",e,t)}function $l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!zc)return Promise.resolve();var n=jc.documentElement.classList,r=function(e){return n.add("".concat(Jc,"-").concat(e))},i=function(e){return n.remove("".concat(Jc,"-").concat(e))},a=vu.autoFetchSvg?Object.keys($c):Object.keys(Yl),o=[".".concat(nu,":not([").concat(Hc,"])")].concat(a.map((function(e){return".".concat(e,":not([").concat(Hc,"])")}))).join(", ");if(0===o.length)return Promise.resolve();var s=[];try{s=bu(e.querySelectorAll(o))}catch(Qd){}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");var c=Il("onTree"),u=s.reduce((function(e,t){try{var n=Ql(t);n&&e.push(n)}catch(Qd){Qc||"MissingIcon"===Qd.name&&console.error(Qd)}return e}),[]);return new Promise((function(e,n){Promise.all(u).then((function(n){Fl(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof t&&t(),c(),e()}))})).catch((function(e){c(),n(e)}))}))}function Xl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Ql(e).then((function(e){e&&Fl([e],t)}))}var Zl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?yu:n,i=t.symbol,a=void 0!==i&&i,o=t.mask,s=void 0===o?null:o,c=t.maskId,u=void 0===c?null:c,l=t.title,d=void 0===l?null:l,f=t.titleId,h=void 0===f?null:f,p=t.classes,v=void 0===p?[]:p,m=t.attributes,g=void 0===m?{}:m,y=t.styles,k=void 0===y?{}:y;if(e){var b=e.prefix,w=e.iconName,S=e.icon;return kl(Sc({type:"icon"},e),(function(){return dl("beforeDOMElementCreation",{iconDefinition:e,params:t}),vu.autoA11y&&(d?g["aria-labelledby"]="".concat(vu.replacementClass,"-title-").concat(h||ku()):(g["aria-hidden"]="true",g.focusable="false")),bl({icons:{main:El(S),mask:s?El(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:b,iconName:w,transform:Sc(Sc({},yu),r),symbol:a,title:d,maskId:u,titleId:h,extra:{attributes:g,styles:k,classes:v}})}))}},ed={mixout:function(){return{icon:(e=Zl,function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:hl(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:hl(i||{})),e(r,Sc(Sc({},n),{},{mask:i}))})};var e},hooks:function(){return{mutationObserverCallbacks:function(e){return e.treeCallback=$l,e.nodeCallback=Xl,e}}},provides:function(e){e.i2svg=function(e){var t=e.node,n=void 0===t?jc:t,r=e.callback;return $l(n,void 0===r?function(){}:r)},e.generateSvgReplacementMutation=function(e,t){var n=t.iconName,r=t.title,i=t.titleId,a=t.prefix,o=t.transform,s=t.symbol,c=t.mask,u=t.maskId,l=t.extra;return new Promise((function(t,d){Promise.all([Cl(n,a),c.iconName?Cl(c.iconName,c.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(c){var d=Cc(c,2),f=d[0],h=d[1];t([e,bl({icons:{main:f,mask:h},prefix:a,iconName:n,transform:o,symbol:s,maskId:u,title:r,titleId:i,extra:l,watchable:!0})])})).catch(d)}))},e.generateAbstractIcon=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.transform,o=Tu(e.styles);return o.length>0&&(r.style=o),Eu(a)&&(t=fl("generateAbstractTransformGrouping",{main:i,transform:a,containerWidth:i.width,iconWidth:i.width})),n.push(t||i.icon),{children:n,attributes:r}}}},td={mixout:function(){return{layer:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.classes,r=void 0===n?[]:n;return kl({type:"layer"},(function(){dl("beforeDOMElementCreation",{assembler:e,params:t});var n=[];return e((function(e){Array.isArray(e)?e.map((function(e){n=n.concat(e.abstract)})):n=n.concat(e.abstract)})),[{tag:"span",attributes:{class:["".concat(vu.familyPrefix,"-layers")].concat(Pc(r)).join(" ")},children:n}]}))}}}},nd={mixout:function(){return{counter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.title,r=void 0===n?null:n,i=t.classes,a=void 0===i?[]:i,o=t.attributes,s=void 0===o?{}:o,c=t.styles,u=void 0===c?{}:c;return kl({type:"counter",content:e},(function(){return dl("beforeDOMElementCreation",{content:e,params:t}),Sl({content:e.toString(),title:r,extra:{attributes:s,styles:u,classes:["".concat(vu.familyPrefix,"-layers-counter")].concat(Pc(a))}})}))}}}},rd={mixout:function(){return{text:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?yu:n,i=t.title,a=void 0===i?null:i,o=t.classes,s=void 0===o?[]:o,c=t.attributes,u=void 0===c?{}:c,l=t.styles,d=void 0===l?{}:l;return kl({type:"text",content:e},(function(){return dl("beforeDOMElementCreation",{content:e,params:t}),wl({content:e,transform:Sc(Sc({},yu),r),title:a,extra:{attributes:u,styles:d,classes:["".concat(vu.familyPrefix,"-layers-text")].concat(Pc(s))}})}))}}},provides:function(e){e.generateLayersText=function(e,t){var n=t.title,r=t.transform,i=t.extra,a=null,o=null;if(Gc){var s=parseInt(getComputedStyle(e).fontSize,10),c=e.getBoundingClientRect();a=c.width/s,o=c.height/s}return vu.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([e,wl({content:e.innerHTML,width:a,height:o,transform:r,title:n,extra:i,watchable:!0})])}}},id=new RegExp('"',"ug"),ad=[1105920,1112319];function od(e,t){var n="".concat("data-fa-pseudo-element-pending").concat(t.replace(":","-"));return new Promise((function(r,i){if(null!==e.getAttribute(n))return r();var a=bu(e.children).filter((function(e){return e.getAttribute(Kc)===t}))[0],o=Uc.getComputedStyle(e,t),s=o.getPropertyValue("font-family").match(ru),c=o.getPropertyValue("font-weight"),u=o.getPropertyValue("content");if(a&&!s)return e.removeChild(a),r();if(s&&"none"!==u&&""!==u){var l=o.getPropertyValue("content"),d=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(s[2])?Xc[s[2].toLowerCase()]:iu[c],f=function(e){var t=e.replace(id,""),n=function(e,t){var n,r=e.length,i=e.charCodeAt(t);return i>=55296&&i<=56319&&r>t+1&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}(t,0),r=n>=ad[0]&&n<=ad[1],i=2===t.length&&t[0]===t[1];return{value:Uu(i?t[0]:t),isSecondary:r||i}}(l),h=f.value,p=f.isSecondary,v=s[0].startsWith("FontAwesome"),m=Zu(d,h),g=m;if(v){var y=function(e){var t=qu[e],n=Zu("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}(h);y.iconName&&y.prefix&&(m=y.iconName,d=y.prefix)}if(!m||p||a&&a.getAttribute(Wc)===d&&a.getAttribute(qc)===g)r();else{e.setAttribute(n,g),a&&e.removeChild(a);var k={iconName:null,title:null,titleId:null,prefix:null,transform:yu,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}},b=k.extra;b.attributes[Kc]=t,Cl(m,d).then((function(i){var a=bl(Sc(Sc({},k),{},{icons:{main:i,mask:{prefix:null,iconName:null,rest:[]}},prefix:d,iconName:g,extra:b,watchable:!0})),o=jc.createElement("svg");"::before"===t?e.insertBefore(o,e.firstChild):e.appendChild(o),o.outerHTML=a.map((function(e){return Nu(e)})).join("\n"),e.removeAttribute(n),r()})).catch(i)}}else r()}))}function sd(e){return Promise.all([od(e,"::before"),od(e,"::after")])}function cd(e){return e.parentNode!==document.head&&!~Yc.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Kc)&&(!e.parentNode||"svg"!==e.parentNode.tagName)}function ud(e){if(zc)return new Promise((function(t,n){var r=bu(e.querySelectorAll("*")).filter(cd).map(sd),i=Il("searchPseudoElements");zl(),Promise.all(r).then((function(){i(),Gl(),t()})).catch((function(){i(),Gl(),n()}))}))}var ld=!1,dd=function(e){return e.toLowerCase().split(" ").reduce((function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e}),{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0})},fd={mixout:function(){return{parse:{transform:function(e){return dd(e)}}}},hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-transform");return n&&(e.transform=dd(n)),e}}},provides:function(e){e.generateAbstractTransformGrouping=function(e){var t=e.main,n=e.transform,r=e.containerWidth,i=e.iconWidth,a={transform:"translate(".concat(r/2," 256)")},o="translate(".concat(32*n.x,", ").concat(32*n.y,") "),s="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),c="rotate(".concat(n.rotate," 0 0)"),u={outer:a,inner:{transform:"".concat(o," ").concat(s," ").concat(c)},path:{transform:"translate(".concat(i/2*-1," -256)")}};return{tag:"g",attributes:Sc({},u.outer),children:[{tag:"g",attributes:Sc({},u.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:Sc(Sc({},t.icon.attributes),u.path)}]}]}}}},hd={x:0,y:0,width:"100%",height:"100%"};function pd(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}var vd={hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-mask"),r=n?il(n.split(" ").map((function(e){return e.trim()}))):{prefix:null,iconName:null,rest:[]};return r.prefix||(r.prefix=nl()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides:function(e){e.generateAbstractMask=function(e){var t,n=e.children,r=e.attributes,i=e.main,a=e.mask,o=e.maskId,s=e.transform,c=i.width,u=i.icon,l=a.width,d=a.icon,f=function(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth,i={transform:"translate(".concat(n/2," 256)")},a="translate(".concat(32*t.x,", ").concat(32*t.y,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(a," ").concat(o," ").concat(s)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:s,containerWidth:l,iconWidth:c}),h={tag:"rect",attributes:Sc(Sc({},hd),{},{fill:"white"})},p=u.children?{children:u.children.map(pd)}:{},v={tag:"g",attributes:Sc({},f.inner),children:[pd(Sc({tag:u.tag,attributes:Sc(Sc({},u.attributes),f.path)},p))]},m={tag:"g",attributes:Sc({},f.outer),children:[v]},g="mask-".concat(o||ku()),y="clip-".concat(o||ku()),k={tag:"mask",attributes:Sc(Sc({},hd),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,m]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:(t=d,"g"===t.tag?t.children:[t])},k]};return n.push(b,{tag:"rect",attributes:Sc({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(g,")")},hd)}),{children:n,attributes:r}}}},md={provides:function(e){var t=!1;Uc.matchMedia&&(t=Uc.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){var e=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};e.push({tag:"path",attributes:Sc(Sc({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var i=Sc(Sc({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:Sc(Sc({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||a.children.push({tag:"animate",attributes:Sc(Sc({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Sc(Sc({},i),{},{values:"1;0;1;1;0;1;"})}),e.push(a),e.push({tag:"path",attributes:Sc(Sc({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:Sc(Sc({},i),{},{values:"1;0;0;0;0;1;"})}]}),t||e.push({tag:"path",attributes:Sc(Sc({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Sc(Sc({},i),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:e}}}};!function(e,t){var n=t.mixoutsTo;ol=e,sl={},Object.keys(cl).forEach((function(e){-1===ul.indexOf(e)&&delete cl[e]})),ol.forEach((function(e){var t=e.mixout?e.mixout():{};if(Object.keys(t).forEach((function(e){"function"===typeof t[e]&&(n[e]=t[e]),"object"===Tc(t[e])&&Object.keys(t[e]).forEach((function(r){n[e]||(n[e]={}),n[e][r]=t[e][r]}))})),e.hooks){var r=e.hooks();Object.keys(r).forEach((function(e){sl[e]||(sl[e]=[]),sl[e].push(r[e])}))}e.provides&&e.provides(cl)}))}([Ru,ed,td,nd,rd,{hooks:function(){return{mutationObserverCallbacks:function(e){return e.pseudoElementsCallback=ud,e}}},provides:function(e){e.pseudoElements2svg=function(e){var t=e.node,n=void 0===t?jc:t;vu.searchPseudoElements&&ud(n)}}},{mixout:function(){return{dom:{unwatch:function(){zl(),ld=!0}}}},hooks:function(){return{bootstrap:function(){Hl(ll("mutationObserverCallbacks",{}))},noAuto:function(){Bl&&Bl.disconnect()},watch:function(e){var t=e.observeMutationsRoot;ld?Gl():Hl(ll("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}},fd,vd,md,{hooks:function(){return{parseNodeAttributes:function(e,t){var n=t.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return e.symbol=r,e}}}}],{mixoutsTo:gl});var gd=gl.parse,yd=gl.icon,kd=n(7),bd=n.n(kd);function wd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wd(Object(n),!0).forEach((function(t){Ed(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Td(e){return Td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Td(e)}function Ed(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xd(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cd(e){return function(e){if(Array.isArray(e))return Pd(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Pd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pd(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rd(e){return t=e,(t-=0)===t?e:(e=e.replace(/[\-_\s]+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))).substr(0,1).toLowerCase()+e.substr(1);var t}var _d=["style"];function Ad(e){return e.split(";").map((function(e){return e.trim()})).filter((function(e){return e})).reduce((function(e,t){var n,r=t.indexOf(":"),i=Rd(t.slice(0,r)),a=t.slice(r+1).trim();return i.startsWith("webkit")?e[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=a:e[i]=a,e}),{})}var Id=!1;try{Id=!0}catch(Qd){}function Od(e){return e&&"object"===Td(e)&&e.prefix&&e.iconName&&e.icon?e:gd.icon?gd.icon(e):null===e?null:e&&"object"===Td(e)&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"===typeof e?{prefix:"fas",iconName:e}:void 0}function Dd(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Ed({},e,t):{}}var Nd=["forwardedRef"];function Ld(e){var t=e.forwardedRef,n=xd(e,Nd),r=n.icon,i=n.mask,a=n.symbol,o=n.className,s=n.title,c=n.titleId,u=Od(r),l=Dd("classes",[].concat(Cd(function(e){var t,n=e.beat,r=e.fade,i=e.flash,a=e.spin,o=e.spinPulse,s=e.spinReverse,c=e.pulse,u=e.fixedWidth,l=e.inverse,d=e.border,f=e.listItem,h=e.flip,p=e.size,v=e.rotation,m=e.pull,g=(Ed(t={"fa-beat":n,"fa-fade":r,"fa-flash":i,"fa-spin":a,"fa-spin-reverse":s,"fa-spin-pulse":o,"fa-pulse":c,"fa-fw":u,"fa-inverse":l,"fa-border":d,"fa-li":f,"fa-flip-horizontal":"horizontal"===h||"both"===h,"fa-flip-vertical":"vertical"===h||"both"===h},"fa-".concat(p),"undefined"!==typeof p&&null!==p),Ed(t,"fa-rotate-".concat(v),"undefined"!==typeof v&&null!==v&&0!==v),Ed(t,"fa-pull-".concat(m),"undefined"!==typeof m&&null!==m),Ed(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(g).map((function(e){return g[e]?e:null})).filter((function(e){return e}))}(n)),Cd(o.split(" ")))),d=Dd("transform","string"===typeof n.transform?gd.transform(n.transform):n.transform),f=Dd("mask",Od(i)),h=yd(u,Sd(Sd(Sd(Sd({},l),d),f),{},{symbol:a,title:s,titleId:c}));if(!h)return function(){var e;!Id&&console&&"function"===typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",u),null;var p=h.abstract,v={ref:t};return Object.keys(n).forEach((function(e){Ld.defaultProps.hasOwnProperty(e)||(v[e]=n[e])})),Md(p[0],v)}Ld.displayName="FontAwesomeIcon",Ld.propTypes={beat:bd().bool,border:bd().bool,className:bd().string,fade:bd().bool,flash:bd().bool,mask:bd().oneOfType([bd().object,bd().array,bd().string]),fixedWidth:bd().bool,inverse:bd().bool,flip:bd().oneOf(["horizontal","vertical","both"]),icon:bd().oneOfType([bd().object,bd().array,bd().string]),listItem:bd().bool,pull:bd().oneOf(["right","left"]),pulse:bd().bool,rotation:bd().oneOf([0,90,180,270]),size:bd().oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:bd().bool,spinPulse:bd().bool,spinReverse:bd().bool,symbol:bd().oneOfType([bd().bool,bd().string]),title:bd().string,transform:bd().oneOfType([bd().string,bd().object]),swapOpacity:bd().bool},Ld.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var Md=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"===typeof n)return n;var i=(n.children||[]).map((function(n){return e(t,n)})),a=Object.keys(n.attributes||{}).reduce((function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=Ad(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[Rd(t)]=r}return e}),{attrs:{}}),o=r.style,s=void 0===o?{}:o,c=xd(r,_d);return a.attrs.style=Sd(Sd({},a.attrs.style),s),t.apply(void 0,[n.tag,Sd(Sd({},a.attrs),c)].concat(Cd(i)))}.bind(null,a.createElement),Ud={prefix:"fas",iconName:"arrow-up-right-from-square",icon:[512,512,["external-link"],"f08e","M384 320c-17.67 0-32 14.33-32 32v96H64V160h96c17.67 0 32-14.32 32-32s-14.33-32-32-32L64 96c-35.35 0-64 28.65-64 64V448c0 35.34 28.65 64 64 64h288c35.35 0 64-28.66 64-64v-96C416 334.3 401.7 320 384 320zM502.6 9.367C496.8 3.578 488.8 0 480 0h-160c-17.67 0-31.1 14.32-31.1 31.1c0 17.67 14.32 31.1 31.99 31.1h82.75L178.7 290.7c-12.5 12.5-12.5 32.76 0 45.26C191.2 348.5 211.5 348.5 224 336l224-226.8V192c0 17.67 14.33 31.1 31.1 31.1S512 209.7 512 192V31.1C512 23.16 508.4 15.16 502.6 9.367z"]},jd={prefix:"fas",iconName:"ellipsis",icon:[448,512,["ellipsis-h"],"f141","M120 256C120 286.9 94.93 312 64 312C33.07 312 8 286.9 8 256C8 225.1 33.07 200 64 200C94.93 200 120 225.1 120 256zM280 256C280 286.9 254.9 312 224 312C193.1 312 168 286.9 168 256C168 225.1 193.1 200 224 200C254.9 200 280 225.1 280 256zM328 256C328 225.1 353.1 200 384 200C414.9 200 440 225.1 440 256C440 286.9 414.9 312 384 312C353.1 312 328 286.9 328 256z"]},Fd={prefix:"fas",iconName:"face-smile",icon:[512,512,[128578,"smile"],"f118","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM164.1 325.5C158.3 318.8 148.2 318.1 141.5 323.9C134.8 329.7 134.1 339.8 139.9 346.5C162.1 372.1 200.9 400 255.1 400C311.1 400 349.8 372.1 372.1 346.5C377.9 339.8 377.2 329.7 370.5 323.9C363.8 318.1 353.7 318.8 347.9 325.5C329.9 346.2 299.4 368 255.1 368C212.6 368 182 346.2 164.1 325.5H164.1zM176.4 176C158.7 176 144.4 190.3 144.4 208C144.4 225.7 158.7 240 176.4 240C194 240 208.4 225.7 208.4 208C208.4 190.3 194 176 176.4 176zM336.4 240C354 240 368.4 225.7 368.4 208C368.4 190.3 354 176 336.4 176C318.7 176 304.4 190.3 304.4 208C304.4 225.7 318.7 240 336.4 240z"]},Vd={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6C499.2 175.2 496.4 184.9 489.6 191.2L446.3 230.6C447.4 238.9 448 247.4 448 256C448 264.6 447.4 273.1 446.3 281.4L489.6 320.8C496.4 327.1 499.2 336.8 495.9 345.4C491.5 357.3 486.2 368.8 480.2 379.7L475.5 387.8C468.9 398.8 461.5 409.2 453.4 419.1C447.4 426.2 437.7 428.7 428.9 425.9L373.2 408.1C359.8 418.4 344.1 427 329.2 433.6L316.7 490.7C314.7 499.7 307.7 506.1 298.5 508.5C284.7 510.8 270.5 512 255.1 512C241.5 512 227.3 510.8 213.5 508.5C204.3 506.1 197.3 499.7 195.3 490.7L182.8 433.6C167 427 152.2 418.4 138.8 408.1L83.14 425.9C74.3 428.7 64.55 426.2 58.63 419.1C50.52 409.2 43.12 398.8 36.52 387.8L31.84 379.7C25.77 368.8 20.49 357.3 16.06 345.4C12.82 336.8 15.55 327.1 22.41 320.8L65.67 281.4C64.57 273.1 64 264.6 64 256C64 247.4 64.57 238.9 65.67 230.6L22.41 191.2C15.55 184.9 12.82 175.3 16.06 166.6C20.49 154.7 25.78 143.2 31.84 132.3L36.51 124.2C43.12 113.2 50.52 102.8 58.63 92.95C64.55 85.8 74.3 83.32 83.14 86.14L138.8 103.9C152.2 93.56 167 84.96 182.8 78.43L195.3 21.33C197.3 12.25 204.3 5.04 213.5 3.51C227.3 1.201 241.5 0 256 0C270.5 0 284.7 1.201 298.5 3.51C307.7 5.04 314.7 12.25 316.7 21.33L329.2 78.43C344.1 84.96 359.8 93.56 373.2 103.9L428.9 86.14C437.7 83.32 447.4 85.8 453.4 92.95C461.5 102.8 468.9 113.2 475.5 124.2L480.2 132.3C486.2 143.2 491.5 154.7 495.9 166.6V166.6zM256 336C300.2 336 336 300.2 336 255.1C336 211.8 300.2 175.1 256 175.1C211.8 175.1 176 211.8 176 255.1C176 300.2 211.8 336 256 336z"]},zd={prefix:"fas",iconName:"message",icon:[512,512,["comment-alt"],"f27a","M511.1 63.1v287.1c0 35.25-28.75 63.1-64 63.1h-144l-124.9 93.68c-7.875 5.75-19.12 .0497-19.12-9.7v-83.98h-96c-35.25 0-64-28.75-64-63.1V63.1c0-35.25 28.75-63.1 64-63.1h384C483.2 0 511.1 28.75 511.1 63.1z"]},Gd={prefix:"fas",iconName:"microphone",icon:[384,512,[],"f130","M192 352c53.03 0 96-42.97 96-96v-160c0-53.03-42.97-96-96-96s-96 42.97-96 96v160C96 309 138.1 352 192 352zM344 192C330.7 192 320 202.7 320 215.1V256c0 73.33-61.97 132.4-136.3 127.7c-66.08-4.169-119.7-66.59-119.7-132.8L64 215.1C64 202.7 53.25 192 40 192S16 202.7 16 215.1v32.15c0 89.66 63.97 169.6 152 181.7V464H128c-18.19 0-32.84 15.18-31.96 33.57C96.43 505.8 103.8 512 112 512h160c8.222 0 15.57-6.216 15.96-14.43C288.8 479.2 274.2 464 256 464h-40v-33.77C301.7 418.5 368 344.9 368 256V215.1C368 202.7 357.3 192 344 192z"]},Bd={prefix:"fas",iconName:"microphone-slash",icon:[640,512,[],"f131","M383.1 464l-39.1-.0001v-33.77c20.6-2.824 39.98-9.402 57.69-18.72l-43.26-33.91c-14.66 4.65-30.28 7.179-46.68 6.144C245.7 379.6 191.1 317.1 191.1 250.9V247.2L143.1 209.5l.0001 38.61c0 89.65 63.97 169.6 151.1 181.7v34.15l-40 .0001c-17.67 0-31.1 14.33-31.1 31.1C223.1 504.8 231.2 512 239.1 512h159.1c8.838 0 15.1-7.164 15.1-15.1C415.1 478.3 401.7 464 383.1 464zM630.8 469.1l-159.3-124.9c15.37-25.94 24.53-55.91 24.53-88.21V216c0-13.25-10.75-24-23.1-24c-13.25 0-24 10.75-24 24l-.0001 39.1c0 21.12-5.559 40.77-14.77 58.24l-25.72-20.16c5.234-11.68 8.493-24.42 8.493-38.08l-.001-155.1c0-52.57-40.52-98.41-93.07-99.97c-54.37-1.617-98.93 41.95-98.93 95.95l0 54.25L38.81 5.111C34.41 1.673 29.19 0 24.03 0C16.91 0 9.839 3.158 5.12 9.189c-8.187 10.44-6.37 25.53 4.068 33.7l591.1 463.1c10.5 8.203 25.57 6.328 33.69-4.078C643.1 492.4 641.2 477.3 630.8 469.1z"]},Hd={prefix:"fas",iconName:"user-plus",icon:[640,512,[],"f234","M224 256c70.7 0 128-57.31 128-128S294.7 0 224 0C153.3 0 96 57.31 96 128S153.3 256 224 256zM274.7 304H173.3C77.61 304 0 381.6 0 477.3C0 496.5 15.52 512 34.66 512h378.7C432.5 512 448 496.5 448 477.3C448 381.6 370.4 304 274.7 304zM616 200h-48v-48C568 138.8 557.3 128 544 128s-24 10.75-24 24v48h-48C458.8 200 448 210.8 448 224s10.75 24 24 24h48v48C520 309.3 530.8 320 544 320s24-10.75 24-24v-48h48C629.3 248 640 237.3 640 224S629.3 200 616 200z"]},Kd={prefix:"fas",iconName:"video",icon:[576,512,["video-camera"],"f03d","M384 112v288c0 26.51-21.49 48-48 48h-288c-26.51 0-48-21.49-48-48v-288c0-26.51 21.49-48 48-48h288C362.5 64 384 85.49 384 112zM576 127.5v256.9c0 25.5-29.17 40.39-50.39 25.79L416 334.7V177.3l109.6-75.56C546.9 87.13 576 102.1 576 127.5z"]},Wd={prefix:"fas",iconName:"video-slash",icon:[640,512,[],"f4e2","M32 399.1c0 26.51 21.49 47.1 47.1 47.1h287.1c19.57 0 36.34-11.75 43.81-28.56L32 121.8L32 399.1zM630.8 469.1l-89.21-69.92l15.99 11.02c21.22 14.59 50.41-.2971 50.41-25.8V127.5c0-25.41-29.07-40.37-50.39-25.76l-109.6 75.56l.0001 148.5l-32-25.08l.0001-188.7c0-26.51-21.49-47.1-47.1-47.1H113.9L38.81 5.111C34.41 1.673 29.19 0 24.03 0C16.91 0 9.84 3.158 5.121 9.189C-3.066 19.63-1.249 34.72 9.189 42.89l591.1 463.1c10.5 8.203 25.57 6.328 33.69-4.078C643.1 492.4 641.2 477.3 630.8 469.1z"]};var qd=function(){var e=lc(ho).length,t=lc(fo),n=dc(),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fc,t=lc(wo),n=lc(So),r=lc(us),i=dc(),o=(0,a.useCallback)((function(){return rc(void 0,null,p().mark((function n(){return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,i.setLocalAudioEnabled(!t);case 3:n.next=8;break;case 5:n.prev=5,n.t0=n.catch(0),e(n.t0,"toggleAudio");case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))}),[i,t,e]),s=(0,a.useCallback)((function(){return rc(void 0,null,p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.setLocalVideoEnabled(!n);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),e(t.t0,"toggleVideo");case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))}),[i,n,e]);return{isLocalAudioEnabled:t,isLocalVideoEnabled:n,toggleAudio:(null==r?void 0:r.audio)?o:void 0,toggleVideo:(null==r?void 0:r.video)?s:void 0}}(),i=r.isLocalAudioEnabled,o=r.isLocalVideoEnabled,s=r.toggleAudio,c=r.toggleVideo;return(0,gc.jsxs)("div",{className:"main_control",children:[(0,gc.jsxs)("div",{className:"main_controls_section",children:[(0,gc.jsx)("div",{className:"main_controls_button",onClick:s,children:i?(0,gc.jsxs)(gc.Fragment,{children:[(0,gc.jsx)(Ld,{icon:Gd,size:"lg"}),(0,gc.jsx)("span",{className:"button_name",children:"Mute"})]}):(0,gc.jsxs)(gc.Fragment,{children:[(0,gc.jsx)(Ld,{icon:Bd,size:"lg"}),(0,gc.jsx)("span",{className:"button_name",children:"Unmute"})]})}),(0,gc.jsx)("div",{className:"main_controls_button",onClick:c,children:o?(0,gc.jsxs)(gc.Fragment,{children:[(0,gc.jsx)(Ld,{icon:Kd,size:"lg"}),(0,gc.jsx)("span",{className:"button_name",children:"Stop Video"})]}):(0,gc.jsxs)(gc.Fragment,{children:[(0,gc.jsx)(Ld,{icon:Wd,size:"lg"}),(0,gc.jsx)("span",{className:"button_name",children:"Start Video"})]})})]}),(0,gc.jsxs)("div",{className:"main_controls_section",children:[(0,gc.jsxs)("div",{className:"main_controls_button",children:[(0,gc.jsxs)("div",{children:[(0,gc.jsx)(Ld,{icon:Hd,size:"lg"}),(0,gc.jsx)(gc.Fragment,{children:e})]}),(0,gc.jsx)("span",{className:"button_name",children:"Participants"})]}),(0,gc.jsxs)("div",{className:"main_controls_button",children:[(0,gc.jsx)(Ld,{icon:Ud,size:"lg",color:""}),(0,gc.jsx)("span",{className:"button_name",children:"Share Screen"})]}),(0,gc.jsxs)("div",{className:"main_controls_button",children:[(0,gc.jsx)(Ld,{icon:zd,size:"lg"}),(0,gc.jsx)("span",{className:"button_name",children:"Chat"})]}),(0,gc.jsxs)("div",{className:"main_controls_button",children:[(0,gc.jsx)(Ld,{icon:Fd,size:"lg"}),(0,gc.jsx)("span",{className:"button_name",children:"Reactions"})]}),(0,gc.jsxs)("div",{className:"main_controls_button",children:[(0,gc.jsx)(Ld,{icon:Vd,size:"lg"}),(0,gc.jsx)("span",{className:"button_name",children:"Settings"})]}),(0,gc.jsxs)("div",{className:"main_controls_button",children:[(0,gc.jsx)(Ld,{icon:jd,size:"lg"}),(0,gc.jsx)("span",{className:"button_name",children:"More"})]})]}),(0,gc.jsx)("div",{className:"main_controls_section",children:(0,gc.jsx)("div",{className:"main_controls_button",children:t&&(0,gc.jsx)("button",{id:"leave-btn",class:"btn-danger",onClick:function(){return n.leave()},children:"Leave"})})})]})};var Jd=function(){var e=lc(fo),t=dc();return(0,a.useEffect)((function(){window.onunload=function(){e&&t.leave()}}),[t,e]),(0,gc.jsx)("div",{className:"App",children:e?(0,gc.jsxs)(gc.Fragment,{children:[(0,gc.jsx)(bc,{}),(0,gc.jsx)(qd,{})]}):(0,gc.jsx)(yc,{})})},Yd=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};o.render((0,gc.jsx)(a.StrictMode,{children:(0,gc.jsx)(uc,{children:(0,gc.jsx)(Jd,{})})}),document.getElementById("root")),Yd()}()}();
//# sourceMappingURL=main.13619d4c.js.map